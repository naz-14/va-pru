(this.webpackJsonpneosuite=this.webpackJsonpneosuite||[]).push([[0],{216:function(e,t,a){},350:function(e,t,a){"use strict";a.r(t);var r,n,s,c,i,o,l,d,u,m,b,j,p,O,v,h,f,g=a(1),x=a.n(g),y=a(38),N=a.n(y),I=a(4),_=a(361),w=Object(g.createContext)(),S=a(10),B="[auth] login",C="[auth] logout",k=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case B:return sessionStorage.setItem("user",JSON.stringify(t.payload)),Object(S.a)(Object(S.a)({},t.payload),{},{logged:!0});case C:return{logged:!1};default:return{state:e}}},P=a(12),E=a(6),$=a.n(E),A=a(16),T=a(21),q=(a(216),a.p+"static/media/vinos-america-logo-01.9362df42.svg"),D=a.p+"static/media/load.03efd336.svg",U=a(0),Q=function(){return Object(U.jsx)("div",{className:"container-loading",children:Object(U.jsxs)("div",{className:"section-loading",children:[Object(U.jsx)("img",{src:q,className:"img-logo-full",alt:"iconapp"}),Object(U.jsx)("img",{src:D,alt:"loading"})]})})},R=a(30),L=a(37),M=a.n(L),F=a(358),z=a.p+"static/media/avatar-default.d04e51c6.svg",G=function(e){var t=e.to,a=void 0===t?"/":t,r=e.label,n=void 0===r?"Label":r,s=e.icon,c=void 0===s?"fas-fa-circle":s,i=e.multiLevel,o=void 0!==i&&i,l=e.id,d=Object(T.h)(),u=Object(g.useState)(!1),m=Object(I.a)(u,2),b=m[0],j=m[1];return o?Object(U.jsx)(U.Fragment,{children:Object(U.jsxs)("li",{className:"nav-item",onClick:function(){j(!b)},children:[Object(U.jsxs)("a",{href:"#Submenu".concat(l),"data-toggle":"collapse","aria-expanded":null!==d&&void 0!==d&&d.pathname.includes(a)?"true":"false",className:"nav-link ".concat(null!==d&&void 0!==d&&d.pathname.includes(a)?"active":""),children:[Object(U.jsx)("i",{className:"nav-icon ".concat(c)}),Object(U.jsxs)("p",{children:[n,Object(U.jsx)("i",{className:b?"right fas fa-angle-right toggle-up":"right fas fa-angle-right toggle-down"})]})]}),Object(U.jsx)("ul",{className:"list-unstyled nav-item-list ".concat(null!==d&&void 0!==d&&d.pathname.includes(a)?"collapse show":"collapse"),id:"Submenu".concat(l),children:o.map((function(e,t){return Object(U.jsx)("li",{className:"nav-item",children:Object(U.jsxs)(A.c,{exact:!0,to:null===e||void 0===e?void 0:e.to,className:"nav-link",activeClassName:"active",children:[Object(U.jsx)("i",{className:"".concat(e.icon," nav-icon")}),Object(U.jsxs)("p",{children:[null===e||void 0===e?void 0:e.label,(null===e||void 0===e?void 0:e.badge)>0&&Object(U.jsx)("span",{className:"badge badge-color right",children:null===e||void 0===e?void 0:e.badge})]})]})},t)}))})]})}):Object(U.jsx)("li",{className:"nav-item",children:Object(U.jsxs)(A.c,{exact:!0,to:a,className:"nav-link ".concat((null===d||void 0===d?void 0:d.pathname.includes(a))&&"active"),activeClassName:"active",children:[Object(U.jsx)("i",{className:"nav-icon ".concat(c)}),Object(U.jsx)("p",{children:n})]})})},V=a(24),H=a.n(V),J=function(){var e=Object(P.a)($.a.mark((function e(t){var a,r,n;return $.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:a=t.message,r=t.mode,n=H.a.mixin({toast:!0,position:"top-end",showConfirmButton:!1,timer:3e3,timerProgressBar:!0,didOpen:function(e){e.addEventListener("mouseenter",H.a.stopTimer),e.addEventListener("mouseleave",H.a.resumeTimer)}}),e.t0=r,e.next="ok"===e.t0?5:"error"===e.t0?6:"okModal"===e.t0?7:"errorModal"===e.t0?9:11;break;case 5:return e.abrupt("return",n.fire({icon:"success",title:"".concat(a)}));case 6:return e.abrupt("return",n.fire({icon:"error",title:"".concat(a)}));case 7:return H.a.fire({title:"Bien",text:a,icon:"success",customClass:{confirmButton:"btn btn-sm btn-accept"},buttonsStyling:!1,allowOutsideClick:!1}),e.abrupt("break",11);case 9:return H.a.fire({title:"Error",text:a,icon:"error",allowOutsideClick:!1,confirmButtonText:'<i class="fas fa-check"> Aceptar</i>',buttonsStyling:!1,customClass:{confirmButton:"btn btn-sm btn-accept"}}),e.abrupt("break",11);case 11:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),W=a(8),Z=a(70),Y=Object(Z.d)(r||(r=Object(W.a)(["\n  query GetAllCounters {\n    getAllCounters {\n      pendings\n      processing\n      billing\n      toSupply\n      collect\n      route\n      localShipping\n      nationalShipping\n      complete\n      rejected\n    }\n  }\n"]))),K=function(e){var t=e.prefixIcon,a=void 0===t?"fas fa-":t,r=e.user,n=void 0===r?"User":r,s=e.iconApp,c=e.logoIcon,i=e.avatar,o=void 0===i?z:i,l=e.modules,d=void 0===l?[]:l,u=Object(g.useState)([]),m=Object(I.a)(u,2),b=m[0],j=m[1],p=Object(g.useState)([]),O=Object(I.a)(p,2),v=O[0],h=O[1],f=Object(F.a)(Y),x=f.data,y=f.loading,N=f.error;return Object(g.useEffect)((function(){var e=[];d.map((function(t){var a=t;if(t.submodule_info<=0){var r,n,s,c;if(!a.module_info.relative_link.includes("?")&&null!==a&&void 0!==a&&a.access_read&&"UserProfileMain"!==(null===t||void 0===t?void 0:t.module_info.name))e.push({name:null===(r=a.module_info)||void 0===r?void 0:r.name,label:null===(n=a.module_info)||void 0===n?void 0:n.front_label,link:null===(s=a.module_info)||void 0===s?void 0:s.relative_link,icon:null===(c=a.module_info)||void 0===c?void 0:c.icon,submodule:null})}else{var i,o,l,u,m=e.find((function(e){return e.name===a.module_info.name})),b=[];if(d.map((function(e){var t,r,n,s,c,i,o;(null===a||void 0===a||null===(t=a.module_info)||void 0===t?void 0:t.name)===(null===e||void 0===e||null===(r=e.module_info)||void 0===r?void 0:r.name)&&(null!==(n=e.submodule_info)&&void 0!==n&&n.relative_link.includes("?")||null===e||void 0===e||!e.access_read||b.push({name:null===(s=e.submodule_info)||void 0===s?void 0:s.name,label:null===(c=e.submodule_info)||void 0===c?void 0:c.front_label,link:null===(i=e.submodule_info)||void 0===i?void 0:i.relative_link,icon:null===(o=e.submodule_info)||void 0===o?void 0:o.icon}));return null})),!m)e.push({name:null===(i=a.module_info)||void 0===i?void 0:i.name,label:null===(o=a.module_info)||void 0===o?void 0:o.front_label,link:null===(l=a.module_info)||void 0===l?void 0:l.relative_link,icon:null===(u=a.module_info)||void 0===u?void 0:u.icon,submodule:b})}return null})),j(e)}),[d]),Object(g.useEffect)((function(){if(!y){if(N)return J({mode:"errorModal",message:N.message});h(x.getAllCounters)}}),[x,y,N]),Object(U.jsxs)("aside",{className:"main-sidebar sidebar-dark-primary elevation-4",children:[Object(U.jsxs)(A.b,{to:"/dashboard",className:"brand-link logo-switch",children:[Object(U.jsx)("img",{src:c,alt:"Logo Small",className:"brand-image logo-xs"}),Object(U.jsx)("img",{src:s,alt:"Logo Large",className:"brand-image logo-xl"})]}),Object(U.jsxs)("div",{className:"sidebar",children:[Object(U.jsxs)("div",{className:"user-panel mt-3 pb-3 mb-3 d-flex",children:[Object(U.jsx)("div",{className:"image  container-pic",children:Object(U.jsx)("img",{src:o,className:"img-circle avatar-preview elevation-2",alt:"User"})}),Object(U.jsx)("div",{className:"info",children:Object(U.jsx)(A.b,{to:"/profile",className:"d-block",children:n})})]}),Object(U.jsx)("nav",{className:"mt-2",children:Object(U.jsxs)("ul",{className:"nav nav-pills nav-sidebar flex-column","data-widget":"treeview",role:"menu","data-accordion":"false",children:[Object(U.jsx)(G,{to:"/dashboard",icon:"fas fa-home",label:"Dashboard"}),b.map((function(e,t){return e.submodule?Object(U.jsx)(G,{id:t,to:e.link,icon:"".concat(a).concat(null===e||void 0===e?void 0:e.icon),label:e.label,multiLevel:e.submodule.map((function(t){return{label:t.label,icon:"".concat(a).concat(null===t||void 0===t?void 0:t.icon),to:"".concat(e.link).concat(t.link),badge:"PendingOrders"===t.name?v.pendings:"InProcessOrders"===t.name?v.processing:"BillingOrders"===t.name?v.billing:"ToStockOrders"===t.name?v.toSupply:"LocalShippingOrders"===t.name?v.localShipping:"NationalShippingOrders"===t.name?v.nationalShipping:"ShippedOrders"===t.name?v.complete:"RejectedOrders"===t.name?v.rejected:"InRouteOrders"===t.name?v.route:"CollectOrders"===t.name&&v.collect}}))},"".concat(t).concat(e.link)):Object(U.jsx)(G,{to:"".concat(e.link),icon:"".concat(a).concat(null===e||void 0===e?void 0:e.icon),label:e.label},"".concat(t).concat(e.link))}))]})})]})]})},X=function(){var e=Object(g.useContext)(w).dispatch,t=function(){window.innerWidth<=991&&(document.getElementById("sidebarMain").className="sidebar-mini layout-fixed sidebar-closed sidebar-collapse")};return Object(g.useEffect)((function(){window.onresize=t}),[]),Object(U.jsxs)("nav",{className:"main-header navbar navbar-expand navbar-white navbar-light",children:[Object(U.jsx)("ul",{className:"navbar-nav",children:Object(U.jsx)("li",{className:"nav-item",children:Object(U.jsx)("a",{className:"nav-link menuBurguer","data-widget":"pushmenu",href:"/#",role:"button",children:Object(U.jsx)("i",{className:"fas fa-bars"})})})}),Object(U.jsx)("ul",{className:"navbar-nav ml-auto",children:Object(U.jsx)("li",{className:"nav-item",onClick:function(){H.a.fire({title:"\xbfCerrar sesi\xf3n?",text:"\xbfEstas seguro de querer finalizar la sesi\xf3n?",icon:"question",allowOutsideClick:!1,buttonsStyling:!1,showDenyButton:!0,denyButtonText:'<i class="fas fa-times"> Cancelar</i>',confirmButtonText:'<i class="fas fa-minus-circle"> Salir</i>',customClass:{confirmButton:"btn btn-sm btn-accept",denyButton:"btn btn-sm btn-danger"}}).then((function(t){if(t.isConfirmed)try{sessionStorage.removeItem("user"),sessionStorage.removeItem("requestPath"),localStorage.removeItem("token"),localStorage.removeItem("configSys"),localStorage.removeItem("platform"),J({mode:"ok",message:"Sesi\xf3n finalizada"}),setTimeout((function(){e({type:C})}),400)}catch(a){J({mode:"errorModal",message:a.message})}}))},children:Object(U.jsx)("a",{className:"nav-link","data-widget":"control-sidebar","data-slide":"true",href:"/#",role:"button",children:Object(U.jsx)("i",{className:"fas fa-power-off"})})})})]})},ee=a(13),te=a.n(ee),ae=function(){return Object(U.jsxs)("footer",{className:"main-footer",children:[Object(U.jsxs)("strong",{children:["Copyright \xa9 ",te()().format("YYYY")," ",Object(U.jsx)("a",{href:"https://google.com",children:"DynamicSolutions"})]}),Object(U.jsxs)("div",{className:"float-right d-none d-sm-inline-block",children:[Object(U.jsx)("b",{children:"Version"})," 1.0.0"]})]})},re=Object(Z.d)(n||(n=Object(W.a)(["\n  mutation decryptToken($token: String!) {\n    decryptToken(token: $token) {\n      id\n      user_name\n      name\n      first_name\n      last_name\n      avatar\n      role\n      email\n    }\n  }\n"]))),ne=Object(Z.d)(s||(s=Object(W.a)(["\n  mutation authUser($input: userLoginInput!) {\n    authUser(input: $input) {\n      token\n    }\n  }\n"]))),se=Object(Z.d)(c||(c=Object(W.a)(["\n  mutation _emptyMutation {\n    _empty\n  }\n"]))),ce=Object(Z.d)(i||(i=Object(W.a)(["\n  query AppConfig {\n    getConfigSys {\n      project_logo\n      project_name\n      project_mini_logo\n      project_favicon\n    }\n  }\n"]))),ie=Object(Z.d)(o||(o=Object(W.a)(["\n  query getUsers($searchQuery: String, $limit: Int, $offset: Int) {\n    Users(searchQuery: $searchQuery, limit: $limit, offset: $offset) {\n      rows {\n        id\n        name\n        first_name\n        last_name\n        user_name\n        email\n        id_role\n      }\n      count\n    }\n  }\n"]))),oe=Object(Z.d)(l||(l=Object(W.a)(["\n  query GetUserById($getUserByIdId: Int!) {\n    GetUserById(id: $getUserByIdId) {\n      name\n      id\n      first_name\n      last_name\n      user_name\n      email\n      id_role\n      id_store\n      password\n      id_address\n      id_user_register\n      id_avatar_file\n      avatar {\n        id\n        url\n      }\n      address {\n        id\n        street\n        external_number\n        internal_number\n        id_country\n        country {\n          id\n          name\n        }\n        id_state\n        state {\n          name\n          id\n          id_country\n        }\n        id_city\n        city {\n          id\n          name\n          id_state\n        }\n        id_municipality\n        municipality {\n          id\n          id_city\n          name\n        }\n        id_colony\n        colony {\n          id\n          name\n          id_municipality\n          zip_code\n        }\n        zip_code\n      }\n      contacts {\n        id\n        id_user\n        id_contact\n        contact_data {\n          id\n          name\n          lastname\n          second_lastname\n          phone\n          ext\n          mobile\n          email\n        }\n      }\n    }\n  }\n"]))),le=Object(Z.d)(d||(d=Object(W.a)(["\n  mutation GetAllUsersExport {\n    getAllUsersExport {\n      name\n      id\n      first_name\n      last_name\n      user_name\n      email\n      id_role\n      id_store\n      password\n      id_address\n      id_user_register\n      id_avatar_file\n      avatar {\n        id\n        url\n      }\n      address {\n        id\n        street\n        external_number\n        internal_number\n        id_country\n        country {\n          id\n          name\n        }\n        id_state\n        state {\n          name\n          id\n          id_country\n        }\n        id_city\n        city {\n          id\n          name\n          id_state\n        }\n        id_municipality\n        municipality {\n          id\n          id_city\n          name\n        }\n        id_colony\n        colony {\n          id\n          name\n          id_municipality\n          zip_code\n        }\n        zip_code\n      }\n    }\n  }\n"]))),de=(Object(Z.d)(u||(u=Object(W.a)(["\n  mutation getOneUser($userId: Int!) {\n    getUser(userID: $userId) {\n      name\n      first_name\n      last_name\n      user_name\n    }\n  }\n"]))),Object(Z.d)(m||(m=Object(W.a)(["\n  mutation getAllUserPermissions($userID: Int!) {\n    getAllUserPermissions(userID: $userID) {\n      id\n      id_module\n      module_info {\n        name\n        relative_link\n        icon\n        front_label\n      }\n      submodule_info {\n        name\n        relative_link\n        icon\n        front_label\n      }\n      id_submodule\n      access_retrieve\n      access_read\n      access_edit\n      access_delete\n      access_export\n    }\n  }\n"])))),ue=Object(Z.d)(b||(b=Object(W.a)(["\n  mutation RegisterUser(\n    $input: userRegisterInput!\n    $inputAvatar: Upload!\n    $inputAddress: addressInput!\n    $inputContact: [contactInput!]!\n  ) {\n    registerUser(\n      input: $input\n      inputAvatar: $inputAvatar\n      inputAddress: $inputAddress\n      inputContact: $inputContact\n    ) {\n      id\n      user_name\n      id_role\n    }\n  }\n"]))),me=Object(Z.d)(j||(j=Object(W.a)(["\n  mutation UpdateUser(\n    $userId: Int!\n    $inputAvatar: Upload\n    $input: userRegisterInput!\n    $addressId: Int!\n    $inputAddress: addressInput!\n    $inputContact: [contactInput!]!\n  ) {\n    updateUser(\n      userID: $userId\n      inputAvatar: $inputAvatar\n      input: $input\n      addressId: $addressId\n      inputAddress: $inputAddress\n      inputContact: $inputContact\n    )\n  }\n"]))),be=Object(Z.d)(p||(p=Object(W.a)(["\n  mutation DeleteUserMutation($id: Int!, $userId: Int!) {\n    deleteUser(id: $id, userId: $userId)\n  }\n"]))),je=Object(Z.d)(O||(O=Object(W.a)(["\n  mutation CreateRecoveryToken($userName: String!) {\n    createRecoveryToken(userName: $userName) {\n      id\n      token_recovery\n    }\n  }\n"]))),pe=Object(Z.d)(v||(v=Object(W.a)(["\n  mutation RecoveryUserPassword($inputRecovery: passwordRecoveryInput!) {\n    recoveryUserPassword(inputRecovery: $inputRecovery)\n  }\n"]))),Oe=Object(Z.d)(h||(h=Object(W.a)(["\n  mutation PasswordUpdate(\n    $idUser: Int!\n    $currentPassword: String!\n    $password: String!\n  ) {\n    passwordUpdate(\n      id_user: $idUser\n      currentPassword: $currentPassword\n      password: $password\n    )\n  }\n"]))),ve=Object(Z.d)(f||(f=Object(W.a)(["\n  mutation checkTokenRecovery($token: String!) {\n    checkTokenRecovery(token: $token)\n  }\n"]))),he=function(e){var t=e.children,a=Object(g.useContext)(w).user,r=Object(F.a)(oe,{variables:{getUserByIdId:parseInt(a.idUser)}}).data,n=Object(g.useState)({appLogo:"",appName:"",appMiniLogo:"",appFavicon:""}),s=Object(I.a)(n,2),c=s[0],i=s[1],o=Object(F.a)(ce),l=o.loading,d=o.error,u=o.data;return Object(g.useEffect)((function(){if(!l&&(void 0!==u||null==u)){if(d)return;i({appLogo:u.getConfigSys.project_logo,appName:u.getConfigSys.project_name,appMiniLogo:u.getConfigSys.project_mini_logo,appFavicon:u.getConfigSys.project_favicon}),localStorage.setItem("configSys",JSON.stringify(u.getConfigSys));var e=document.querySelector("head"),t=document.createElement("link");t.setAttribute("rel","icon"),t.setAttribute("href","".concat(u.getConfigSys.project_favicon)),e.appendChild(t)}}),[l,d,u]),Object(U.jsxs)("div",{className:"wrapper",children:[Object(U.jsx)(X,{}),Object(U.jsx)(K,{titleApp:c.appName,prefixIcon:"fas fa-",iconApp:c.appLogo,logoIcon:c.appMiniLogo,user:a.name,avatar:r?null===r||void 0===r?void 0:r.GetUserById.avatar.url:null,modules:a.userPermissions}),Object(U.jsx)("div",{className:"content-wrapper",children:Object(U.jsx)("section",{className:"content",children:Object(U.jsx)("div",{className:"container-fluid",children:Object(U.jsx)("div",{className:"content-fade",children:t})})})}),Object(U.jsx)(ae,{})]})},fe=["isAuth","component"],ge=function(e){var t=e.isAuth,a=e.component,r=Object(R.a)(e,fe);return Object(U.jsx)(T.b,Object(S.a)(Object(S.a)({},r),{},{component:function(e){return t?Object(U.jsx)(he,{children:Object(U.jsx)(a,Object(S.a)({},e))}):Object(U.jsx)(T.a,{to:"/login"})}}))};ge.prototype={isAuth:M.a.bool.isRequired,component:M.a.func.isRequired};var xe=function(e){var t=e.children;return Object(U.jsx)("div",{className:"row",children:Object(U.jsx)("div",{className:"col-12",children:Object(U.jsx)("div",{className:"content-fade-login",children:t})})})},ye=["isAuth","userType","component"],Ne=function(e){var t=e.isAuth,a=(e.userType,e.component),r=Object(R.a)(e,ye);return Object(U.jsx)(T.b,Object(S.a)(Object(S.a)({},r),{},{component:function(e){return t?Object(U.jsx)(U.Fragment,{children:Object(U.jsx)(T.a,{to:"/dashboard"})}):Object(U.jsx)(xe,{children:Object(U.jsx)(a,Object(S.a)({},e))})}}))};Ne.prototype={isAuth:M.a.bool.isRequired,userType:M.a.number.isRequired,component:M.a.func.isRequired};var Ie,_e,we,Se,Be,Ce,ke,Pe,Ee,$e,Ae,Te,qe,De=a(359),Ue=function(){var e=Object(g.useContext)(w).dispatch,t=Object(g.useState)({user:"",password:""}),a=Object(I.a)(t,2),r=a[0],n=a[1],s=Object(g.useState)(!1),c=Object(I.a)(s,2),i=c[0],o=c[1],l=Object(De.a)(ne),d=Object(I.a)(l,1)[0],u=Object(De.a)(re),m=Object(I.a)(u,1)[0],b=Object(De.a)(de),j=Object(I.a)(b,1)[0],p=function(){var t=Object(P.a)($.a.mark((function t(a){var n,s,c,i,l,u,b,p,O;return $.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a.preventDefault(),o(!0),t.prev=2,t.next=5,d({variables:{input:{userName:r.user,password:r.password}}});case 5:return n=t.sent,s=n.data,c=s.authUser.token,localStorage.setItem("token",c),t.next=11,m({variables:{token:c}});case 11:return i=t.sent,l=i.data,u=l.decryptToken,t.next=16,j({variables:{userID:u.id}});case 16:b=t.sent,p=b.data,O=p.getAllUserPermissions,e({type:B,payload:{logged:!0,idUser:u.id,role:u.role,email:u.email,userPermissions:O,avatar:u.avatar,name:u.name}}),o(!1),t.next=27;break;case 23:return t.prev=23,t.t0=t.catch(2),o(!1),t.abrupt("return",J({mode:"error",message:t.t0.message}));case 27:case"end":return t.stop()}}),t,null,[[2,23]])})));return function(e){return t.apply(this,arguments)}}();return Object(U.jsxs)("div",{className:"full-container",children:[Object(U.jsx)(A.b,{to:"/",className:"h1 d-flex justify-content-center mb-5",children:Object(U.jsx)("img",{src:q,className:"img-logo-full",alt:"logo"})}),Object(U.jsx)("span",{children:"Inicio de sesi\xf3n"}),Object(U.jsx)("div",{className:"full-box",id:"boxLogin",children:Object(U.jsxs)("form",{onSubmit:p,method:"post",className:"row",children:[Object(U.jsx)("div",{className:"input-icons-login col-12",children:Object(U.jsx)("input",{id:"user",type:"text",className:"form-control",placeholder:"Usuario",onChange:function(e){return n(Object(S.a)(Object(S.a)({},r),{},{user:e.target.value}))}})}),Object(U.jsx)("div",{className:"input-icons-login col-12",children:Object(U.jsx)("input",{id:"pass",type:"password",className:"form-control",placeholder:"Contrase\xf1a",onChange:function(e){return n(Object(S.a)(Object(S.a)({},r),{},{password:e.target.value}))}})}),Object(U.jsxs)("div",{className:"actions-login col-12",children:[Object(U.jsxs)("div",{className:"custom-control custom-checkbox",children:[Object(U.jsx)("input",{type:"checkbox",className:"custom-control-input",id:"remember"}),Object(U.jsx)("label",{className:"custom-control-label",htmlFor:"remember",children:"Recordarme"})]}),Object(U.jsx)("div",{children:Object(U.jsx)(A.b,{to:"/recuperar-contrase\xf1a",children:"Olvid\xe9 mi contrase\xf1a"})})]}),Object(U.jsx)("div",{className:"login-btn col-12",children:i?Object(U.jsxs)("button",{className:"btn btn-accept btn-login",type:"button",disabled:!0,children:[Object(U.jsx)("span",{className:"spinner-grow spinner-grow-sm",role:"status","aria-hidden":"true"}),Object(U.jsx)("span",{className:"sr-only",children:"Iniciando..."})]}):Object(U.jsx)("button",{type:"submit",className:"btn btn-accept btn-login",children:"Iniciar sesi\xf3n"})})]})})]})},Qe=function(e){var t=e.title,a=void 0===t?"Title":t,r=e.breadcrumb,n=void 0===r?"breadcrumb":r,s=e.windowTitle,c=void 0===s?"Window Title":s,i=JSON.parse(localStorage.getItem("configSys"));return Object(g.useEffect)((function(){document.title="".concat(null===i||void 0===i?void 0:i.project_name," | ").concat(c)}),[a,c,null===i||void 0===i?void 0:i.project_name]),Object(U.jsx)("section",{className:"content-header",children:Object(U.jsx)("div",{className:"container-fluid",children:Object(U.jsxs)("div",{className:"row mb-2",children:[Object(U.jsx)("div",{className:"col-sm-6",children:Object(U.jsx)("h1",{className:"header-title",children:a})}),""!==n&&Object(U.jsx)("div",{className:"col-sm-6",children:Object(U.jsxs)("ol",{className:"breadcrumb float-sm-right",children:[Object(U.jsx)("li",{className:"breadcrumb-item",children:Object(U.jsx)(A.b,{to:"/dashboard",children:"Dashboard"})}),Object(U.jsx)("li",{className:"breadcrumb-item active",children:n})]})})]})})})},Re=function(){return Object(U.jsxs)("div",{children:[Object(U.jsx)(Qe,{title:"",breadcrumb:"",windowTitle:"Dashboard"}),Object(U.jsxs)("div",{className:"row",children:[Object(U.jsx)("div",{className:"col-lg-3 col-6",children:Object(U.jsxs)("div",{className:"small-box",children:[Object(U.jsxs)("div",{className:"inner",children:[Object(U.jsx)("h3",{children:"150"}),Object(U.jsx)("p",{children:"New Orders"})]}),Object(U.jsx)("div",{className:"icon",children:Object(U.jsx)("i",{className:"ion ion-bag"})}),Object(U.jsxs)("a",{href:"#/",className:"small-box-footer",children:["More info ",Object(U.jsx)("i",{className:"fas fa-arrow-circle-right"})]})]})}),Object(U.jsx)("div",{className:"col-lg-3 col-6",children:Object(U.jsxs)("div",{className:"small-box",children:[Object(U.jsxs)("div",{className:"inner",children:[Object(U.jsxs)("h3",{children:["53",Object(U.jsx)("sup",{style:{fontSize:"20px"},children:"%"})]}),Object(U.jsx)("p",{children:"Bounce Rate"})]}),Object(U.jsx)("div",{className:"icon",children:Object(U.jsx)("i",{className:"ion ion-stats-bars"})}),Object(U.jsxs)("a",{href:"/#",className:"small-box-footer",children:["More info ",Object(U.jsx)("i",{className:"fas fa-arrow-circle-right"})]})]})}),Object(U.jsx)("div",{className:"col-lg-3 col-6",children:Object(U.jsxs)("div",{className:"small-box",children:[Object(U.jsxs)("div",{className:"inner",children:[Object(U.jsx)("h3",{children:"44"}),Object(U.jsx)("p",{children:"User Registrations"})]}),Object(U.jsx)("div",{className:"icon",children:Object(U.jsx)("i",{className:"ion ion-person-add"})}),Object(U.jsxs)("a",{href:"/#",className:"small-box-footer",children:["More info ",Object(U.jsx)("i",{className:"fas fa-arrow-circle-right"})]})]})}),Object(U.jsx)("div",{className:"col-lg-3 col-6",children:Object(U.jsxs)("div",{className:"small-box",children:[Object(U.jsxs)("div",{className:"inner",children:[Object(U.jsx)("h3",{children:"65"}),Object(U.jsx)("p",{children:"Unique Visitors"})]}),Object(U.jsx)("div",{className:"icon",children:Object(U.jsx)("i",{className:"ion ion-pie-graph"})}),Object(U.jsxs)("a",{href:"/#",className:"small-box-footer",children:["More info ",Object(U.jsx)("i",{className:"fas fa-arrow-circle-right"})]})]})})]}),Object(U.jsxs)("div",{className:"row",children:[Object(U.jsxs)("section",{className:"col-lg-7 connectedSortable",children:[Object(U.jsxs)("div",{className:"card",children:[Object(U.jsxs)("div",{className:"card-header",children:[Object(U.jsxs)("h3",{className:"card-title",children:[Object(U.jsx)("i",{className:"fas fa-chart-pie mr-1"}),"Sales"]}),Object(U.jsx)("div",{className:"card-tools",children:Object(U.jsxs)("ul",{className:"nav nav-pills ml-auto",children:[Object(U.jsx)("li",{className:"nav-item",children:Object(U.jsx)("a",{className:"nav-link active",href:"#revenue-chart","data-toggle":"tab",children:"Area"})}),Object(U.jsx)("li",{className:"nav-item",children:Object(U.jsx)("a",{className:"nav-link",href:"#sales-chart","data-toggle":"tab",children:"Donut"})})]})})]}),Object(U.jsx)("div",{className:"card-body",children:Object(U.jsxs)("div",{className:"tab-content p-0",children:[Object(U.jsx)("div",{className:"chart tab-pane active",id:"revenue-chart",style:{position:"relative",height:"300px"},children:Object(U.jsx)("canvas",{id:"revenue-chart-canvas",height:"300",style:{height:"300px"}})}),Object(U.jsx)("div",{className:"chart tab-pane",id:"sales-chart",style:{position:"relative",height:"300px"},children:Object(U.jsx)("canvas",{id:"sales-chart-canvas",height:"300",style:{height:"300px"}})})]})})]}),Object(U.jsxs)("div",{className:"card direct-chat direct-chat-primary",children:[Object(U.jsxs)("div",{className:"card-header",children:[Object(U.jsx)("h3",{className:"card-title",children:"Direct Chat"}),Object(U.jsxs)("div",{className:"card-tools",children:[Object(U.jsx)("span",{title:"3 New Messages",className:"badge badge-primary",children:"3"}),Object(U.jsx)("button",{type:"button",className:"btn btn-tool","data-card-widget":"collapse",children:Object(U.jsx)("i",{className:"fas fa-minus"})}),Object(U.jsx)("button",{type:"button",className:"btn btn-tool",title:"Contacts","data-widget":"chat-pane-toggle",children:Object(U.jsx)("i",{className:"fas fa-comments"})}),Object(U.jsx)("button",{type:"button",className:"btn btn-tool","data-card-widget":"remove",children:Object(U.jsx)("i",{className:"fas fa-times"})})]})]}),Object(U.jsxs)("div",{className:"card-body",children:[Object(U.jsxs)("div",{className:"direct-chat-messages",children:[Object(U.jsxs)("div",{className:"direct-chat-msg",children:[Object(U.jsxs)("div",{className:"direct-chat-infos clearfix",children:[Object(U.jsx)("span",{className:"direct-chat-name float-left",children:"Alexander Pierce"}),Object(U.jsx)("span",{className:"direct-chat-timestamp float-right",children:"23 Jan 2:00 pm"})]}),Object(U.jsx)("img",{className:"direct-chat-img",src:"dist/img/user1-128x128.jpg",alt:"message user"}),Object(U.jsx)("div",{className:"direct-chat-text",children:"Is this template really for free? That's unbelievable!"})]}),Object(U.jsxs)("div",{className:"direct-chat-msg right",children:[Object(U.jsxs)("div",{className:"direct-chat-infos clearfix",children:[Object(U.jsx)("span",{className:"direct-chat-name float-right",children:"Sarah Bullock"}),Object(U.jsx)("span",{className:"direct-chat-timestamp float-left",children:"23 Jan 2:05 pm"})]}),Object(U.jsx)("img",{className:"direct-chat-img",src:"dist/img/user3-128x128.jpg",alt:"message user"}),Object(U.jsx)("div",{className:"direct-chat-text",children:"You better believe it!"})]}),Object(U.jsxs)("div",{className:"direct-chat-msg",children:[Object(U.jsxs)("div",{className:"direct-chat-infos clearfix",children:[Object(U.jsx)("span",{className:"direct-chat-name float-left",children:"Alexander Pierce"}),Object(U.jsx)("span",{className:"direct-chat-timestamp float-right",children:"23 Jan 5:37 pm"})]}),Object(U.jsx)("img",{className:"direct-chat-img",src:"dist/img/user1-128x128.jpg",alt:"message user"}),Object(U.jsx)("div",{className:"direct-chat-text",children:"Working with AdminLTE on a great new app! Wanna join?"})]}),Object(U.jsxs)("div",{className:"direct-chat-msg right",children:[Object(U.jsxs)("div",{className:"direct-chat-infos clearfix",children:[Object(U.jsx)("span",{className:"direct-chat-name float-right",children:"Sarah Bullock"}),Object(U.jsx)("span",{className:"direct-chat-timestamp float-left",children:"23 Jan 6:10 pm"})]}),Object(U.jsx)("img",{className:"direct-chat-img",src:"dist/img/user3-128x128.jpg",alt:"message user"}),Object(U.jsx)("div",{className:"direct-chat-text",children:"I would love to."})]})]}),Object(U.jsx)("div",{className:"direct-chat-contacts",children:Object(U.jsxs)("ul",{className:"contacts-list",children:[Object(U.jsx)("li",{children:Object(U.jsxs)("a",{href:"/#",children:[Object(U.jsx)("img",{className:"contacts-list-img",src:"dist/img/user1-128x128.jpg",alt:"User Avatar"}),Object(U.jsxs)("div",{className:"contacts-list-info",children:[Object(U.jsxs)("span",{className:"contacts-list-name",children:["Count Dracula",Object(U.jsx)("small",{className:"contacts-list-date float-right",children:"2/28/2015"})]}),Object(U.jsx)("span",{className:"contacts-list-msg",children:"How have you been? I was..."})]})]})}),Object(U.jsx)("li",{children:Object(U.jsxs)("a",{href:"/#",children:[Object(U.jsx)("img",{className:"contacts-list-img",src:"dist/img/user7-128x128.jpg",alt:"User Avatar"}),Object(U.jsxs)("div",{className:"contacts-list-info",children:[Object(U.jsxs)("span",{className:"contacts-list-name",children:["Sarah Doe",Object(U.jsx)("small",{className:"contacts-list-date float-right",children:"2/23/2015"})]}),Object(U.jsx)("span",{className:"contacts-list-msg",children:"I will be waiting for..."})]})]})}),Object(U.jsx)("li",{children:Object(U.jsxs)("a",{href:"/#",children:[Object(U.jsx)("img",{className:"contacts-list-img",src:"dist/img/user3-128x128.jpg",alt:"User Avatar"}),Object(U.jsxs)("div",{className:"contacts-list-info",children:[Object(U.jsxs)("span",{className:"contacts-list-name",children:["Nadia Jolie",Object(U.jsx)("small",{className:"contacts-list-date float-right",children:"2/20/2015"})]}),Object(U.jsx)("span",{className:"contacts-list-msg",children:"I'll call you back at..."})]})]})}),Object(U.jsx)("li",{children:Object(U.jsxs)("a",{href:"/#",children:[Object(U.jsx)("img",{className:"contacts-list-img",src:"dist/img/user5-128x128.jpg",alt:"User Avatar"}),Object(U.jsxs)("div",{className:"contacts-list-info",children:[Object(U.jsxs)("span",{className:"contacts-list-name",children:["Nora S. Vans",Object(U.jsx)("small",{className:"contacts-list-date float-right",children:"2/10/2015"})]}),Object(U.jsx)("span",{className:"contacts-list-msg",children:"Where is your new..."})]})]})}),Object(U.jsx)("li",{children:Object(U.jsxs)("a",{href:"/#",children:[Object(U.jsx)("img",{className:"contacts-list-img",src:"dist/img/user6-128x128.jpg",alt:"User Avatar"}),Object(U.jsxs)("div",{className:"contacts-list-info",children:[Object(U.jsxs)("span",{className:"contacts-list-name",children:["John K.",Object(U.jsx)("small",{className:"contacts-list-date float-right",children:"1/27/2015"})]}),Object(U.jsx)("span",{className:"contacts-list-msg",children:"Can I take a look at..."})]})]})}),Object(U.jsx)("li",{children:Object(U.jsxs)("a",{href:"/#",children:[Object(U.jsx)("img",{className:"contacts-list-img",src:"dist/img/user8-128x128.jpg",alt:"User Avatar"}),Object(U.jsxs)("div",{className:"contacts-list-info",children:[Object(U.jsxs)("span",{className:"contacts-list-name",children:["Kenneth M.",Object(U.jsx)("small",{className:"contacts-list-date float-right",children:"1/4/2015"})]}),Object(U.jsx)("span",{className:"contacts-list-msg",children:"Never mind I found..."})]})]})})]})})]}),Object(U.jsx)("div",{className:"card-footer",children:Object(U.jsx)("form",{action:"#",method:"post",children:Object(U.jsxs)("div",{className:"input-group",children:[Object(U.jsx)("input",{type:"text",name:"message",placeholder:"Type Message ...",className:"form-control"}),Object(U.jsx)("span",{className:"input-group-append",children:Object(U.jsx)("button",{type:"button",className:"btn btn-primary",children:"Send"})})]})})})]})]}),Object(U.jsxs)("section",{className:"col-lg-5 connectedSortable",children:[Object(U.jsxs)("div",{className:"card bg-gradient-primary",children:[Object(U.jsxs)("div",{className:"card-header border-0",children:[Object(U.jsxs)("h3",{className:"card-title",children:[Object(U.jsx)("i",{className:"fas fa-map-marker-alt mr-1"}),"Visitors"]}),Object(U.jsxs)("div",{className:"card-tools",children:[Object(U.jsx)("button",{type:"button",className:"btn btn-primary btn-sm daterange",title:"Date range",children:Object(U.jsx)("i",{className:"far fa-calendar-alt"})}),Object(U.jsx)("button",{type:"button",className:"btn btn-primary btn-sm","data-card-widget":"collapse",title:"Collapse",children:Object(U.jsx)("i",{className:"fas fa-minus"})})]})]}),Object(U.jsx)("div",{className:"card-body",children:Object(U.jsx)("div",{id:"world-map",style:{height:"250px",width:"100%"}})}),Object(U.jsx)("div",{className:"card-footer bg-transparent",children:Object(U.jsxs)("div",{className:"row",children:[Object(U.jsxs)("div",{className:"col-4 text-center",children:[Object(U.jsx)("div",{id:"sparkline-1"}),Object(U.jsx)("div",{className:"text-white",children:"Visitors"})]}),Object(U.jsxs)("div",{className:"col-4 text-center",children:[Object(U.jsx)("div",{id:"sparkline-2"}),Object(U.jsx)("div",{className:"text-white",children:"Online"})]}),Object(U.jsxs)("div",{className:"col-4 text-center",children:[Object(U.jsx)("div",{id:"sparkline-3"}),Object(U.jsx)("div",{className:"text-white",children:"Sales"})]})]})})]}),Object(U.jsxs)("div",{className:"card bg-gradient-success",children:[Object(U.jsxs)("div",{className:"card-header border-0",children:[Object(U.jsxs)("h3",{className:"card-title",children:[Object(U.jsx)("i",{className:"far fa-calendar-alt"}),"Calendar"]}),Object(U.jsxs)("div",{className:"card-tools",children:[Object(U.jsxs)("div",{className:"btn-group",children:[Object(U.jsx)("button",{type:"button",className:"btn btn-success btn-sm dropdown-toggle","data-toggle":"dropdown","data-offset":"-52",children:Object(U.jsx)("i",{className:"fas fa-bars"})}),Object(U.jsxs)("div",{className:"dropdown-menu",role:"menu",children:[Object(U.jsx)("a",{href:"/#",className:"dropdown-item",children:"Add new event"}),Object(U.jsx)("a",{href:"/#",className:"dropdown-item",children:"Clear events"}),Object(U.jsx)("div",{className:"dropdown-divider"}),Object(U.jsx)("a",{href:"/#",className:"dropdown-item",children:"View calendar"})]})]}),Object(U.jsx)("button",{type:"button",className:"btn btn-success btn-sm","data-card-widget":"collapse",children:Object(U.jsx)("i",{className:"fas fa-minus"})}),Object(U.jsx)("button",{type:"button",className:"btn btn-success btn-sm","data-card-widget":"remove",children:Object(U.jsx)("i",{className:"fas fa-times"})})]})]}),Object(U.jsx)("div",{className:"card-body pt-0",children:Object(U.jsx)("div",{id:"calendar",style:{width:"100%"}})})]})]})]})]})},Le=function(){var e=Object(g.useState)({password:"",passwordConfirm:""}),t=Object(I.a)(e,2),a=t[0],r=t[1],n=Object(g.useState)(!1),s=Object(I.a)(n,2),c=s[0],i=s[1],o=Object(T.g)(),l=Object(T.i)().token,d=Object(De.a)(pe),u=Object(I.a)(d,1)[0],m=Object(De.a)(ve),b=Object(I.a)(m,1)[0];Object(g.useEffect)((function(){if(l){var e=function(){var e=Object(P.a)($.a.mark((function e(){return $.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,b({variables:{token:l}});case 3:e.next=8;break;case 5:e.prev=5,e.t0=e.catch(0),J({mode:"errorModal",message:e.t0.message},o.push("/recuperar-contrase\xf1a"));case 8:case"end":return e.stop()}}),e,null,[[0,5]])})));return function(){return e.apply(this,arguments)}}();e()}else J({mode:"errorModal",message:"Acci\xf3n no permitida"},o.push("/recuperar-contrase\xf1a"))}),[]);var j=function(){var e=Object(P.a)($.a.mark((function e(t){return $.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.preventDefault(),a.password===a.passwordConfirm){e.next=3;break}return e.abrupt("return",J({mode:"error",message:"Las contrase\xf1as no coinciden"}));case 3:if(""!==a.password&&""!==a.passwordConfirm){e.next=5;break}return e.abrupt("return",J({mode:"error",message:"Debe ingresar una contrase\xf1a"}));case 5:return i(!0),e.prev=6,e.next=9,u({variables:{inputRecovery:{token:l,password:a.password}}});case 9:return i(!1),e.abrupt("return",J({mode:"okModal",message:"Se actualizo correctamente tu contrase\xf1a. Ahora puedes iniciar sesi\xf3n con tu nueva contrase\xf1a"},o.push("/login")));case 13:return e.prev=13,e.t0=e.catch(6),i(!1),e.abrupt("return",J({mode:"error",message:e.t0.message}));case 17:case"end":return e.stop()}}),e,null,[[6,13]])})));return function(t){return e.apply(this,arguments)}}();return Object(U.jsxs)("div",{className:"full-container",children:[Object(U.jsx)(A.b,{to:"/",className:"h1",children:Object(U.jsx)("img",{src:q,className:"img-logo-full m-4",alt:"logo"})}),Object(U.jsx)("span",{className:"mb-2",children:"Ingresa una nueva contrase\xf1a"}),Object(U.jsx)("div",{className:"full-box",id:"boxLogin",children:Object(U.jsxs)("form",{onSubmit:j,method:"post",className:"row",children:[Object(U.jsx)("div",{className:"input-icons-login col-12",children:Object(U.jsx)("input",{id:"pass",type:"password",className:"form-control",placeholder:"Nueva contrase\xf1a",onChange:function(e){return r(Object(S.a)(Object(S.a)({},a),{},{password:e.target.value}))}})}),Object(U.jsx)("div",{className:"input-icons-login col-12",children:Object(U.jsx)("input",{id:"pass",type:"password",className:"form-control",placeholder:"Confirme la contrase\xf1a",onChange:function(e){return r(Object(S.a)(Object(S.a)({},a),{},{passwordConfirm:e.target.value}))}})}),Object(U.jsx)("div",{className:"login-btn col-12",children:c?Object(U.jsxs)("button",{className:"btn btn-accept",type:"button",disabled:!0,children:[Object(U.jsx)("span",{className:"spinner-grow spinner-grow-sm",role:"status","aria-hidden":"true"}),Object(U.jsx)("span",{className:"sr-only",children:"Procesando..."})]}):Object(U.jsx)("button",{type:"submit",className:"btn btn-accept",children:"Actualizar"})})]})})]})},Me=function(){return Object(U.jsx)("div",{className:"container-notfound",children:Object(U.jsxs)("div",{className:"error-page",children:[Object(U.jsx)("h2",{className:"headline text-warning",children:" 404"}),Object(U.jsxs)("div",{className:"error-content",children:[Object(U.jsxs)("h1",{className:"title-notfound",children:[Object(U.jsx)("i",{className:"fas fa-exclamation-triangle text-warning"}),"\xa0\xa0Algo ha salido mal!"]}),Object(U.jsxs)("span",{className:"subtitle-notfound",children:["La p\xe1gina que estabas buscando no existe o no tienes permiso para verla. Intenta",Object(U.jsx)(A.b,{to:"/dashboard",children:" regresar a la p\xe1gina principal"})]})]})]})})},Fe=function(){var e=Object(g.useState)({userName:""}),t=Object(I.a)(e,2),a=t[0],r=t[1],n=Object(g.useState)(!1),s=Object(I.a)(n,2),c=s[0],i=s[1],o=Object(T.g)(),l=Object(De.a)(je),d=Object(I.a)(l,1)[0],u=function(){var e=Object(P.a)($.a.mark((function e(t){return $.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.preventDefault(),""!==a.userName){e.next=3;break}return e.abrupt("return",J({mode:"error",message:"Ingresa el nombre de usuario de la cuenta que quieres recuperar"}));case 3:return i(!0),e.prev=4,e.next=7,d({variables:{userName:a.userName}});case 7:return i(!1),e.abrupt("return",J({mode:"okModal",message:"Se te ha enviado un correo con las indicaciones para restablecer tu contrase\xf1a"},o.push("/login")));case 11:return e.prev=11,e.t0=e.catch(4),i(!1),e.abrupt("return",J({mode:"error",message:e.t0.message}));case 15:case"end":return e.stop()}}),e,null,[[4,11]])})));return function(t){return e.apply(this,arguments)}}();return Object(U.jsxs)("div",{className:"full-container",children:[Object(U.jsx)(A.b,{to:"/",className:"h1",children:Object(U.jsx)("img",{src:q,className:"img-logo-full m-4",alt:"logo"})}),Object(U.jsx)("span",{className:"mb-2",children:"Recuperar contrase\xf1a"}),Object(U.jsx)("div",{className:"full-box",children:Object(U.jsxs)("form",{onSubmit:u,method:"post",className:"row",children:[Object(U.jsx)("div",{className:"input-icons-login col-12",children:Object(U.jsx)("input",{id:"user",type:"text",className:"form-control",placeholder:"Ingresa tu nombre de usuario",onChange:function(e){return r(Object(S.a)(Object(S.a)({},a),{},{userName:e.target.value}))}})}),Object(U.jsxs)("caption",{className:"col-12",children:["Ingresa tu usuario para enviar un c\xf3digo para que restablezcas tu contrase\xf1a"," "]}),Object(U.jsx)("div",{className:"login-btn col-12",children:c?Object(U.jsxs)("button",{className:"btn btn-accept btn-sm",type:"button",disabled:!0,children:[Object(U.jsx)("span",{className:"spinner-grow spinner-grow-sm",role:"status","aria-hidden":"true"}),Object(U.jsx)("span",{className:"sr-only",children:"Procesando..."})]}):Object(U.jsx)("button",{type:"submit",className:"btn btn-accept btn-sm",children:"Solicitar"})})]})})]})},ze=a(185),Ge=a.n(ze),Ve=function(){return Object(U.jsx)("div",{style:{paddingBottom:"24px"},children:Object(U.jsx)("div",{className:"spinner-border",style:{width:"5rem",height:"5rem"},role:"status",children:Object(U.jsx)("span",{className:"sr-only"})})})},He=(a(233),a(188)),Je=function(e){var t=e.data,a=void 0===t?[]:t,r=e.title,n=e.gql,s=void 0===n?se:n,c=e.requery,i=void 0===c?se:c,o=e.exportQuery,l=void 0===o?se:o,d=e.editText,u=void 0===d?Object(U.jsx)("i",{className:"fas fa-edit"}):d,m=(e.details,e.platformSelector,e.totalCount),b=e.pagePagination,j=e.setPagePagination,p=e.loadingData,O=Object(g.useState)([]),v=Object(I.a)(O,2),h=v[0],f=v[1],x=Object(g.useState)([]),y=Object(I.a)(x,2),N=y[0],_=y[1],B=Object(g.useState)([]),C=Object(I.a)(B,2),k=C[0],E=C[1],q=Object(g.useState)(""),D=Object(I.a)(q,2),Q=D[0],R=D[1],L=Object(g.useState)(!1),M=Object(I.a)(L,2),F=M[0],z=M[1],G=Object(T.h)(),V=Object(g.useState)({create:!1,edit:!1,erase:!1,exportBtn:!1,permissionsBtn:!1,path:""}),W=Object(I.a)(V,2),Z=W[0],Y=W[1],K=Z.create,X=Z.edit,ee=Z.erase,te=Z.exportBtn,ae=Z.permissionsBtn,re=Z.path,ne=Object(g.useContext)(w).user,ce=Object(De.a)(s,{refetchQueries:[{query:i,variables:{searchQuery:null,limit:10,offset:0,platform:null}}]}),ie=Object(I.a)(ce,1)[0],oe=Object(De.a)(l),le=Object(I.a)(oe,1)[0];Object(g.useEffect)((function(){var e=null===ne||void 0===ne?void 0:ne.userPermissions,t=[];if(e.map((function(e){var a;return"".concat(null===e||void 0===e||null===(a=e.module_info)||void 0===a?void 0:a.relative_link)===G.pathname?t={create:e.access_retrieve,edit:e.access_edit,erase:e.access_delete,exportBtn:e.access_export,path:e.module_info.relative_link}:null})),e.map((function(e){var a,r=null===(a=e.submodule_info)||void 0===a?void 0:a.relative_link;if(r){if(G.pathname.includes("new")){var n=G.pathname.split("new")[0].replace(/.$/,"").split("/"),s=n[n.length-1];if(r==="/".concat(s))return t={create:e.access_retrieve,edit:e.access_edit,erase:e.access_delete,exportBtn:e.access_export,path:"".concat(e.module_info.relative_link,"/").concat(s)}}if(G.pathname.includes("edit")){var c=G.pathname.split("edit")[0].replace(/.$/,"").split("/"),i=c[c.length-1];if(r==="/".concat(i))return t={create:e.access_retrieve,edit:e.access_edit,erase:e.access_delete,exportBtn:e.access_export,path:"".concat(e.module_info.relative_link,"/").concat(i)}}var o=G.pathname.split("/"),l=o[o.length-1];if(r==="/".concat(l))return t={create:e.access_retrieve,edit:e.access_edit,erase:e.access_delete,exportBtn:e.access_export,path:"".concat(e.module_info.relative_link,"/").concat(l)}}return!0})),"/catalog/users"===G.pathname){var a=e.some((function(e){return"UsersPermissions"===(null===e||void 0===e?void 0:e.module_info.name)?!(null===e||void 0===e||!e.access_read):null}));t.permissionsBtn=a}return Y(t)}),[G.pathname,ne]),Object(g.useEffect)((function(){var e=[];_(a),0!==a.length&&(Object.keys(a[0]).map((function(t){return e.push({name:t,selector:function(e){return e[t]},sortable:!0})})),e.push({name:"Acciones",button:!0,cell:function(e){return Object(U.jsx)(U.Fragment,{children:Object(U.jsxs)("div",{className:"btn-group btn-actions-table",children:[Object(U.jsx)(A.b,{className:"btn btn-accept btn-sm",to:"".concat(re,"/details/").concat(e.id,"/show"),children:"Detalles"}),X&&Object(U.jsx)(A.b,{className:"btn btn-accept btn-sm",to:"".concat(re,"/edit/").concat(e.id),children:u}),ee&&Object(U.jsx)("button",{type:"button",className:"btn btn-danger btn-sm",onClick:function(){return de(e.id)},children:Object(U.jsx)("i",{className:"fas fas fa-trash"})}),ae&&Object(U.jsx)(A.b,{className:"btn btn-warning btn-sm",to:"".concat(re,"/permissions/edit/").concat(e.id),children:Object(U.jsx)("i",{className:"fas fa-lock"})})]})})}}),f(e))}),[a,X,ee,ae,re,F,k,p]);var de=function(){var e=Object(P.a)($.a.mark((function e(t){return $.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:H.a.fire({title:"\xbfEliminar registro?",text:"Esta acci\xf3n no se podra revertir",icon:"warning",allowOutsideClick:!1,buttonsStyling:!1,showDenyButton:!0,denyButtonText:'<i class="fas fa-times"> Cancelar</i>',confirmButtonText:'<i class="fas fa-minus-circle"> Eliminar</i>',customClass:{confirmButton:"btn btn-sm btn-accept",denyButton:"btn btn-sm btn-danger"}}).then((function(e){if(e.isConfirmed)try{return ie({variables:{id:parseInt(t),userId:parseInt(ne.idUser)}}),J({mode:"ok",message:"Registro eliminado"})}catch(a){J({mode:"errorModal",message:a.message})}}));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),ue=function(){var e=Object(P.a)($.a.mark((function e(t){return $.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:j(Object(S.a)(Object(S.a)({},b),{},{limit:t}));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),me=function(){var e=Object(P.a)($.a.mark((function e(){var t,a,r,n;return $.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(F){e.next=20;break}return z(!0),e.prev=2,e.next=5,le();case 5:t=e.sent,a=l.definitions[0].name.value,r=a.charAt(0).toLowerCase()+a.slice(1),n=a.slice(6),R(n),E(t.data["".concat(r)]),document.getElementById("exportfileCSV").click(),z(!1),J({mode:"ok",message:"CSV Generado"}),e.next=20;break;case 16:e.prev=16,e.t0=e.catch(2),z(!1),J({mode:"errorModal",message:e.t0.message});case 20:case"end":return e.stop()}}),e,null,[[2,16]])})));return function(){return e.apply(this,arguments)}}();return Object(U.jsxs)("div",{className:"card layout-configs",children:[Object(U.jsxs)("div",{className:"card-header",children:[Object(U.jsx)("h3",{className:"card-title",children:r}),Object(U.jsx)("div",{className:"control-btn-box",children:Object(U.jsx)(U.Fragment,{children:Object(U.jsxs)("div",{className:"btn-group actions-btn",role:"group","aria-label":"Button group with nested dropdown",children:[Object(U.jsx)("div",{className:"btn-group",role:"group",children:te&&Object(U.jsxs)(U.Fragment,{children:[Object(U.jsx)("button",{id:"btnGroupDrop1",type:"button",className:"btn btn-accept btn-sm","data-toggle":"dropdown","aria-haspopup":"true","aria-expanded":"false",disabled:F,children:Object(U.jsx)("i",{className:"fas fa-cloud-download-alt"})}),Object(U.jsx)("div",{className:"dropdown-menu","aria-labelledby":"btnGroupDrop1",children:Object(U.jsxs)(U.Fragment,{children:[Object(U.jsx)(He.CSVLink,{id:"exportfileCSV",filename:Q,data:k,className:"hide"}),Object(U.jsxs)("span",{className:"dropdown-item pointer",onClick:me,children:[Object(U.jsx)("i",{className:"fas fa-file-export"})," Exportar CSV"]})]})})]})}),K&&Object(U.jsxs)(A.b,{to:"".concat(re,"/new"),className:"btn btn-accept btn-sm",children:[Object(U.jsx)("i",{className:"fa fa-plus"})," Agregar Nuevo \xa0"]})]})})})]}),Object(U.jsx)("div",{className:"card-body",children:Object(U.jsx)("div",{className:"table-responsive",children:Object(U.jsx)(Ge.a,{columns:h,data:N,expandOnRowClicked:!0,fixedHeader:!0,fixedHeaderScrollHeight:"600px",highlightOnHover:!0,pagination:!0,paginationComponentOptions:{rowsPerPageText:"Filas por p\xe1gina",rangeSeparatorText:"de"},pointerOnHover:!0,responsive:!0,striped:!0,subHeader:!0,subHeaderAlign:"left",subHeaderWrap:!0,paginationServer:!0,onChangeRowsPerPage:ue,onChangePage:function(e){j(Object(S.a)(Object(S.a)({},b),{},{limit:b.limit,offset:b.limit*(e-1)}))},paginationTotalRows:m,noDataComponent:"No se encontraros datos",progressPending:p,progressComponent:Object(U.jsx)(Ve,{})})})})]})},We=function(){var e=Object(g.useState)({searchQuery:null,limit:10,offset:0}),t=Object(I.a)(e,2),a=t[0],r=t[1],n=Object(g.useState)(0),s=Object(I.a)(n,2),c=s[0],i=s[1],o=Object(F.a)(ie,{variables:{searchQuery:a.searchQuery,limit:a.limit,offset:a.offset}}),l=o.loading,d=o.error,u=o.data,m=Object(g.useState)([]),b=Object(I.a)(m,2),j=b[0],p=b[1];return Object(g.useEffect)((function(){if(!l){if(d)return J({mode:"errorModal",message:d.message});var e=[];u.Users.rows.map((function(t){return e.push({id:t.id,Nombre:t.name,"Apellido Paterno":t.first_name,"Apellido Materno":t.last_name,Usuario:t.user_name})})),p(e),i(u.Users.count)}}),[l,d,u]),Object(U.jsxs)(U.Fragment,{children:[Object(U.jsx)(Qe,{title:"Control de usuarios",breadcrumb:"Usuarios",windowTitle:"Usuarios"}),Object(U.jsx)(Je,{data:j,title:"Lista de usuarios",gql:be,requery:ie,exportQuery:le,totalCount:c,pagePagination:a,setPagePagination:r,loadingData:l})]})},Ze=function(e){var t=e.title,a=void 0===t?"title":t,r=e.btnGreenTxt,n=void 0!==r&&r,s=e.btnGreenPath,c=void 0===s?"/":s,i=e.btnRedTxt,o=void 0!==i&&i,l=e.btnRedPath,d=void 0===l?"/":l,u=e.content,m=void 0===u?"":u,b=e.btnSubmit,j=void 0!==b&&b,p=e.btnState,O=void 0!==p&&p,v=e.btnOnClick,h=void 0!==v&&v,f=e.errors,x=void 0!==f&&f,y=Object(T.i)().id;return Object(g.useEffect)((function(){Object.values(x).length>0&&J({mode:"error",message:"Hay errores, revisa el formulario"})}),[x]),Object(U.jsx)(U.Fragment,{children:Object(U.jsxs)("div",{className:"card",children:[Object(U.jsx)("div",{className:"card-header",children:Object(U.jsx)("h3",{className:"card-title",children:a})}),Object(U.jsxs)("div",{className:"card-body",children:[m,Object(U.jsxs)("div",{className:"control-btn-box",children:[n&&Object(U.jsxs)(A.b,{to:c,className:"btn btn-accept btn-sm mt-2 mb-2",children:[Object(U.jsx)("i",{className:"fa fa-plus"})," ",n]}),o&&Object(U.jsxs)(A.b,{to:d,className:"btn btn-danger btn-sm mt-2 mb-2",children:[Object(U.jsx)("i",{className:"fa fa-times"})," ",o]}),h&&Object(U.jsxs)("button",{type:"button",onClick:h,className:"btn btn-accept btn-sm mt-2 mb-2",disabled:!!O,children:[Object(U.jsx)("i",{className:"".concat(y?"fa fa-edit":"fa fa-save")}),O?" Procesando...":y?" Actualizar":" Guardar"]}),j&&Object(U.jsxs)("button",{type:"submit",className:"btn btn-accept btn-sm mt-2 mb-2",disabled:!!O,children:[Object(U.jsx)("i",{className:"".concat(y?"fa fa-edit":"fa fa-save")}),O?" Procesando...":y?" Actualizar":" Guardar"]})]})]})]})})},Ye=a(19),Ke=a(42),Xe=Object(Z.d)(Ie||(Ie=Object(W.a)(["\n  mutation GetFullAddressByZipcodeMutation($zipCode: Int!) {\n  getFullAddressByZipcode(zipCode: $zipCode) {\n      id\n      colonies {\n        id_colony\n        colony_name\n      }\n      id_municipality\n      municipality_name\n      id_city\n      city_name\n      id_state\n      state_name\n      id_country\n      country_name\n  }\n}\n"]))),et=function(e,t,a,r){t(a.colonies.map((function(e){return{label:e.colony_name,value:e.id_colony}}))),r({city:a.city_name,municipality:a.municipality_name,state:a.state_name,idCountry:a.id_country,idState:a.id_state,idCity:a.id_city,idMunicipality:a.id_municipality}),e("city",a.municipality_name),e("municipality",a.state_name),e("state",a.state_name)},tt=function(e){e("colonia",""),e("city",""),e("municipality",""),e("state","")},at=Object(Z.d)(_e||(_e=Object(W.a)(["\n  query GetAllRoles($searchQuery: String, $limit: Int, $offset: Int) {\n    getAllRoles(searchQuery: $searchQuery, limit: $limit, offset: $offset) {\n      rows {\n        id\n        role_name\n        description\n      }\n      count\n    }\n  }\n"]))),rt=Object(Z.d)(we||(we=Object(W.a)(["\n  query GetOneRole($getOneRoleId: Int!) {\n    getOneRole(id: $getOneRoleId) {\n      id\n      role_name\n      description\n    }\n  }\n"]))),nt=Object(Z.d)(Se||(Se=Object(W.a)(["\n  mutation GetAllRolesExport {\n    getAllRolesExport {\n      role_name\n      description\n      id_user_register\n      id_user_delete\n      id_user_update\n      id\n    }\n  }\n"]))),st=Object(Z.d)(Be||(Be=Object(W.a)(["\n  mutation CreateRole($input: RoleInput!) {\n    createRole(input: $input) {\n      id\n      role_name\n      description\n    }\n  }\n"]))),ct=Object(Z.d)(Ce||(Ce=Object(W.a)(["\n  mutation UpdateRole($roleId: Int!, $input: RoleInput!) {\n    updateRole(roleId: $roleId, input: $input)\n  }\n"]))),it=Object(Z.d)(ke||(ke=Object(W.a)(["\n  mutation DeleteRole($id: Int!, $userId: Int!) {\n    deleteRole(id: $id, userId: $userId)\n  }\n"]))),ot=Object(Z.d)(Pe||(Pe=Object(W.a)(["\n  query GetAllStores($searchQuery: String, $limit: Int, $offset: Int) {\n  getAllStores(searchQuery: $searchQuery, limit: $limit, offset: $offset) {\n    rows {\n      id\n      name\n    }\n  }\n}\n"]))),lt=a(7),dt=/^[a-zA-Z0-9]*$/,ut=lt.a().of(lt.c().shape({contactName:lt.e().required("Este campo es obligatorio"),paternalSurname:lt.e().required("Este campo es obligatorio"),maternalSurname:lt.e(),phone:lt.e().min(10,"El n\xfamero de tel\xe9fono debe ser a 10 digitos").max(10,"El n\xfamero de tel\xe9fono debe ser a 10 digitos").required("Este campo es obligatorio"),cell:lt.e().min(10,"El n\xfamero de tel\xe9fono debe ser a 10 digitos").max(10,"El n\xfamero de tel\xe9fono debe ser a 10 digitos").required("Este campo es obligatorio"),email:lt.e().email("Email inv\xe1lido").required("Este campo es obligatorio")})),mt=(lt.c().shape({name:lt.e().required("Este campo es obligatorio"),RFC:lt.e().matches(/^([A-Z\xd1\x26]{3,4}([0-9]{2})(0[1-9]|1[0-2])(0[1-9]|1[0-9]|2[0-9]|3[0-1]))((-)?([A-Z\d]{3}))?$/,"RFC inv\xe1lido").required("Este campo es obligatorio"),socialReason:lt.e().required("Este campo es obligatorio"),direction:lt.e().required("Este campo es obligatorio"),outdoorNumber:lt.e().required("Este campo es obligatorio"),postalCode:lt.e().min(4,"El CP debe ser mayor a 4 y menor a 6 d\xedgitos").max(6,"El CP debe ser mayor a 4 y menor a 6 d\xedgitos").required("Este campo es obligatorio"),colonia:lt.e().required("Este campo es obligatorio"),city:lt.e().required("Este campo es obligatorio"),municipality:lt.e().required("Este campo es obligatorio"),state:lt.e().required("Este campo es obligatorio"),contacts:ut}),lt.c().shape({name:lt.e().required("Este campo es obligatorio"),firstName:lt.e().required("Este campo es obligatorio"),lastName:lt.e(),userEmail:lt.e().email("Email inv\xe1lido").required("Este campo es obligatorio"),userName:lt.e().matches(dt,"El nombre de usuario s\xf3lo puede contener letras y n\xfameros, sin espacios").required("Este campo es obligatorio"),password:lt.e().min(6,"La contrase\xf1a debe tener al menos 6 caracteres").required("Este campo es obligatorio"),passwordConfirm:lt.e().required("Necesita confirmar la contrase\xf1a").oneOf([lt.d("password"),null],"La contrase\xf1a no coincide"),direction:lt.e().required("Este campo es obligatorio"),outdoorNumber:lt.e().required("Este campo es obligatorio"),postalCode:lt.e().min(4,"El CP debe ser mayor a 4 y menor a 6 d\xedgitos").max(6,"El CP debe ser mayor a 4 y menor a 6 d\xedgitos").required("Este campo es obligatorio"),colonia:lt.e().required("Este campo es obligatorio"),city:lt.e().required("Este campo es obligatorio"),municipality:lt.e().required("Este campo es obligatorio"),state:lt.e().required("Este campo es obligatorio"),userRole:lt.e().required("Este campo es obligatorio"),userStore:lt.e(),contacts:ut})),bt=lt.c().shape({name:lt.e().required("Este campo es obligatorio"),firstName:lt.e().required("Este campo es obligatorio"),lastName:lt.e(),userEmail:lt.e().email("Email inv\xe1lido").required("Este campo es obligatorio"),userName:lt.e().matches(dt,"El nombre de usuario s\xf3lo puede contener letras y n\xfameros, sin espacios").required("Este campo es obligatorio"),direction:lt.e().required("Este campo es obligatorio"),outdoorNumber:lt.e().required("Este campo es obligatorio"),postalCode:lt.e().min(4,"El CP debe ser mayor a 4 y menor a 6 d\xedgitos").max(6,"El CP debe ser mayor a 4 y menor a 6 d\xedgitos").required("Este campo es obligatorio"),colonia:lt.e().required("Este campo es obligatorio"),city:lt.e().required("Este campo es obligatorio"),municipality:lt.e().required("Este campo es obligatorio"),state:lt.e().required("Este campo es obligatorio"),userRole:lt.e().required("Este campo es obligatorio"),userStore:lt.e(),contacts:ut}),jt=lt.c().shape({currentPassword:lt.e().required("Este campo es requerido"),password:lt.e().min(6,"La contrase\xf1a debe tener al menos 6 caracteres").required("Este campo es obligatorio"),passwordConfirm:lt.e().required("Necesita confirmar la contrase\xf1a").oneOf([lt.d("password"),null],"La contrase\xf1a no coincide")}),pt=a(76),Ot=a(202),vt=a(117),ht=a(192),ft=function(e){var t=e._image,a=e.setCropper,r=Object(g.useState)(t),n=Object(I.a)(r,1)[0],s=Object(g.useRef)(),c=Object(g.useRef)(Object(vt.debounce)((function(e){i(e)}),350)).current,i=function(){var e=null===s||void 0===s?void 0:s.current;a(null===e||void 0===e?void 0:e.cropper.getCroppedCanvas())};return Object(U.jsx)(ht.a,{className:"cropper-component",dragMode:"move",modal:!0,zoomTo:.5,initialAspectRatio:1,src:n,viewMode:1,minCropBoxHeight:10,minCropBoxWidth:10,background:!0,responsive:!0,autoCropArea:1,checkOrientation:!1,crop:c,ref:s,guides:!0})},gt=a(194),xt=a.n(gt);function yt(e,t){return Nt.apply(this,arguments)}function Nt(){return(Nt=Object(P.a)($.a.mark((function e(t,a){var r,n,s;return $.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,r=t,n=new FileReader,s=a.toLowerCase(),e.abrupt("return",new Promise((function(e){n.onload=function(t){for(var a=new Uint8Array(t.target.result).subarray(0,4),r="",n=0;n<a.length;n++)r+=a[n].toString(16);switch(s){case"all":return e(!0);case"png":return e("89504e47"===r);case"jpg":case"jpge":switch(r){case"ffd8ffe0":case"ffd8ffe1":case"ffd8ffe2":case"ffd8ffe3":case"ffd8ffe8":case"ffd8ffdb":return e(!0);default:return e(!1)}case"icon":return e("00000100"===r);case"imageavatar":switch(r){case"ffd8ffe0":case"ffd8ffe1":case"ffd8ffe2":case"ffd8ffe3":case"ffd8ffe8":case"ffd8ffdb":case"89504e47":return e(!0);default:return e(!1)}case"pdf":return e("255044462D"===r);default:return e(!1)}},n.readAsArrayBuffer(r)})));case 7:return e.prev=7,e.t0=e.catch(0),e.abrupt("return",J({mode:"errorModal",message:"Algo salio mal, vuelve a intentar en unos minutos"}));case 10:case"end":return e.stop()}}),e,null,[[0,7]])})))).apply(this,arguments)}Object(Z.d)(Ee||(Ee=Object(W.a)(["\n  mutation UploadFile($file: Upload!) {\n    uploadFile(file: $file) {\n      url\n    }\n  }\n"]))),Object(Z.d)($e||($e=Object(W.a)(["\n  mutation UploadMultipleFile($file: [Upload!]!) {\n    uploadMultipleFile(file: $file) {\n      url\n    }\n  }\n"]))),Object(Z.d)(Ae||(Ae=Object(W.a)(["\n  mutation UploadImage($file: Upload!) {\n    uploadImage(file: $file) {\n      url\n    }\n  }\n"]))),Object(Z.d)(Te||(Te=Object(W.a)(["\n  mutation UploadMultipleImage($file: [Upload!]!) {\n    uploadMultipleImage(file: $file) {\n      url\n    }\n  }\n"])));var It,_t,wt,St,Bt,Ct,kt,Pt,Et,$t,At,Tt,qt,Dt,Ut,Qt,Rt,Lt,Mt=Object(Z.d)(qe||(qe=Object(W.a)(["\nmutation AvatarUpdate($idUser: Int!, $avatar: Upload!) {\n  avatarUpdate(id_user: $idUser, avatar: $avatar)\n}\n"]))),Ft=["label","name","control","rows","options","inputType","userId","isMulti","closeOnSelect","validateFormat","validateFormatMsg","formatAccept","previewPic","changeAction","blurAction"],zt=function(e){var t=e.label,a=e.name,r=e.control,n=e.rows,s=void 0===n?3:n,c=e.options,i=void 0===c?"":c,o=e.inputType,l=void 0===o?"text":o,d=e.userId,u=void 0===d?null:d,m=e.isMulti,b=void 0!==m&&m,j=e.closeOnSelect,p=void 0===j||j,O=e.validateFormat,v=void 0===O?"image":O,h=e.validateFormatMsg,f=void 0===h?"Elija uno de los formatos sugeridos":h,x=e.formatAccept,y=void 0===x?"image/*":x,N=e.previewPic,_=void 0===N?z:N,w=e.changeAction,B=void 0===w?function(){}:w,C=e.blurAction,k=void 0===C?function(){}:C,E=Object(R.a)(e,Ft),A=Object(g.useState)(null),T=Object(I.a)(A,2),q=T[0],D=T[1],Q=Object(g.useState)(z),L=Object(I.a)(Q,2),M=L[0],F=L[1],G=Object(g.useState)(!1),V=Object(I.a)(G,2),W=V[0],Z=V[1],Y=Object(De.a)(Mt,{refetchQueries:[oe,{variables:{getUserByIdId:parseInt(u)}}]}),K=Object(I.a)(Y,1)[0],X=xt()(H.a),ee=Object(Ye.f)({control:r,name:a,defaultValue:""}),te=ee.field,ae=te.onChange,re=te.value,ne=ee.fieldState,se=ne.invalid,ce=ne.error,ie=Object(Ot.a)(),le=function(e){ae(e.target.value),ue(e)},de=function(e){ae(e.value),ue(e)},ue=Object(g.useRef)(Object(vt.debounce)((function(e){B(e)}),500)).current,me=function(e){document.getElementById(e).click()},be=function(){var e=Object(P.a)($.a.mark((function e(t,a){var r,n=arguments;return $.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=n.length>2&&void 0!==n[2]&&n[2],t.target.files[0]){e.next=3;break}return e.abrupt("return");case 3:return e.next=5,yt(t.target.files[0],a);case 5:if(!e.sent){e.next=14;break}return B(t),e.next=10,pe(t.target.files[0]);case 10:e.sent&&setTimeout(Object(P.a)($.a.mark((function e(){var a,n;return $.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(n=localStorage.getItem("usersImage"))){e.next=7;break}return e.next=4,Oe(n,".jpg");case 4:a=e.sent,e.next=8;break;case 7:a=t.target.files[0];case 8:if(ae(a),!r){e.next=12;break}return e.next=12,K({variables:{idUser:parseInt(u),avatar:a}});case 12:case"end":return e.stop()}}),e)}))),350),e.next=15;break;case 14:J({mode:"errorModal",message:f});case 15:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}(),je=function(e,t){e.target.files[0]&&(ae(e.target.files[0]),B(e))},pe=function(){var e=Object(P.a)($.a.mark((function e(t){return $.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!t){e.next=2;break}return e.abrupt("return",new Promise((function(e){var a=new FileReader;a.onload=Object(P.a)($.a.mark((function t(){return $.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,X.fire({title:"Selecciona la fracci\xf3n que deseas utilizar",allowOutsideClick:!1,html:Object(U.jsx)(ft,{_image:a.result,setCropper:D}),showDenyButton:!0,focusConfirm:!1,denyButtonText:'<i class="fas fa-times"> Cancelar</i>',confirmButtonText:'<i class="fas fa-check"> Finalizar</i>',customClass:{confirmButton:"btn btn-sm btn-accept",denyButton:"btn btn-sm btn-danger",icon:"no-border"}}).then((function(t){return Z(t.isConfirmed),e(t.isConfirmed)}));case 2:case"end":return t.stop()}}),t)}))),a.readAsDataURL(t)})));case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),Oe=function(){var e=Object(P.a)($.a.mark((function e(t,a){var r,n;return $.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch(t);case 2:return r=e.sent,e.next=5,r.blob();case 5:return n=e.sent,e.abrupt("return",new File([n],"file",{type:r.headers.get("content-type")||a}));case 7:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}();return Object(g.useEffect)((function(){W&&(localStorage.setItem("usersImage",null===q||void 0===q?void 0:q.toDataURL()),F(null===q||void 0===q?void 0:q.toDataURL()),Z(!1))}),[W,q,M]),Object(g.useEffect)((function(){q||F(_)}),[M,_,q]),Object(U.jsxs)(U.Fragment,{children:["text"===l&&Object(U.jsxs)(U.Fragment,{children:[Object(U.jsx)("label",{children:Object(U.jsx)("b",{children:t})}),Object(U.jsx)("input",Object(S.a)(Object(S.a)({},E),{},{onChange:function(e){return le(e)},value:re||"",onBlur:k,className:"form-control rounded-2 ".concat(se&&"is-invalid")})),Object(U.jsx)("span",{className:"error invalid-feedback",children:null===ce||void 0===ce?void 0:ce.message})]}),"textarea"===l&&Object(U.jsxs)(U.Fragment,{children:[Object(U.jsx)("label",{children:Object(U.jsx)("b",{children:t})}),Object(U.jsx)("textarea",Object(S.a)(Object(S.a)({},E),{},{onChange:function(e){return le(e)},value:re||"",rows:s,onBlur:k,className:"form-control rounded-2 ".concat(se&&"is-invalid")})),Object(U.jsx)("span",{className:"error invalid-feedback",children:null===ce||void 0===ce?void 0:ce.message})]}),"select"===l&&Object(U.jsxs)(U.Fragment,{children:[Object(U.jsx)("label",{children:Object(U.jsx)("b",{children:t})}),Object(U.jsxs)("select",Object(S.a)(Object(S.a)({},E),{},{onChange:function(e){return le(e)},value:re||"",rows:s,onBlur:k,className:"form-control rounded-2 ".concat(se&&"is-invalid"),children:[Object(U.jsx)("option",{disabled:!0,hidden:!0,value:"",children:"Seleccione una opci\xf3n"}),Object(U.jsx)(U.Fragment,{children:i.length>0?Object(U.jsxs)(U.Fragment,{children:[" ",i]}):Object(U.jsx)("option",{value:"",disabled:!0,children:"No hay datos registrados"})})]})),Object(U.jsx)("span",{className:"error invalid-feedback",children:null===ce||void 0===ce?void 0:ce.message})]}),"choosen"===l&&Object(U.jsxs)(U.Fragment,{children:[Object(U.jsx)("label",{children:Object(U.jsx)("b",{children:t})}),Object(U.jsx)(pt.a,Object(S.a)(Object(S.a)({},E),{},{closeMenuOnSelect:p,components:ie,name:a,placeholder:"Selecciona una opci\xf3n",NoOptionsMessage:"No hay datos registrados",isMulti:b,control:r,options:i,onBlur:k,onChange:function(e){return de(e)},className:"".concat(se&&"is-invalid"),value:null===i||void 0===i?void 0:i.find((function(e){return parseInt(e.value)===parseInt(re)?e:null})),styles:{control:function(e){return Object(S.a)(Object(S.a)({},e),{},{borderColor:se?"#dc3545":"#ced4da",":hover":{borderColor:se?"#dc3545":"#ced4da"}})}}})),Object(U.jsx)("span",{className:"error invalid-feedback",children:null===ce||void 0===ce?void 0:ce.message})]}),"image"===l&&Object(U.jsxs)("div",{className:"container-upload",children:[Object(U.jsxs)("div",{className:"avatar-upload",children:[Object(U.jsx)("input",Object(S.a)(Object(S.a)({},E),{},{id:a,type:"file",hidden:!0,defaultValue:re,onChange:function(e){return be(e,v)},onBlur:k,accept:y,control:r})),Object(U.jsx)("label",{className:"btn btn-danger circle-btn",htmlFor:"imageUpload",onClick:function(){return me(a)},children:Object(U.jsx)("i",{className:"fas fa-".concat(q||M?"pencil-alt":"plus"," ")})})]}),Object(U.jsx)("div",{className:"avatar-preview",children:Object(U.jsx)("img",{src:q||M?M:z,alt:"avatar-upload"})}),Object(U.jsx)("span",{className:"error",children:null===ce||void 0===ce?void 0:ce.message})]}),"imageAutoSend"===l&&Object(U.jsxs)("div",{className:"container-upload",children:[Object(U.jsxs)("div",{className:"avatar-upload",children:[Object(U.jsx)("input",Object(S.a)(Object(S.a)({},E),{},{id:a,type:"file",hidden:!0,defaultValue:re,onChange:function(e){return be(e,v,!0)},onBlur:k,accept:y,control:r})),Object(U.jsx)("label",{className:"btn btn-danger circle-btn",htmlFor:"imageUpload",onClick:function(){return me(a)},children:Object(U.jsx)("i",{className:"fas fa-".concat(q||M?"pencil-alt":"plus"," ")})})]}),Object(U.jsx)("div",{className:"avatar-preview",children:Object(U.jsx)("img",{src:q||M?M:z,alt:"avatar-upload"})}),Object(U.jsx)("span",{className:"error",children:null===ce||void 0===ce?void 0:ce.message})]}),"file"===l&&Object(U.jsxs)(U.Fragment,{children:[Object(U.jsx)("label",{children:Object(U.jsx)("b",{children:t})}),Object(U.jsx)("input",Object(S.a)(Object(S.a)({},E),{},{type:"file",defaultValue:re,onChange:function(e){return je(e)},accept:y,onBlur:k,className:"form-control rounded-2 ".concat(se&&"is-invalid")})),Object(U.jsx)("span",{className:"error invalid-feedback",children:null===ce||void 0===ce?void 0:ce.message})]})]})},Gt=a(26),Vt=a(20),Ht=function(e){var t=e.btnAppendTxt,a=void 0===t?"Agregar":t,r=e.emptyText,n=void 0===r?"No hay elementos":r,s=e.prefix,c=void 0===s?"prefix":s,i=e.control,o=void 0===i?"control":i,l=e.inputs,d=void 0===l?[]:l,u=e.iconSubmodule,m=e.idsToDelete,b=e.setIdsToDelete,j=void 0!==b&&b,p=Object(Ye.g)({control:o,name:c}),O=p.fields,v=p.append,h=p.remove;return Object(U.jsxs)(U.Fragment,{children:[Object(U.jsx)("div",{className:"mb-5 col-12",children:Object(U.jsxs)("button",{className:"btn btn-sm btn-success",type:"button",style:{float:"right"},onClick:function(){return v({})},children:[Object(U.jsx)("i",{className:"fas fa-plus"}),"\xa0",a]})}),O.length>0?O.map((function(e,t){return Object(U.jsxs)(x.a.Fragment,{children:[Object(U.jsx)("div",{className:"col-12 btn-add-header",children:Object(U.jsx)("span",{style:{cursor:"pointer",float:"right"},className:"btn btn-sm btn-outline-danger fas fa-trash-alt","data-toggle":"tooltip","data-placement":"top",title:"Eliminar",onClick:function(){return function(e,t){j?(h(t),j([].concat(Object(Vt.a)(m),[e.id]))):h(t)}(e,t)}})}),d.map((function(e,a){return Object(U.jsx)("div",{className:"mb-4 col-md-12 col-lg-".concat(e.colSize),children:e.specialSubmodule?Object(U.jsxs)(U.Fragment,{children:[Object(U.jsx)("label",{children:"Icono"}),Object(U.jsxs)("div",{className:"input-group",children:[Object(U.jsx)("div",{className:"input-group-append",children:Object(U.jsx)("span",{className:"input-group-text",id:"inputGroupAppend",children:Object(U.jsx)("i",{className:"fas fa-".concat(null===u||void 0===u?void 0:u["".concat(c,"[").concat(t,"].iconSubmodule")])})})}),Object(U.jsx)(zt,{name:"".concat(c,"[").concat(t,"].iconSubmodule"),placeholder:"Icono de FontAwesome u otra librer\xeda activa","aria-describedby":"inputGroupAppend",control:o,changeAction:function(a){return null===e||void 0===e?void 0:e.iconState(Object(S.a)(Object(S.a)({},u),{},Object(Gt.a)({},"".concat(c,"[").concat(t,"].iconSubmodule"),a.target.value)))},blurAction:null===e||void 0===e?void 0:e.blurAction})]})]}):Object(U.jsx)(zt,{label:e.label,type:e.type,name:"".concat(c,"[").concat(t,"].").concat(e.name),placeholder:e.placeholder,control:o,changeAction:null===e||void 0===e?void 0:e.changeAction,blurAction:null===e||void 0===e?void 0:e.blurAction})},a)}))]},e+t)})):Object(U.jsx)("div",{className:"col-12",children:Object(U.jsx)("h4",{className:"text-center",children:n})})]})},Jt=function(){var e=Object(T.i)().id,t=Object(g.useContext)(w).user,a=Object(g.useState)(mt),r=Object(I.a)(a,2),n=r[0],s=r[1],c=Object(g.useState)("1"),i=Object(I.a)(c,2),o=i[0],l=i[1],d=Object(g.useState)(null),u=Object(I.a)(d,2),m=u[0],b=u[1],j=Object(De.a)(ue,{refetchQueries:[{query:ie}]}),p=Object(I.a)(j,1)[0],O=Object(De.a)(me,{refetchQueries:[{query:ie},{query:oe,variables:{getUserByIdId:parseInt(e)}}]}),v=Object(I.a)(O,1)[0],h=Object(De.a)(Xe),f=Object(I.a)(h,1)[0],x=Object(F.a)(oe,{variables:{getUserByIdId:parseInt(e)}}),y=x.data,N=x.loading,_=x.error,B=Object(F.a)(at,{fetchPolicy:"no-cache"}),C=B.data,k=B.loading,E=B.error,A=Object(F.a)(ot,{fetchPolicy:"no-cache"}),q=A.data,D=A.loading,Q=A.error,R=Object(g.useState)(""),L=Object(I.a)(R,2),M=L[0],z=L[1],G=Object(g.useState)(!1),V=Object(I.a)(G,2),H=V[0],W=V[1],Z=Object(g.useState)([]),Y=Object(I.a)(Z,2),K=Y[0],X=Y[1],ee=Object(g.useState)([]),te=Object(I.a)(ee,2),ae=te[0],re=te[1],ne=Object(g.useState)([]),se=Object(I.a)(ne,2),ce=se[0],le=se[1],de=Object(T.g)(),be={colonia:[],city:"",municipality:"",state:"",idCountry:"",idState:"",idCity:"",idMuicipality:""},je=Object(g.useState)(be),pe=Object(I.a)(je,2),Oe=pe[0],ve=pe[1],he=Object(Ye.h)({resolver:Object(Ke.a)(n)}),fe=he.reset,ge=he.watch,xe=he.methods,ye=he.handleSubmit,Ne=he.formState.errors,Ie=he.setValue,_e=he.control,we=he.getValues,Se=function(){var e=Object(P.a)($.a.mark((function e(t){var a,r;return $.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,f({variables:{zipCode:parseInt(t)}});case 3:a=e.sent,r=a.data,et(Ie,le,r.getFullAddressByZipcode,ve),e.next=13;break;case 8:e.prev=8,e.t0=e.catch(0),tt(Ie),J({mode:"errorModal",message:"Por favor ingrese un c\xf3digo postal v\xe1lido"}),ve(be);case 13:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(t){return e.apply(this,arguments)}}();Object(g.useEffect)((function(){if(!k){var e=null===C||void 0===C?void 0:C.getAllRoles.rows.map((function(e){return{label:e.role_name,value:e.id}}));X(e)}}),[k,C,E]),Object(g.useEffect)((function(){if(!D){var e=null===q||void 0===q?void 0:q.getAllStores.rows.map((function(e){return{label:e.name,value:e.id}}));re(e)}}),[D,q,Q]);var Be=ge("password");Object(g.useEffect)((function(){void 0===Be||""===Be?(s(bt),l("1")):(s(mt),l(we("password")))}),[Be]),Object(g.useEffect)((function(){if(e&&(s(bt),!N)){var t,a;if(_)return J({mode:"errorModal",message:_.message});b(null===y||void 0===y||null===(t=y.GetUserById)||void 0===t||null===(a=t.avatar)||void 0===a?void 0:a.url),function(e,t,a,r){if(t){var n,s=t.contacts.map((function(e,t){return{contactName:"".concat(e.contact_data.name),paternalSurname:"".concat(e.contact_data.lastname),maternalSurname:"".concat(e.contact_data.second_lastname),phone:e.contact_data.phone,ext:e.contact_data.ext,cell:e.contact_data.mobile,email:e.contact_data.email}}));e({name:"".concat(t.name),firstName:"".concat(t.first_name),lastName:"".concat(t.last_name),userName:"".concat(t.user_name),userEmail:"".concat(t.email),userRole:"".concat(t.id_role),userStore:"".concat(t.id_store),direction:"".concat(t.address.street),outdoorNumber:"".concat(t.address.external_number),interiorNumber:"".concat(t.address.internal_number),city:"".concat(t.address.city.name),municipality:"".concat(t.address.municipality),state:"".concat(t.address.state.name),colonia:"".concat(t.address.id_colony),postalCode:"".concat(t.address.zip_code),contacts:s,avatar:null===t||void 0===t||null===(n=t.avatar)||void 0===n?void 0:n.url}),a(t.id_address),r(t.address.zip_code)}}(fe,y.GetUserById,z,Se)}}),[e,y,_]);var Ce=function(){var a=Object(P.a)($.a.mark((function a(r){var n,s,c;return $.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:if(!(r.contacts.length<1)){a.next=2;break}return a.abrupt("return",J({mode:"error",message:"Debe agregar al menos 1 contacto"}));case 2:if(W(!0),n=r.contacts.map((function(e){return{name:e.contactName,lastname:e.paternalSurname,second_lastname:e.maternalSurname,phone:e.phone,ext:e.ext,mobile:e.cell,email:e.email,id_user_register:parseInt(t.idUser)}})),a.prev=4,!e){a.next=11;break}return a.next=8,v({variables:{userId:parseInt(e),addressId:parseInt(M),inputAvatar:null!==r&&void 0!==r&&null!==(s=r.avatar)&&void 0!==s&&s.name?we("avatar"):null,input:{name:r.name,first_name:r.firstName,last_name:r.lastName,user_name:r.userName,email:r.userEmail,password:o,id_role:parseInt(r.userRole),id_store:parseInt(r.userStore),id_user_update:parseInt(t.idUser),active:!0},inputAddress:{street:r.direction,external_number:r.outdoorNumber,internal_number:r.interiorNumber,id_country:parseInt(Oe.idCountry),id_state:parseInt(Oe.idState),id_city:parseInt(Oe.idCity),id_municipality:parseInt(Oe.idMunicipality),id_colony:parseInt(r.colonia),zip_code:parseInt(r.postalCode),id_user_update:parseInt(t.idUser)},inputContact:n}});case 8:return a.abrupt("return",(J({mode:"ok",message:"Usuario actualizado correctamente"}),de.push("/catalog/users")));case 11:return a.next=13,p({variables:{inputAvatar:we("avatar"),input:{name:r.name,first_name:r.firstName,last_name:r.lastName,user_name:r.userName,email:r.userEmail,password:r.password,id_role:parseInt(r.userRole),id_store:parseInt(r.userStore),id_user_register:parseInt(t.idUser),active:!0},inputAddress:{street:r.direction,external_number:r.outdoorNumber,internal_number:r.interiorNumber,id_country:parseInt(Oe.idCountry),id_state:parseInt(Oe.idState),id_city:parseInt(Oe.idCity),id_municipality:parseInt(Oe.idMunicipality),id_colony:parseInt(r.colonia),zip_code:parseInt(r.postalCode),id_user_register:parseInt(t.idUser)},inputContact:n}});case 13:return c=a.sent,a.abrupt("return",J({mode:"ok",message:"Usuario registrado correctamente"},de.push(1===c.data.registerUser.id_role?"/catalog/users":"/catalog/users/permissions/edit/".concat(c.data.registerUser.id))));case 15:a.next=21;break;case 17:return a.prev=17,a.t0=a.catch(4),W(!1),a.abrupt("return",J({mode:"error",message:a.t0.message}));case 21:case"end":return a.stop()}}),a,null,[[4,17]])})));return function(e){return a.apply(this,arguments)}}();return Object(g.useEffect)((function(){var e;(null===(e=Oe.colonia)||void 0===e?void 0:e.length)>0&&Ie("colonia",void 0!==y&&null!==y?y.GetUserById.address.id_colony:Oe.colonia[0].id_colony)}),[Oe,y]),Object(U.jsxs)(U.Fragment,{children:[Object(U.jsx)(Qe,{title:"Control de usuarios",breadcrumb:"Usuarios",windowTitle:"".concat(e?"Editar":"Agregar"," usuario ")}),Object(U.jsx)(Ye.b,Object(S.a)(Object(S.a)({},xe),{},{children:Object(U.jsx)("form",{className:"p-5",onSubmit:ye(Ce),children:Object(U.jsx)(Ze,{title:"".concat(e?"Editar":"Agregar"," nuevo usuario"),btnRedPath:"/catalog/users",btnRedTxt:"Cancelar",btnSubmit:!0,btnState:H,errors:Ne,content:Object(U.jsxs)(U.Fragment,{children:[Object(U.jsx)("div",{className:"mb-3 col-12",children:Object(U.jsx)("h2",{children:"Datos Generales"})}),Object(U.jsx)("div",{className:"mb-3 col-12",children:Object(U.jsx)("hr",{})}),Object(U.jsxs)("div",{className:"row",children:[Object(U.jsx)("div",{className:"mb-3 col-lg-12 col-md-12 col-sm-12",children:Object(U.jsx)(zt,{label:"Avatar",inputType:"image",name:"avatar",previewPic:m,validateFormat:"imageAvatar",validateFormatMsg:"Solo se admite JPG, JPGE y PNG",control:_e})}),Object(U.jsx)("div",{className:"mb-3 col-lg-4 col-md-6 col-sm-12",children:Object(U.jsx)(zt,{label:"Nombre",type:"text",name:"name",placeholder:"Ingrese un nombre",control:_e})}),Object(U.jsx)("div",{className:"mb-3 col-lg-4 col-md-6 col-sm-12",children:Object(U.jsx)(zt,{label:"Apellido paterno",type:"text",name:"firstName",placeholder:"Ingrese un apellido paterno",control:_e})}),Object(U.jsx)("div",{className:"mb-3 col-lg-4 col-md-6 col-sm-12",children:Object(U.jsx)(zt,{label:"Apellido materno",type:"text",name:"lastName",placeholder:"Ingrese un apellido materno",control:_e})}),Object(U.jsx)("div",{className:"mb-3 col-lg-4 col-md-6 col-sm-12",children:Object(U.jsx)(zt,{label:"Usuario",type:"text",name:"userName",placeholder:"Ingrese un usuario",control:_e})}),Object(U.jsx)("div",{className:"mb-3 col-lg-4 col-md-6 col-sm-12",children:Object(U.jsx)(zt,{label:"Correo electr\xf3nico",type:"text",name:"userEmail",placeholder:"Ingrese un correo electr\xf3nico",control:_e})}),Object(U.jsx)("div",{className:"mb-3 col-lg-4 col-md-6 col-sm-12",children:Object(U.jsx)(zt,{label:"Rol",type:"text",name:"userRole",inputType:"choosen",options:K,control:_e})}),Object(U.jsx)("div",{className:"mb-3 col-lg-4 col-md-6 col-sm-12",children:Object(U.jsx)(zt,{label:"Tienda",type:"text",name:"userStore",inputType:"choosen",options:ae,control:_e})}),Object(U.jsx)("div",{className:"mb-3 col-lg-4 col-md-6 col-sm-12",children:Object(U.jsx)(zt,{label:"Contrase\xf1a",type:"password",name:"password",placeholder:"Ingrese una contrase\xf1a",control:_e})}),Object(U.jsx)("div",{className:"mb-3 col-lg-4 col-md-6 col-sm-12",children:Object(U.jsx)(zt,{label:"Confirmar contrase\xf1a",type:"password",name:"passwordConfirm",placeholder:"Confirme la contrase\xf1a",control:_e})}),Object(U.jsx)("div",{className:"mb-3 col-4"}),Object(U.jsx)("div",{className:"mb-3 mt-3 col-12",children:Object(U.jsx)("h2",{children:"Direccion"})}),Object(U.jsx)("div",{className:"mb-3 col-12",children:Object(U.jsx)("hr",{})}),Object(U.jsx)("div",{className:"mb-3 col-lg-4 col-md-6 col-sm-12",children:Object(U.jsx)(zt,{label:"Calle",type:"text",name:"direction",placeholder:"Ingrese una calle",control:_e})}),Object(U.jsx)("div",{className:"mb-3 col-lg-4 col-md-6 col-sm-12",children:Object(U.jsx)(zt,{label:"Numero exterior",type:"text",name:"outdoorNumber",placeholder:"# ext.",control:_e})}),Object(U.jsx)("div",{className:"mb-3 col-lg-4 col-md-6 col-sm-12",children:Object(U.jsx)(zt,{label:"Numero interior",type:"text",name:"interiorNumber",placeholder:"# int.",control:_e})}),Object(U.jsx)("div",{className:"mb-3 col-lg-4 col-md-6 col-sm-12",children:Object(U.jsx)(zt,{label:"C. P.",type:"text",name:"postalCode",placeholder:"Ingrese un C. P.",control:_e,blurAction:function(e){Se(e.target.value)}})}),Object(U.jsx)("div",{className:"mb-3 col-lg-4 col-md-6 col-sm-12",children:Object(U.jsx)(zt,{label:"Colonia",type:"text",name:"colonia",inputType:"choosen",options:ce,control:_e})}),Object(U.jsx)("div",{className:"mb-3 col-lg-4 col-md-6 col-sm-12",children:Object(U.jsx)(zt,{label:"Ciudad",readOnly:!0,type:"text",name:"city",placeholder:"Ciudad",control:_e})}),Object(U.jsx)("div",{className:"mb-3 col-lg-4 col-md-6 col-sm-12",children:Object(U.jsx)(zt,{label:"Municipio",readOnly:!0,type:"text",name:"municipality",placeholder:"Municipio",control:_e})}),Object(U.jsx)("div",{className:"mb-3 col-lg-4 col-md-6 col-sm-12",children:Object(U.jsx)(zt,{label:"Estado",readOnly:!0,type:"text",name:"state",placeholder:"Estado",control:_e})}),Object(U.jsx)("div",{className:"mb-3 col-4"}),Object(U.jsx)("div",{className:"mb-3 mt-3 col-12",children:Object(U.jsx)("h2",{children:"Contactos"})}),Object(U.jsx)("div",{className:"mb-3 col-12",children:Object(U.jsx)("hr",{})})]}),Object(U.jsx)("div",{className:"mb-3 col-12 row",children:Object(U.jsx)(Ht,{control:_e,btnAppendTxt:"Agregar Contacto",emptyText:"No ha agregado ning\xfan contacto",prefix:"contacts",inputs:[{name:"contactName",label:"Nombre",type:"text",placeholder:"Ingresa un nombre",colSize:4},{name:"paternalSurname",label:"Apellido paterno",type:"text",placeholder:"Ingresa un apellido",colSize:4},{name:"maternalSurname",label:"Apellido materno",type:"text",placeholder:"Ingresa un apellido",colSize:4},{name:"phone",label:"Tel\xe9fono",type:"text",placeholder:"Ingresa un n\xfamero de tel\xe9fono",colSize:3},{name:"ext",label:"Extensi\xf3n",type:"text",placeholder:"Ext",colSize:1},{name:"cell",label:"Celular",type:"text",placeholder:"Ingresa un n\xfamero de celular",colSize:4},{name:"email",label:"Correo",type:"text",placeholder:"Ingresa un correo electr\xf3nico",colSize:4}]})})]})})})}))]})},Wt=function(e){var t=e.title,a=void 0===t?"Title":t,r=e.icon,n=void 0===r?"fas fa-user":r,s=e.content,c=void 0===s?"":s,i=e.nestedContent,o=void 0!==i&&i,l=e.header,d=void 0!==l&&l;return o?Object(U.jsxs)("div",{className:"card collapsed-card",children:[Object(U.jsxs)("div",{className:"card-header border-0 permissions-cardH",children:[Object(U.jsxs)("h3",{className:"card-title",children:[Object(U.jsx)("i",{className:"".concat(n," mr-1")}),a]}),Object(U.jsx)("div",{className:"card-tools",children:Object(U.jsx)("button",{type:"button",className:"btn btn-accept btn-sm","data-card-widget":"collapse",title:"Abrir",children:Object(U.jsx)("i",{className:"fas fa-plus"})})})]}),Object(U.jsxs)("div",{className:"card-body",children:[d&&d,c]})]}):Object(U.jsx)("div",{className:"card",children:Object(U.jsxs)("div",{className:"card-header border-0 permissions-cardH",children:[Object(U.jsxs)("h3",{className:"card-title",children:[Object(U.jsx)("i",{className:"".concat(n," mr-1")}),a]}),Object(U.jsx)("div",{className:"card-tools",children:c})]})})},Zt=Object(Z.d)(It||(It=Object(W.a)(["\n  query getAllModules($searchQuery: String, $limit: Int, $offset: Int) {\n    getAllModules(searchQuery: $searchQuery, limit: $limit, offset: $offset) {\n      rows {\n        id\n        name\n        front_label\n        icon\n        relative_link\n        submodules {\n          id\n          name\n          relative_link\n          front_label\n          icon\n        }\n      }\n      count\n    }\n  }\n"]))),Yt=Object(Z.d)(_t||(_t=Object(W.a)(["\n  query GetOneModule($getOneModuleId: Int!) {\n    getOneModule(id: $getOneModuleId) {\n      id\n      name\n      front_label\n      relative_link\n      icon\n      submodules {\n        id\n        module_id\n        name\n        front_label\n        icon\n        relative_link\n      }\n    }\n  }\n"]))),Kt=Object(Z.d)(wt||(wt=Object(W.a)(["\n  mutation GetAllModulesExport {\n    getAllModulesExport {\n      id\n      name\n      front_label\n      icon\n      relative_link\n      submodules {\n        id\n        name\n        relative_link\n        front_label\n        icon\n      }\n    }\n  }\n"]))),Xt=Object(Z.d)(St||(St=Object(W.a)(["\n  mutation CreateModuleMutation(\n    $moduleInput: moduleInput!\n    $submoduleInput: [submoduleInput]!\n  ) {\n    createModule(moduleInput: $moduleInput, submoduleInput: $submoduleInput) {\n      id\n      name\n    }\n  }\n"]))),ea=Object(Z.d)(Bt||(Bt=Object(W.a)(["\n  mutation UpdateModule(\n    $moduleId: Int!\n    $moduleInput: moduleInput!\n    $submoduleInput: [submoduleInput]!\n    $submodulesIdsTodelete: [Int]!\n  ) {\n    updateModule(\n      moduleId: $moduleId\n      moduleInput: $moduleInput\n      submoduleInput: $submoduleInput\n      submodulesIdsTodelete: $submodulesIdsTodelete\n    ) {\n      id\n      name\n      front_label\n      relative_link\n      icon\n      submodules {\n        front_label\n        id\n        icon\n        module_id\n      }\n    }\n  }\n"]))),ta=Object(Z.d)(Ct||(Ct=Object(W.a)(["\n  mutation deleteModule($id: Int!) {\n    deleteModule(id: $id)\n  }\n"]))),aa=Object(Z.d)(kt||(kt=Object(W.a)(["\n  mutation GetAllUserPermissionsMutation($userID: Int!) {\n    getAllUserPermissions(userID: $userID) {\n      id\n      id_module\n      id_submodule\n      access_delete\n      access_retrieve\n      access_read\n      access_edit\n      access_export\n      module_info {\n        name\n      }\n      submodule_info {\n        name\n      }\n    }\n  }\n"]))),ra=(Object(Z.d)(Pt||(Pt=Object(W.a)(["\n  mutation CreateUserPermissionMutation(\n    $userId: Int!\n    $modules: [userModuleInput!]!\n  ) {\n    createUserPermission(userID: $userId, modules: $modules)\n  }\n"]))),Object(Z.d)(Et||(Et=Object(W.a)(["\n  mutation UpdateUserPermissionMutation(\n    $userId: Int!\n    $modules: [userModuleInput!]!\n  ) {\n    updateUserPermission(userID: $userId, modules: $modules)\n  }\n"])))),na=function(){var e=Object(F.a)(Zt,{variables:{limit:null,offset:null}}),t=e.loading,a=e.error,r=e.data,n=Object(De.a)(aa),s=Object(I.a)(n,1)[0],c=Object(De.a)(ra),i=Object(I.a)(c,1)[0],o=Object(g.useState)([]),l=Object(I.a)(o,2),d=l[0],u=l[1],m=Object(g.useState)([]),b=Object(I.a)(m,2),j=b[0],p=b[1],O=Object(T.i)().id,v=Object(T.g)(),h=Object(g.useState)(!1),f=Object(I.a)(h,2),x=f[0],y=f[1];Object(g.useEffect)((function(){if(!t&&(void 0!==r||null==r)){if(a)return J({mode:"error",message:a.message});u(r.getAllModules.rows)}}),[t,a,r,j]),Object(g.useEffect)((function(){if(O){var e=function(){var e=Object(P.a)($.a.mark((function e(){var t,a;return $.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,s({variables:{userID:parseInt(O)}});case 3:t=e.sent,a=t.data,p(a.getAllUserPermissions),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),J({mode:"errorModal",message:e.t0.message});case 11:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(){return e.apply(this,arguments)}}();e()}}),[O,s,d]);var N=Object(Ye.h)(),_=N.handleSubmit,w=N.control,B=N.setValue,C=function(){var e=Object(P.a)($.a.mark((function e(t){var a;return $.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return y(!0),e.next=3,k(t);case 3:return a=e.sent,e.prev=4,e.next=7,i({variables:{userId:parseInt(O),modules:a}});case 7:return e.abrupt("return",(J({mode:"ok",message:"Permisos actualizados correctamente"}),v.push("/catalog/users")));case 10:return e.prev=10,e.t0=e.catch(4),y(!1),e.abrupt("return",J({mode:"error",message:e.t0.message}));case 14:case"end":return e.stop()}}),e,null,[[4,10]])})));return function(t){return e.apply(this,arguments)}}(),k=function(){var e=Object(P.a)($.a.mark((function e(t){var a,r;return $.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return[],r=Object.entries(t),a=Object.values(t).map((function(e,t){var a=r[t][0].split("-"),n=parseInt(a[0]),s=a[1]?parseInt(a[1]):null;return{id_user:parseInt(O),id_module:n,id_submodule:s,access_delete:!!e.delete,access_edit:!!e.edit,access_read:!!e.read,access_retrieve:!!e.create,access_export:!!e.export}})),e.abrupt("return",a);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),E=function(e,t){for(var a=0;a<j.length;a++){var r,n,s,c,i;if(null!==(null===(r=j[a])||void 0===r?void 0:r.id_submodule)){if(e===(null===(n=j[a])||void 0===n||null===(s=n.submodule_info)||void 0===s?void 0:s.name))return j[a][t]}else if(e===(null===(c=j[a])||void 0===c||null===(i=c.module_info)||void 0===i?void 0:i.name))return j[a][t]}},A=function(e){return Object(U.jsx)(Ye.a,Object(S.a)(Object(S.a)({},e),{},{render:function(t){var a=t.field;return Object(U.jsxs)("div",{className:"custom-control custom-switch ml-auto mb-0",children:[Object(U.jsx)("input",Object(S.a)(Object(S.a)({},a),{},{type:"checkbox",value:e.value,checked:a.value,className:"custom-control-input ml-2 mr-n2",id:"".concat(e.labelInput),onChange:function(t){var r=t.target.name,n=(r=r.split("["))[0]+"[read]";if(e.labelInput.includes("delete")||e.labelInput.includes("edit")||e.labelInput.includes("create")||e.labelInput.includes("export"))B(n,!0);else if(!1===document.getElementsByName(n)[0].checked){var s=t.target.name,c=(s=s.split("["))[0]+"[delete]";B(c,!1);var i=s[0]+"[edit]";B(i,!1);var o=s[0]+"[create]";B(o,!1);var l=s[0]+"[export]";B(l,!1)}a.onChange(!!t.target.checked)}})),Object(U.jsx)("label",{htmlFor:"".concat(e.labelInput),className:"custom-control-label mr-2 ml-2",children:e.label})]})}}))};return Object(U.jsxs)(U.Fragment,{children:[Object(U.jsx)(Qe,{title:"Asignaci\xf3n de permisos",breadcrumb:"Permisos",windowTitle:"Permisos usuario"}),Object(U.jsx)("form",{onSubmit:_(C),children:Object(U.jsx)(Ze,{title:"Seleccione los permisos para el usuario",btnRedTxt:"Cancelar",btnRedPath:"/catalog/users",btnSubmit:!0,btnState:x,content:d.map((function(e){return e.submodules.length<=0?Object(U.jsx)(Wt,{title:e.front_label,icon:"fas fa-box",content:Object(U.jsxs)("div",{className:"card-wrapper",children:[Object(U.jsx)(A,{labelInput:"read".concat(e.name),label:"Lectura",control:w,name:"".concat(e.id,"-null-").concat(e.name,"[read]"),defaultValue:E(e.name,"access_read")}),Object(U.jsx)(A,{labelInput:"create".concat(e.name),label:"Crear",control:w,name:"".concat(e.id,"-null-").concat(e.name,"[create]"),defaultValue:E(e.name,"access_retrieve")}),Object(U.jsx)(A,{labelInput:"edit".concat(e.name),label:"Editar",control:w,name:"".concat(e.id,"-null-").concat(e.name,"[edit]"),defaultValue:E(e.name,"access_edit")}),Object(U.jsx)(A,{labelInput:"delete".concat(e.name),label:"Eliminar",control:w,name:"".concat(e.id,"-null-").concat(e.name,"[delete]"),defaultValue:E(e.name,"access_delete")}),Object(U.jsx)(A,{labelInput:"export".concat(e.name),label:"Exportar",control:w,name:"".concat(e.id,"-null-").concat(e.name,"[export]"),defaultValue:E(e.name,"access_export")})]})},e.id):Object(U.jsx)(Wt,{title:e.front_label,icon:"fas fa-box",nestedContent:!0,content:e.submodules.map((function(t){return Object(U.jsx)("div",{className:"card",children:Object(U.jsxs)("div",{className:"card-header border-0 permissions-cardH",children:[Object(U.jsx)("h3",{className:"card-title",children:t.front_label}),Object(U.jsx)("div",{className:"card-tools",children:Object(U.jsxs)("div",{className:"card-wrapper",children:[Object(U.jsx)(A,{labelInput:"read".concat(t.name),label:"Lectura",control:w,name:"".concat(e.id,"-").concat(t.id,"-").concat(t.name,"[read]"),defaultValue:E(t.name,"access_read")}),Object(U.jsx)(A,{labelInput:"create".concat(t.name),label:"Crear",control:w,name:"".concat(e.id,"-").concat(t.id,"-").concat(t.name,"[create]"),defaultValue:E(t.name,"access_retrieve")}),Object(U.jsx)(A,{labelInput:"edit".concat(t.name),label:"Editar",control:w,name:"".concat(e.id,"-").concat(t.id,"-").concat(t.name,"[edit]"),defaultValue:E(t.name,"access_edit")}),Object(U.jsx)(A,{labelInput:"delete".concat(t.name),label:"Eliminar",control:w,name:"".concat(e.id,"-").concat(t.id,"-").concat(t.name,"[delete]"),defaultValue:E(t.name,"access_delete")}),Object(U.jsx)(A,{labelInput:"export".concat(t.name),label:"Exportar",control:w,name:"".concat(e.id,"-").concat(t.id,"-").concat(t.name,"[export]"),defaultValue:E(t.name,"access_export")})]})})]})},t.id)}))},e.id)}))},"boxkey")})]})},sa=function(){var e=Object(g.useState)({searchQuery:null,limit:10,offset:0}),t=Object(I.a)(e,2),a=t[0],r=t[1],n=Object(g.useState)(0),s=Object(I.a)(n,2),c=s[0],i=s[1],o=Object(F.a)(at,{variables:{searchQuery:a.searchQuery,limit:a.limit,offset:a.offset}}),l=o.loading,d=o.error,u=o.data,m=Object(g.useState)([]),b=Object(I.a)(m,2),j=b[0],p=b[1];return Object(g.useEffect)((function(){if(!l){if(d)return J({mode:"errorModal",message:d.message});var e=[];u.getAllRoles.rows.map((function(t){return e.push({id:t.id,Nombre:t.role_name,"Descripci\xf3n":t.description})})),p(e),i(u.getAllRoles.count)}}),[l,d,u]),Object(U.jsxs)(U.Fragment,{children:[Object(U.jsx)(Qe,{title:"Roles de usuario",breadcrumb:"Roles",windowTitle:"Roles"}),Object(U.jsx)(Je,{data:j,title:"Lista de perfiles",gql:it,requery:at,exportQuery:nt,totalCount:c,pagePagination:a,setPagePagination:r,loadingData:l})]})},ca=function(){var e=Object(T.i)().id,t=Object(g.useContext)(w).user,a=Object(De.a)(st,{refetchQueries:[{query:at}]}),r=Object(I.a)(a,1)[0],n=Object(De.a)(ct,{refetchQueries:[{query:at},{query:rt,variables:{getOneRoleId:parseInt(e)}}]}),s=Object(I.a)(n,1)[0],c=Object(F.a)(rt,{variables:{getOneRoleId:parseInt(e)}}),i=c.data,o=c.loading,l=c.error,d=Object(g.useState)(!1),u=Object(I.a)(d,2),m=u[0],b=u[1],j=Object(T.g)(),p=lt.c().shape({role_name:lt.e().required("El nombre del rol es requerido"),description:lt.e()}),O=Object(Ye.h)({resolver:Object(Ke.a)(p)}),v=O.methods,h=O.handleSubmit,f=O.formState.errors,x=O.control,y=O.reset;Object(g.useEffect)((function(){if(!o&&e){if(l)return b(!1),J({mode:"errorModal",message:l.message});y(null===i||void 0===i?void 0:i.getOneRole)}}),[e,i,l]);var N=function(){var a=Object(P.a)($.a.mark((function a(n){return $.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:if(b(!0),a.prev=1,!e){a.next=8;break}return a.next=5,s({variables:{roleId:parseInt(e),input:{role_name:n.role_name,description:n.description,id_user_update:t.idUser}}});case 5:return a.abrupt("return",(J({mode:"ok",message:"Rol actualizado correctamente"}),j.push("/catalog/roles")));case 8:return a.next=10,r({variables:{input:{role_name:n.role_name,description:n.description,id_user_register:t.idUser}}});case 10:return a.abrupt("return",J({mode:"ok",message:"Rol registrado correctamente"},j.push("/catalog/roles")));case 11:a.next=17;break;case 13:return a.prev=13,a.t0=a.catch(1),b(!1),a.abrupt("return",J({mode:"error",message:a.t0.message}));case 17:case"end":return a.stop()}}),a,null,[[1,13]])})));return function(e){return a.apply(this,arguments)}}();return Object(U.jsxs)(U.Fragment,{children:[Object(U.jsx)(Qe,{title:"Roles de usuario",breadcrumb:"Roles",windowTitle:"".concat(e?"Editar":"Agregar"," role ")}),Object(U.jsx)(Ye.b,Object(S.a)(Object(S.a)({},v),{},{children:Object(U.jsx)("form",{className:"p-3",onSubmit:h(N),children:Object(U.jsx)(Ze,{title:"".concat(e?"Editar":"Agregar"," nuevo rol"),btnRedPath:"/catalog/roles",btnRedTxt:"Cancelar",errors:f,btnSubmit:!0,btnLoading:m,content:Object(U.jsx)(U.Fragment,{children:Object(U.jsxs)("div",{className:"row",children:[Object(U.jsx)("div",{className:"mb-3 col-lg-12 col-md-12 col-sm-12",children:Object(U.jsx)(zt,{label:"Nombre del rol",name:"role_name",type:"text",placeholder:"Nombre del rol",control:x})}),Object(U.jsx)("div",{className:"mb-3 col-lg-12 col-md-12 col-sm-12",children:Object(U.jsx)(zt,{label:"Descripci\xf3n",name:"description",inputType:"textarea",rows:3,placeholder:"Descripci\xf3n",control:x})})]})})})})}))]})},ia=function(){var e=Object(g.useState)({searchQuery:null,limit:10,offset:0}),t=Object(I.a)(e,2),a=t[0],r=t[1],n=Object(g.useState)(0),s=Object(I.a)(n,2),c=s[0],i=s[1],o=Object(F.a)(Zt,{variables:{searchQuery:a.searchQuery,limit:a.limit,offset:a.offset}}),l=o.loading,d=o.error,u=o.data,m=Object(g.useState)([]),b=Object(I.a)(m,2),j=b[0],p=b[1];return Object(g.useEffect)((function(){if(!l){if(d)return J({mode:"errorModal",message:d.message});var e=[];u.getAllModules.rows.map((function(t){return e.push({id:t.id,"Nombre m\xf3dulo":t.name,Etiqueta:t.front_label,Link:t.relative_link,Icono:Object(U.jsx)("i",{className:"fas fa-".concat(t.icon)}),Submodulos:t.submodules.length})})),p(e),i(u.getAllModules.count)}}),[l,d,u]),Object(U.jsxs)(U.Fragment,{children:[Object(U.jsx)(Qe,{title:"Control de m\xf3dulos",breadcrumb:"M\xf3dulos",windowTitle:"M\xf3dulos"}),Object(U.jsx)(Je,{data:j,title:"Lista de m\xf3dulos",gql:ta,requery:Zt,exportQuery:Kt,totalCount:c,pagePagination:a,setPagePagination:r,loadingData:l})]})},oa=function(){var e=Object(T.i)().id,t=Object(T.g)(),a=Object(g.useState)(!1),r=Object(I.a)(a,2),n=r[0],s=r[1],c=Object(g.useState)(""),i=Object(I.a)(c,2),o=i[0],l=i[1],d=Object(g.useState)([]),u=Object(I.a)(d,2),m=u[0],b=u[1],j=Object(g.useState)(""),p=Object(I.a)(j,2),O=p[0],v=p[1],h=Object(F.a)(Yt,{variables:{getOneModuleId:parseInt(e)}}).data,f=Object(De.a)(Xt,{refetchQueries:[{query:Zt}]}),x=Object(I.a)(f,1)[0],y=Object(De.a)(ea,{refetchQueries:[{query:Zt},{query:Yt,variables:{getOneModuleId:parseInt(e)}}]}),N=Object(I.a)(y,1)[0],_=lt.c().shape({frontLabel:lt.e().required("Este campo es obligatorio"),moduleName:lt.e().required("Este campo es obligatorio"),relativeLink:lt.e().required("Este campo es obligatorio"),icon:lt.e().required("Este campo es obligatorio"),submodules:lt.a().of(lt.c().shape({submoduleName:lt.e().required("Este campo es obligatorio"),frontLabelSubmodule:lt.e().required("Este campo es obligatorio"),relativeLinkSubmodule:lt.e().required("Este campo es obligatorio"),iconSubmodule:lt.e().required("Este campo es obligatorio")}))}),w=Object(Ye.h)({defaultValues:{submodules:[{id:"",frontLabelSubmodule:"",submoduleName:"",relativeLinkSubmodule:"",iconSubmodule:""}]},resolver:Object(Ke.a)(_)}),B=w.methods,C=w.handleSubmit,k=w.control,E=w.formState.errors,A=w.reset;Object(g.useEffect)((function(){if(e&&void 0!==h&&null!==h){var t=h.getOneModule;l("fas fa-".concat(t.icon));var a=t.submodules.map((function(e,t){return v(Object(S.a)(Object(S.a)({},O),{},Object(Gt.a)({},"submodules[".concat(t,"].iconSubmodule"),"fas fa-".concat(e.icon)))),{id:e.id,submoduleName:e.name,relativeLinkSubmodule:e.relative_link,frontLabelSubmodule:e.front_label,iconSubmodule:e.icon}})),r={moduleName:t.name,frontLabel:t.front_label,relativeLink:t.relative_link,icon:t.icon,submodules:a};A(r)}}),[h,A,e]);var q=function(){var a=Object(P.a)($.a.mark((function a(r){var n;return $.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:if(n=r.submodules.map((function(e){return{id:"number"===typeof e.id?parseInt(e.id):0,name:e.submoduleName,relative_link:e.relativeLinkSubmodule,front_label:e.frontLabelSubmodule,icon:e.iconSubmodule}})),a.prev=1,!e){a.next=8;break}return a.next=5,N({variables:{moduleId:parseInt(e),moduleInput:{name:r.moduleName,relative_link:r.relativeLink,front_label:r.frontLabel,icon:r.icon},submodulesIdsTodelete:m,submoduleInput:n}});case 5:return a.abrupt("return",J({mode:"ok",message:"M\xf3dulo actualizado correctamente"},t.push("/modules")));case 8:return a.next=10,x({variables:{moduleInput:{name:r.moduleName,relative_link:r.relativeLink,front_label:r.frontLabel,icon:r.icon},submoduleInput:n}});case 10:return a.abrupt("return",J({mode:"ok",message:"M\xf3dulo registrado correctamente"},t.push("/modules")));case 11:a.next=17;break;case 13:return a.prev=13,a.t0=a.catch(1),s(!1),a.abrupt("return",J({mode:"error",message:a.t0.message}));case 17:case"end":return a.stop()}}),a,null,[[1,13]])})));return function(e){return a.apply(this,arguments)}}();return Object(U.jsxs)(U.Fragment,{children:[Object(U.jsx)(Qe,{title:"Control de m\xf3dulos",breadcrumb:"M\xf3dulos",windowTitle:"".concat(e?"Editar":"Agregar"," m\xf3dulo ")}),Object(U.jsx)(Ye.b,Object(S.a)(Object(S.a)({},B),{},{children:Object(U.jsx)("form",{className:"p-5",onSubmit:C(q),children:Object(U.jsx)(Ze,{title:"".concat(e?"Editar":"Agregar"," m\xf3dulo"),btnRedPath:"/modules",btnRedTxt:"Cancelar",btnSubmit:!0,btnState:n,errors:E,content:Object(U.jsxs)(U.Fragment,{children:[Object(U.jsxs)("div",{className:"row",children:[Object(U.jsx)("div",{className:"mb-3 col-12",children:Object(U.jsx)("h2",{children:"M\xf3dulo principal"})}),Object(U.jsx)("div",{className:"mb-3 col-12",children:Object(U.jsx)("hr",{})}),Object(U.jsx)("div",{className:"mb-3 col-md-12 col-lg-3",children:Object(U.jsx)(zt,{label:"Etiqueta frontal",type:"text",name:"frontLabel",placeholder:"Ingrese el nombre del m\xf3dulo en el menu",control:k})}),Object(U.jsx)("div",{className:"mb-3 col-md-12 col-lg-3",children:Object(U.jsx)(zt,{label:"Nombre m\xf3dulo",type:"text",name:"moduleName",placeholder:"Ingrese el nombre del m\xf3dulo",control:k})}),Object(U.jsx)("div",{className:"mb-3 col-md-12 col-lg-3",children:Object(U.jsx)(zt,{label:"Link/Enlace",type:"text",name:"relativeLink",placeholder:"Ingrese el link para el m\xf3dulo",control:k})}),Object(U.jsxs)("div",{className:"mb-3 col-md-12 col-lg-3",children:[Object(U.jsx)("label",{children:"Icono"}),Object(U.jsxs)("div",{className:"input-group",children:[Object(U.jsx)("div",{className:"input-group-append",children:Object(U.jsx)("span",{className:"input-group-text",id:"inputGroupAppend",children:Object(U.jsx)("i",{className:o})})}),Object(U.jsx)(zt,{type:"text",name:"icon",placeholder:"Icono de FontAwesome u otra librer\xeda activa","aria-describedby":"inputGroupAppend",control:k,changeAction:function(e){return l("fas fa-".concat(e.target.value))}})]})]}),Object(U.jsx)("div",{className:"mb-3 mt-3 col-12",children:Object(U.jsx)("h2",{children:"Subm\xf3dulos"})}),Object(U.jsx)("div",{className:"mb-3 col-12",children:Object(U.jsx)("hr",{})})]}),Object(U.jsx)("div",{className:"row",children:Object(U.jsx)(Ht,{control:k,btnAppendTxt:"Agregar subm\xf3dulo",emptyText:"No hay subm\xf3dulos",iconSubmodule:O,prefix:"submodules",idsToDelete:m,setIdsToDelete:b,inputs:[{name:"id",type:"hidden"},{name:"frontLabelSubmodule",label:"Etiqueta frontal",type:"text",placeholder:"Ingrese el nombre del m\xf3dulo en el menu",colSize:3},{name:"submoduleName",label:"Nombre subm\xf3dulo",type:"text",placeholder:"Ingrese el nombre del subm\xf3dulo",colSize:3},{name:"relativeLinkSubmodule",label:"Link/Enlace",type:"text",placeholder:"Ingrese el link para el subm\xf3dulo",colSize:3},{name:"iconSubmodule",label:"Icono subm\xf3dulo",type:"text",placeholder:"Icono de FontAwesome u otra librer\xeda activa",iconState:v,specialSubmodule:!0,colSize:3}]})})]})})})}))]})},la=Object(Z.d)($t||($t=Object(W.a)(["\n  query GetAllAppUsers($searchQuery: String, $limit: Int, $offset: Int) {\n    getAllAppUsers(searchQuery: $searchQuery, limit: $limit, offset: $offset) {\n      rows {\n        name\n        first_name\n        last_name\n        id\n        username\n        userType {\n          name\n        }\n      }\n      count\n    }\n  }\n"]))),da=Object(Z.d)(At||(At=Object(W.a)(["\n  mutation DeleteAppUser($id: Int!) {\n    deleteAppUser(id: $id)\n  }\n"]))),ua=Object(Z.d)(Tt||(Tt=Object(W.a)(["\n  mutation CreateAppUser($input: AppUserInput!) {\n    createAppUser(input: $input)\n  }\n"]))),ma=Object(Z.d)(qt||(qt=Object(W.a)(["\n  mutation UpdateAppUser($updateAppUserId: Int!, $input: AppUserUpdateInput!) {\n    updateAppUser(id: $updateAppUserId, input: $input)\n  }\n"]))),ba=Object(Z.d)(Dt||(Dt=Object(W.a)(["\n  query GetAppUser($getAppUserId: Int!) {\n    getAppUser(id: $getAppUserId) {\n      id\n      name\n      first_name\n      last_name\n      phone\n      email\n      username\n      id_type\n    }\n  }\n"]))),ja=function(){var e=Object(g.useState)({searchQuery:null,limit:10,offset:0}),t=Object(I.a)(e,2),a=t[0],r=t[1],n=Object(g.useState)(0),s=Object(I.a)(n,2),c=s[0],i=s[1],o=Object(F.a)(la,{variables:{searchQuery:a.searchQuery,limit:a.limit,offset:a.offset}}),l=o.loading,d=o.error,u=o.data,m=Object(g.useState)([]),b=Object(I.a)(m,2),j=b[0],p=b[1];return Object(g.useEffect)((function(){if(!l){if(d)return J({mode:"errorModal",message:d.message});var e=[];u.getAllAppUsers.rows.map((function(t){return e.push({id:t.id,Nombre:t.name,"Apellido Paterno":t.first_name,"Apellido Materno":t.last_name,Usuario:t.username})})),p(e),i(u.getAllAppUsers.count)}}),[l,d,u]),Object(U.jsxs)(U.Fragment,{children:[Object(U.jsx)(Qe,{title:"Control de usuarios",breadcrumb:"Usuarios",windowTitle:"Usuarios"}),Object(U.jsx)(Je,{data:j,title:"Lista de usuarios",gql:da,requery:la,exportQuery:da,totalCount:c,pagePagination:a,setPagePagination:r})]})},pa=function(){var e=Object(T.i)().id,t=Object(De.a)(ua,{refetchQueries:[{query:la}]}),a=Object(I.a)(t,1)[0],r=Object(De.a)(ma,{refetchQueries:[{query:la},{query:ba,variables:{getAppUserId:parseInt(e)}}]}),n=Object(I.a)(r,1)[0],s=Object(F.a)(ba,{variables:{getAppUserId:parseInt(e)}}),c=s.data,i=s.loading,o=s.error,l=Object(g.useState)(!1),d=Object(I.a)(l,2),u=d[0],m=d[1],b=Object(T.g)(),j=lt.c({name:lt.e().required("El nombre es requerido"),firstName:lt.e().required("El apellido es requerido"),lastName:lt.e().required("El apellido es requerido"),userName:lt.e().required("El nombre de usuario es requerido"),userEmail:lt.e().email("El email no es valido").required("El email es requerido"),userPhone:lt.e().required("El telefono es requerido"),password:lt.e().required("La contrase\xf1a es requerida"),passwordConfirm:lt.e().oneOf([lt.d("password"),null],"Las contrase\xf1as no coinciden").required("La confirmaci\xf3n de la contrase\xf1a es requerida"),userType:lt.e().required("El tipo de usuario es requerido")}),p=lt.c({name:lt.e().required("El nombre es requerido"),firstName:lt.e().required("El apellido es requerido"),lastName:lt.e().required("El apellido es requerido"),userName:lt.e().required("El nombre de usuario es requerido"),userEmail:lt.e().email("El email no es valido").required("El email es requerido"),userPhone:lt.e().required("El telefono es requerido"),password:lt.e(),passwordConfirm:lt.e().oneOf([lt.d("password"),null],"Las contrase\xf1as no coinciden"),userType:lt.e().required("El tipo de usuario es requerido")}),O=Object(Ye.h)({resolver:Object(Ke.a)(e?p:j)}),v=(O.reset,O.watch,O.methods),h=O.handleSubmit,f=O.formState.errors,x=O.setValue,y=O.control;O.getValues;Object(g.useEffect)((function(){if(e&&!i){if(o)return J({mode:"errorModal",message:o.message});c&&(x("name",c.getAppUser.name),x("firstName",c.getAppUser.first_name),x("lastName",c.getAppUser.last_name),x("userName",c.getAppUser.username),x("userEmail",c.getAppUser.email),x("userPhone",c.getAppUser.phone),x("userType",c.getAppUser.id_type))}}),[e,c,o]);var N=function(){var t=Object(P.a)($.a.mark((function t(r){var s,c;return $.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(m(!0),t.prev=1,!e){t.next=11;break}return t.next=5,n({variables:{updateAppUserId:parseInt(e),input:{name:r.name,first_name:r.firstName,last_name:r.lastName,username:r.userName,email:r.userEmail,password:r.password||null,phone:r.userPhone,id_type:parseInt(r.userType)}}});case 5:if(s=t.sent,!s.data.updateAppUser){t.next=9;break}return t.abrupt("return",(J({mode:"ok",message:"Usuario actualizado correctamente"}),b.push("/catalog/usersApp")));case 9:t.next=17;break;case 11:return t.next=13,a({variables:{input:{name:r.name,first_name:r.firstName,last_name:r.lastName,username:r.userName,email:r.userEmail,password:r.password,phone:r.userPhone,id_type:parseInt(r.userType)}}});case 13:if(c=t.sent,!c.data.createAppUser){t.next=17;break}return t.abrupt("return",(J({mode:"ok",message:"Usuario actualizado correctamente"}),b.push("/catalog/usersApp")));case 17:t.next=23;break;case 19:return t.prev=19,t.t0=t.catch(1),m(!1),t.abrupt("return",J({mode:"error",message:t.t0.message}));case 23:case"end":return t.stop()}}),t,null,[[1,19]])})));return function(e){return t.apply(this,arguments)}}();return Object(U.jsxs)(U.Fragment,{children:[Object(U.jsx)(Qe,{title:"Control de usuarios",breadcrumb:"Usuarios de App",windowTitle:"".concat(e?"Editar":"Agregar"," usuario ")}),Object(U.jsx)(Ye.b,Object(S.a)(Object(S.a)({},v),{},{children:Object(U.jsx)("form",{className:"p-5",onSubmit:h(N),children:Object(U.jsx)(Ze,{title:"".concat(e?"Editar":"Agregar"," nuevo usuario"),btnRedPath:"/catalog/appUsers",btnRedTxt:"Cancelar",btnSubmit:!0,btnState:u,errors:f,content:Object(U.jsxs)(U.Fragment,{children:[Object(U.jsx)("div",{className:"mb-3 col-12",children:Object(U.jsx)("h2",{children:"Datos Generales"})}),Object(U.jsx)("div",{className:"mb-3 col-12",children:Object(U.jsx)("hr",{})}),Object(U.jsxs)("div",{className:"row",children:[Object(U.jsx)("div",{className:"mb-3 col-lg-4 col-md-6 col-sm-12",children:Object(U.jsx)(zt,{label:"Nombre",type:"text",name:"name",placeholder:"Ingrese un nombre",control:y})}),Object(U.jsx)("div",{className:"mb-3 col-lg-4 col-md-6 col-sm-12",children:Object(U.jsx)(zt,{label:"Apellido paterno",type:"text",name:"firstName",placeholder:"Ingrese un apellido paterno",control:y})}),Object(U.jsx)("div",{className:"mb-3 col-lg-4 col-md-6 col-sm-12",children:Object(U.jsx)(zt,{label:"Apellido materno",type:"text",name:"lastName",placeholder:"Ingrese un apellido materno",control:y})}),Object(U.jsx)("div",{className:"mb-3 col-lg-4 col-md-6 col-sm-12",children:Object(U.jsx)(zt,{label:"Usuario",type:"text",name:"userName",placeholder:"Ingrese un usuario",control:y})}),Object(U.jsx)("div",{className:"mb-3 col-lg-4 col-md-6 col-sm-12",children:Object(U.jsx)(zt,{label:"Correo electr\xf3nico",type:"text",name:"userEmail",placeholder:"Ingrese un correo electr\xf3nico",control:y})}),Object(U.jsx)("div",{className:"mb-3 col-lg-4 col-md-6 col-sm-12",children:Object(U.jsx)(zt,{label:"Telefono",type:"text",name:"userPhone",placeholder:"Ingrese un numero de telefono",control:y})}),Object(U.jsx)("div",{className:"mb-3 col-lg-4 col-md-6 col-sm-12",children:Object(U.jsx)(zt,{label:"Contrase\xf1a",type:"password",name:"password",placeholder:"Ingrese una contrase\xf1a",control:y})}),Object(U.jsx)("div",{className:"mb-3 col-lg-4 col-md-6 col-sm-12",children:Object(U.jsx)(zt,{label:"Confirmar contrase\xf1a",type:"password",name:"passwordConfirm",placeholder:"Confirme la contrase\xf1a",control:y})}),Object(U.jsx)("div",{className:"mb-3 col-lg-4 col-md-6 col-sm-12",children:Object(U.jsx)(zt,{label:"Tipo de usuario",inputType:"select",name:"userType",placeholder:"Seleccione un tipo de usuario",control:y,options:[Object(U.jsx)("option",{value:"1",children:"Picking"}),Object(U.jsx)("option",{value:"2",children:"Packing"})]})})]})]})})})}))]})},Oa=a(204),va=a(195),ha=a(196),fa=Object(Z.d)(Ut||(Ut=Object(W.a)(["\nquery GetQuotes {\n  getQuotes {\n    id\n    cardCode\n    cardName\n    docDate\n    docTime\n    docStatus\n    comments\n    whsCode\n    status {\n      id\n      name\n    }\n  }\n}\n"]))),ga=Object(Z.d)(Qt||(Qt=Object(W.a)(["\nmutation CreateQuote($inputQuote: quoteData!) {\n  createQuote(inputQuote: $inputQuote)\n}\n"]))),xa=Object(Z.d)(Rt||(Rt=Object(W.a)(["\nmutation GetInfoProvider($inputProvider: providerData!) {\n  getInfoProvider(inputProvider: $inputProvider)\n}\n"]))),ya={1:"Abierto",2:"Cerrado",3:"Cancelado"},Na=function(){var e=ya,t=Object(F.a)(fa),a=t.data,r=t.loading,n=t.error,s=Object(g.useState)({id:null,cardCode:null,cardName:null,comments:null,docDate:null,docStatus:null,docTime:null,whsCode:null}),c=Object(I.a)(s,2),i=c[0],o=c[1],l=Object(g.useState)({id:null,title:null,date:null}),d=Object(I.a)(l,2),u=d[0],m=d[1];Object(g.useEffect)((function(){if(!r){if(n)return J({mode:"error",message:"Debe escribir el motivo de la cancelacion"});var e=[];a.getQuotes.map((function(t){e.push({id:t.id,title:t.cardName||t.cardCode&&"Codigo proveedor"+t.cardCode||"--",date:t.docDate+" "+t.docTime})})),o(a.getQuotes),m(e)}}),[a,r,n]);return Object(U.jsx)(U.Fragment,{children:!r&&Object(U.jsxs)(U.Fragment,{children:[Object(U.jsx)(Qe,{title:"Citas de Proveedores",breadcrumb:"Citas de Proveedores",windowTitle:"Citas"}),Object(U.jsxs)("div",{className:"card layout-configs",children:[Object(U.jsxs)("div",{className:"card-header",children:[Object(U.jsx)("h3",{className:"card-title",children:"Citas"}),Object(U.jsx)("div",{className:"control-btn-box",children:Object(U.jsx)("div",{className:"btn-group actions-btn",role:"group","aria-label":"Button group with nested dropdown",children:Object(U.jsxs)(A.b,{to:"/citas/proveedores/new",className:"btn btn-accept btn-sm",children:[Object(U.jsx)("i",{className:"fa fa-plus"})," Agregar Nuevo \xa0"]})})})]}),Object(U.jsx)("div",{className:"card-body FullCalendar",children:Object(U.jsx)(Oa.a,{plugins:[va.a,ha.a],initialView:"dayGridMonth",events:u,eventClick:function(t){var a,r,n=t.event.id,s=i.find((function(e){return e.id===parseInt(n)}));return H.a.fire({showCloseButton:!0,title:"Detalles de cita",html:'\n                <div id="quotesModalBox">\n                    <h4>'.concat(s.docDate&&s.docTime&&'<i class="fas fa-clock"></i> '.concat(te()(s.docDate+" "+s.docTime).format("LL hh:mm a")),"</h4>\n                    <h5>").concat(s.cardCode&&'<span class="quoteAttribute">Codigo de proveedor </span><span style="float:right;">'.concat(s.cardCode),"</span> </h5>\n                    <h5>").concat(s.cardName&&'<span class="quoteAttribute">Proveedor </span><span style="float:right;">'.concat(s.cardName),"</span></h5>\n                    <h5>").concat((null===(a=s.status)||void 0===a?void 0:a.id)&&'<span class="quoteAttribute">Estado del documento </span> <span style="text-transform:capitalize;float:right;">'.concat(e[null===(r=s.status)||void 0===r?void 0:r.id]),"</span> </h5>\n                    <h5>").concat(s.whsCode&&'<span class="quoteAttribute">Codigo de almacen o tienda </span><span style="float:right;">'.concat(s.whsCode),"</span></h5>\n                    <h5>").concat(s.comments&&'<span class="quoteAttribute">Observaciones </span><span style="display:block;padding-top:5px;">'.concat(s.comments),"</span></h5>\n                </div>\n                <div><hr></div>\n                \n            "),confirmButtonText:"Volver al calendario",customClass:{title:"StandarModalTitle",htmlContainer:"StandarModalContainer",confirmButton:"StandarModalButton"}})},locale:"es",displayEventTime:!0,eventContent:function(e){return Object(U.jsx)("div",{className:"eventBox",children:Object(U.jsxs)("h5",{children:[e.event.title," ",Object(U.jsx)("b",{children:e.timeText})," "]})})},themeSystem:"bootstrap5"})})]})]})})},Ia=Date(),_a=new Date,wa=lt.c().shape({cardCode:lt.e().required("Este campo es obligatorio"),cardName:lt.e().required("Este campo es obligatorio"),docDate:lt.b().required("Este campo es obligatorio").typeError("Este campo es obligatorio").min(te()(Ia).format(),"Debe hacer una cita apartir de la fecha actual").max(te()(_a.setDate(_a.getDate()+60)).format(),"La cita no debe ser mayor a 60 d\xedas"),docTime:lt.e().required("Este campo es obligatorio"),docStatus:lt.e().required("Este campo es obligatorio"),comments:lt.e().max(200,"El comentario debe ser mayor a 4 y menor a 200 d\xedgitos"),whsCode:lt.e().required("Este campo es obligatorio")}),Sa=lt.c().shape({cardCode:lt.e(),cardName:lt.e()}),Ba=Object(Z.d)(Lt||(Lt=Object(W.a)(["\nquery GetDocumentsStatuses {\n  getDocumentsStatuses {\n    id\n    name\n  }\n}\n"]))),Ca=function(){var e=Object(g.useState)(wa),t=Object(I.a)(e,2),a=t[0],r=(t[1],Object(g.useState)(Sa)),n=Object(I.a)(r,2),s=n[0],c=(n[1],Object(De.a)(ga)),i=(Object(I.a)(c,1)[0],Object(De.a)(xa)),o=Object(I.a)(i,1)[0],l=Object(F.a)(Ba),d=l.data,u=l.loading,m=l.error,b=Object(T.g)(),j=Object(g.useState)([]),p=Object(I.a)(j,2),O=p[0],v=p[1],h=ya,f=Object(g.useState)(1),x=Object(I.a)(f,2),y=x[0],N=(x[1],Object(Ye.h)({resolver:Object(Ke.a)(s)})),_=N.methods,w=N.handleSubmit,B=N.formState.errors,C=N.control,k=Object(Ye.h)({resolver:Object(Ke.a)(a)}),E=k.methods,A=k.handleSubmit,q=k.formState.errors,D=k.control;Object(g.useEffect)((function(){if(!u){if(m)return J({mode:"error",message:m.message}),b.push("/citas/proveedores");var e=d.getDocumentsStatuses.map((function(e){return{label:h[e.id],value:e.id}}));v(e)}}),[d,u,m]);var Q=function(){var e=Object(P.a)($.a.mark((function e(t){var a,r;return $.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a=t.cardCode,r=t.cardName,a||r){e.next=3;break}return e.abrupt("return",J({mode:"error",message:"Debe llenar alguno de los campos"}));case 3:return e.prev=3,e.next=6,o({variables:{inputProvider:{cardCode:a,cardName:r}}});case 6:e.next=11;break;case 8:return e.prev=8,e.t0=e.catch(3),e.abrupt("return",J({mode:"error",message:e.t0.message}));case 11:case"end":return e.stop()}}),e,null,[[3,8]])})));return function(t){return e.apply(this,arguments)}}(),R=function(){var e=Object(P.a)($.a.mark((function e(t){return $.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t.cardCode,t.cardName,t.comments,t.docDate,t.docStatus,t.docTime,t.whsCode;case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(U.jsx)(U.Fragment,{children:!u&&O&&Object(U.jsx)(U.Fragment,{children:1===y?Object(U.jsxs)(U.Fragment,{children:[Object(U.jsx)(Qe,{title:"Crear cita",breadcrumb:"CREAR CITAS DE PROVEEDORES",windowTitle:"Crear una cita"}),Object(U.jsx)(Ye.b,Object(S.a)(Object(S.a)({},_),{},{children:Object(U.jsx)("form",{className:"p-5",onSubmit:w(Q),children:Object(U.jsx)(Ze,{title:"Crear una cita",btnRedPath:"/citas/proveedores",btnRedTxt:"Cancelar",btnSubmit:!0,btnState:!1,errors:B,content:Object(U.jsxs)(U.Fragment,{children:[Object(U.jsx)("div",{className:"mb-3 col-12",children:Object(U.jsx)("h2",{children:"Ingrese codigo o nombre del proveedor"})}),Object(U.jsx)("div",{className:"mb-3 col-12",children:Object(U.jsx)("hr",{})}),Object(U.jsxs)("div",{className:"row",children:[Object(U.jsx)("div",{className:"mb-3 col-lg-12 col-md-12 col-sm-12"}),Object(U.jsx)("div",{className:"mb-3 col-lg-6 col-md-6 col-sm-12",children:Object(U.jsx)(zt,{label:"Codigo del proveedor",type:"text",name:"cardCode",placeholder:"Confirme codigo del proveedor",control:C})}),Object(U.jsx)("div",{className:"mb-3 col-lg-6 col-md-6 col-sm-12",children:Object(U.jsx)(zt,{label:"Nombre del proveedor",type:"text",name:"cardName",placeholder:"Confirme nombre del proveedor",control:C})})]})]})})})}))]}):Object(U.jsxs)(U.Fragment,{children:[Object(U.jsx)(Qe,{title:"Crear cita",breadcrumb:"CREAR CITAS DE PROVEEDORES",windowTitle:"Crear una cita"}),Object(U.jsx)(Ye.b,Object(S.a)(Object(S.a)({},E),{},{children:Object(U.jsx)("form",{className:"p-5",onSubmit:A(R),children:Object(U.jsx)(Ze,{title:"Crear una cita",btnRedPath:"/citas/proveedores",btnRedTxt:"Cancelar",btnSubmit:!0,btnState:!1,errors:q,content:Object(U.jsxs)(U.Fragment,{children:[Object(U.jsx)("div",{className:"mb-3 col-12",children:Object(U.jsx)("h2",{children:"Crea una cita a un proveedor"})}),Object(U.jsx)("div",{className:"mb-3 col-12",children:Object(U.jsx)("hr",{})}),Object(U.jsxs)("div",{className:"row",children:[Object(U.jsx)("div",{className:"mb-3 col-lg-12 col-md-12 col-sm-12"}),Object(U.jsx)("div",{className:"mb-3 col-lg-4 col-md-6 col-sm-12",children:Object(U.jsx)(zt,{label:"Codigo del proveedor",type:"text",name:"cardCode",placeholder:"Confirme codigo del proveedor",control:D})}),Object(U.jsx)("div",{className:"mb-3 col-lg-4 col-md-6 col-sm-12",children:Object(U.jsx)(zt,{label:"Nombre del proveedor",type:"text",name:"cardName",placeholder:"Confirme nombre del proveedor",control:D})}),Object(U.jsx)("div",{className:"mb-3 col-lg-4 col-md-6 col-sm-12 selectCapitalize",children:Object(U.jsx)(zt,{label:"Estado del documento",inputType:"choosen",options:O,name:"docStatus",placeholder:"Confirme estado del documento",control:D})}),Object(U.jsx)("div",{className:"mb-3 col-lg-4 col-md-6 col-sm-12",children:Object(U.jsx)(zt,{label:"Codigo de almacen o tienda",type:"text",name:"whsCode",placeholder:"Confirme Codigo de almacen o tienda",control:D})}),Object(U.jsx)("div",{className:"mb-3 col-lg-4 col-md-6 col-sm-12",children:Object(U.jsx)(zt,{label:"Fecha de cita",type:"date",name:"docDate",placeholder:"Confirme fecha de la cita",control:D})}),Object(U.jsx)("div",{className:"mb-3 col-lg-4 col-md-6 col-sm-12",children:Object(U.jsx)(zt,{label:"Hora de cita",type:"time",name:"docTime",placeholder:"Confirme hora de cita",control:D})}),Object(U.jsx)("div",{className:"mb-3 col-12",children:Object(U.jsx)(zt,{label:"Observaciones",inputType:"textarea",name:"comments",placeholder:"Confirme sus observaciones",control:D})})]})]})})})}))]})})})},ka=function(e){var t=e.info,a=e.user,r=Object(g.useState)(null),n=Object(I.a)(r,2),s=n[0],c=n[1],i=Object(F.a)(rt,{variables:{getOneRoleId:parseInt(a.role)}}).data,o=Object(g.useState)(""),l=Object(I.a)(o,2),d=l[0],u=l[1],m=Object(g.useState)(""),b=Object(I.a)(m,2),j=b[0],p=b[1],O=Object(Ye.h)().control;return Object(g.useEffect)((function(){t&&c(t.GetUserById.avatar.url)}),[t]),Object(g.useEffect)((function(){if(i){var e=i.getOneRole,t=e.role_name,a=e.description;u(t),p(a)}}),[i]),Object(U.jsx)("div",{className:"col-lg-3 col-md-6 col-sm-12",children:Object(U.jsx)("div",{className:"card card-primary card-outline",children:Object(U.jsxs)("div",{className:"card-body box-profile",children:[Object(U.jsx)("div",{className:"text-center container-upload",children:Object(U.jsx)("form",{children:Object(U.jsx)(zt,{label:"Avatar",inputType:"imageAutoSend",userId:a.idUser,name:"avatar",previewPic:s,validateFormat:"imageAvatar",validateFormatMsg:"Solo se admite JPG, JPEG y PNG",formatAccept:"image/png, image/jpg, image/jpeg",control:O})})}),Object(U.jsx)("h3",{className:"profile-username text-center",children:a.name}),Object(U.jsxs)("p",{className:"text-muted text-center",children:[Object(U.jsxs)("b",{children:[d," "]}),Object(U.jsx)("br",{}),j]})]})})})},Pa=function(e){var t=e.info,a=Object(g.useContext)(w).dispatch,r=Object(g.useState)(null),n=Object(I.a)(r,2),s=n[0],c=n[1],i=Object(g.useState)(!1),o=Object(I.a)(i,2),l=o[0],d=o[1],u=Object(T.g)(),m=Object(De.a)(Oe),b=Object(I.a)(m,1)[0],j=t;Object(g.useEffect)((function(){j&&c(j.GetUserById)}),[j]);var p=Object(Ye.h)({resolver:Object(Ke.a)(jt)}),O=p.handleSubmit,v=p.control,h=function(){var e=Object(P.a)($.a.mark((function e(t){return $.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:H.a.fire({title:"Se proceder\xe1 a actualizar la contrase\xf1a",text:"\xbfSeguro que desea continuar?",icon:"warning",allowOutsideClick:!1,showDenyButton:!0,denyButtonText:'<i class="fas fa-times"> Cancelar</i>',confirmButtonText:'<i class="fas fa-wrench"> Actualizar</i>',customClass:{confirmButton:"btn btn-sm btn-accept",denyButton:"btn btn-sm btn-danger"}}).then(function(){var e=Object(P.a)($.a.mark((function e(r){return $.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!r.isConfirmed){e.next=12;break}return e.prev=1,e.next=4,b({variables:{idUser:parseInt(s.id),currentPassword:t.currentPassword,password:t.password}});case 4:return e.next=6,sessionStorage.removeItem("user"),sessionStorage.removeItem("requestPath"),localStorage.removeItem("token"),localStorage.removeItem("configSys"),void a({type:C});case 6:return e.abrupt("return",J({mode:"okModal",message:"Contrase\xf1a actualizada correctamente, por favor inicie sesi\xf3n nuevamente"},u.push("/")));case 9:e.prev=9,e.t0=e.catch(1),J({mode:"errorModal",message:e.t0.message});case 12:case"end":return e.stop()}}),e,null,[[1,9]])})));return function(t){return e.apply(this,arguments)}}());case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(U.jsxs)("div",{className:"col-lg-9 col-md-6 col-sm-12",children:[Object(U.jsxs)("div",{className:"card",children:[Object(U.jsx)("div",{className:"card-header p-2",children:Object(U.jsx)("h3",{className:"card-title",children:"Informaci\xf3n General"})}),Object(U.jsx)("div",{className:"card-body ",children:Object(U.jsx)("div",{className:"card-body d-lg-flex d-md-block row",children:s&&Object(U.jsxs)(U.Fragment,{children:[Object(U.jsxs)("div",{className:"col-lg-4 col-md-12 col-sm-6",children:[Object(U.jsx)("b",{children:"Nombre"})," ",Object(U.jsx)("p",{className:"mt-2",children:s.name+" "+s.first_name})]}),Object(U.jsxs)("div",{className:"col-lg-4 col-md-12 col-sm-6",children:[Object(U.jsx)("b",{children:"Usuario"})," ",Object(U.jsx)("p",{className:"mt-2",children:s.user_name})]}),Object(U.jsxs)("div",{className:"col-lg-4 col-md-12 col-sm-12",children:[Object(U.jsx)("b",{children:"Correo"})," ",Object(U.jsx)("p",{className:"mt-2",children:s.email})]})]})})})]}),Object(U.jsxs)("div",{className:"card",children:[Object(U.jsx)("div",{className:"card-header p-2",children:Object(U.jsx)("h3",{className:"card-title",children:"Informaci\xf3n de direcci\xf3n"})}),Object(U.jsx)("div",{className:"card-body",children:Object(U.jsx)("div",{className:"card-body row",children:s&&Object(U.jsxs)(U.Fragment,{children:[Object(U.jsxs)("div",{className:"col-lg-6 col-md-8 col-sm-6",children:[Object(U.jsx)("b",{children:"Calle"})," ",Object(U.jsx)("p",{className:"mt-2",children:s.address.street})]}),Object(U.jsxs)("div",{className:"col-lg-2 col-md-4 col-sm-6",children:[Object(U.jsx)("b",{children:"Ext."})," ",Object(U.jsx)("p",{className:"mt-2",children:s.address.external_number})]}),Object(U.jsxs)("div",{className:"col-lg-2 col-md-4 col-sm-6",children:[Object(U.jsx)("b",{children:"Int"})," ",Object(U.jsx)("p",{className:"mt-2",children:s.address.internal_number})]}),Object(U.jsxs)("div",{className:"col-lg-2 col-md-4 col-sm-6",children:[Object(U.jsx)("b",{children:"C.P."})," ",Object(U.jsx)("p",{className:"mt-2",children:s.address.zip_code})]}),Object(U.jsxs)("div",{className:"col-lg-3 col-md-4 col-sm-6",children:[Object(U.jsx)("b",{children:"Colonia"})," ",Object(U.jsx)("p",{className:"mt-2",children:s.address.colony.name})]}),Object(U.jsxs)("div",{className:"col-lg-3 col-md-4 col-sm-6",children:[Object(U.jsx)("b",{children:"Ciudad"})," ",Object(U.jsx)("p",{className:"mt-2",children:s.address.city.name})]}),Object(U.jsxs)("div",{className:"col-lg-3 col-md-4 col-sm-6",children:[Object(U.jsx)("b",{children:"Municipio"})," ",Object(U.jsx)("p",{className:"mt-2",children:s.address.colony.name})]}),Object(U.jsxs)("div",{className:"col-lg-3 col-md-4 col-sm-6",children:[Object(U.jsx)("b",{children:"Estado"})," ",Object(U.jsx)("p",{className:"mt-2",children:s.address.colony.name})]})]})})})]}),Object(U.jsxs)("div",{className:"card",children:[Object(U.jsxs)("div",{className:"card-header p-2",children:[Object(U.jsx)("h3",{className:"card-title",children:"Actualizar Contrase\xf1a"}),l&&Object(U.jsx)("button",{className:"btn btn-sm btn-danger float-right ml-2",onClick:function(){return d(!1)},children:"Cancelar"}),Object(U.jsx)("button",{className:"btn btn-accept btn-sm float-right",onClick:function(){return d(!0)},children:"Actualizar"})]}),l&&Object(U.jsx)("div",{className:"card-body",children:Object(U.jsxs)("form",{onSubmit:O(h),children:[Object(U.jsx)(zt,{label:"Contrase\xf1a actual",type:"password",name:"currentPassword",placeholder:"Ingrese la contrase\xf1a actual",control:v}),Object(U.jsx)("br",{}),Object(U.jsx)(zt,{label:"Nueva Contrase\xf1a",type:"password",name:"password",placeholder:"Ingrese la nueva contrase\xf1a",control:v}),Object(U.jsx)("br",{}),Object(U.jsx)(zt,{label:"Confirmar nueva contrase\xf1a",type:"password",name:"passwordConfirm",placeholder:"Confirme la contrase\xf1a",control:v}),Object(U.jsx)("button",{type:"submit",className:"mt-3 btn btn-danger btn-block",children:Object(U.jsx)("b",{children:"Actualizar contrase\xf1a"})})]})})]})]})},Ea=function(){var e=Object(g.useContext)(w).user,t=Object(F.a)(oe,{variables:{getUserByIdId:parseInt(e.idUser)}}).data;return Object(U.jsxs)(U.Fragment,{children:[Object(U.jsx)(Qe,{title:"Perfil de usuario",breadcrumb:"Perfil",windowTitle:"Perfil"}),Object(U.jsx)("section",{className:"content",children:Object(U.jsx)("div",{className:"container-fluid",children:Object(U.jsx)("div",{className:"row",children:t&&Object(U.jsxs)(U.Fragment,{children:[Object(U.jsx)(ka,{info:t,user:e}),Object(U.jsx)(Pa,{info:t})]})})})})]})};var $a=function(){return Object(U.jsx)("div",{children:"Hi1"})};var Aa,Ta,qa,Da,Ua,Qa=function(){var e=Object(T.i)().id;return Object(U.jsxs)(U.Fragment,{children:[Object(U.jsx)(Qe,{title:"Surtido y Logistica",breadcrumb:"Roles",windowTitle:"".concat(e?"Editar":"Agregar"," role ")}),Object(U.jsx)(Ye.b,{children:Object(U.jsx)("form",{className:"p-3",children:Object(U.jsx)(Ze,{title:"".concat(e?"Editar":"Agregar"," nuevo rol"),btnRedPath:"/catalog/roles",btnRedTxt:"Cancelar"})})})]})},Ra=function(e,t,a,r,n){var s={Users:We,UsersNew:Jt,UsersPermissions:na,Roles:sa,RolesNew:ca,Modules:ia,ModulesNew:oa,UserProfileMain:Ea,Sulog:$a,SulogNew:Qa,UsersApp:ja,UsersAppNew:pa,ProvidersQuotes:Na,ProvidersQuotesNew:Ca},c=[];return e&&c.push(Object(U.jsx)(ge,{exact:!0,path:r.module_info.relative_link,component:s[r.module_info.name],isAuth:n},r.id)),t&&c.push(Object(U.jsx)(ge,{exact:!0,path:"".concat(r.module_info.relative_link,"/new"),component:s["".concat(r.module_info.name,"New")],isAuth:n},r.id)),a&&c.push(Object(U.jsx)(ge,{exact:!0,path:"".concat(r.module_info.relative_link,"/edit/:id"),component:s["".concat(r.module_info.name,"New")],isAuth:n},r.id)),c},La=Object(Z.d)(Aa||(Aa=Object(W.a)(["\n  query GetPendingOrders(\n    $searchQuery: String\n    $limit: Int\n    $offset: Int\n    $platform: Int\n  ) {\n    getPendingOrders(\n      searchQuery: $searchQuery\n      limit: $limit\n      offset: $offset\n      platform: $platform\n    ) {\n      rows {\n        id\n        platform {\n          name\n        }\n        type {\n          name\n        }\n        payment {\n          platform\n          payment_id\n        }\n        shipping {\n          first_name\n          last_name\n        }\n        order_id\n        order_date\n        store {\n          name\n        }\n        warehouse {\n          name\n        }\n      }\n      count\n    }\n  }\n"]))),Ma=Object(Z.d)(Ta||(Ta=Object(W.a)(["\n  query GetOrderById($id: Int!) {\n    getOrderById(id: $id) {\n      id\n      platform {\n        name\n      }\n      type_id\n      type {\n        name\n      }\n      method_id\n      method {\n        name\n      }\n      payment {\n        platform\n        payment_id\n      }\n      shipping {\n        first_name\n        last_name\n        email\n        phone\n        address_1\n        postcode\n        state\n        city\n      }\n      order_id\n      store_id\n      store {\n        name\n      }\n      uber_id\n      total_price\n      shipping_price\n      product_quantity\n      products {\n        id\n        product_id\n        name\n        sku\n        quantity\n        price\n        total\n      }\n      warehouse_id\n      warehouse {\n        name\n      }\n      status_id\n      status {\n        id\n      }\n      reason {\n        id\n        reason\n        issusse_id\n        user_id\n        userDetails {\n          name\n        }\n        issusesDetails {\n          id\n          name\n        }\n        createdAt\n      }\n      order_date\n    }\n  }\n"]))),Fa=Object(Z.d)(qa||(qa=Object(W.a)(["\n  mutation GetAllPendingExport {\n    getAllPendingExport {\n      id\n      platform {\n        name\n      }\n      type {\n        name\n      }\n      payment {\n        platform\n        payment_id\n      }\n      shipping {\n        first_name\n        last_name\n      }\n      order_id\n      store {\n        name\n      }\n    }\n  }\n"]))),za=Object(Z.d)(Da||(Da=Object(W.a)(["\n  mutation ChangeToProcess($orderId: Int!, $storeId: Int!) {\n    changeToProcess(order_id: $orderId, store_id: $storeId) {\n      id\n      status_id\n    }\n  }\n"]))),Ga=Object(Z.d)(Ua||(Ua=Object(W.a)(["\n  mutation changeToBilling($orderId: Int!, $shippingCompayId: Int!) {\n    changeToBilling(order_id: $orderId, shipping_compay_id: $shippingCompayId) {\n      id\n      shipping_compay_id\n      status {\n        id\n        name\n      }\n    }\n  }\n"]))),Va=function(){var e=Object(g.useState)({searchQuery:null,limit:10,offset:0,platform:null}),t=Object(I.a)(e,2),a=t[0],r=t[1],n=Object(g.useState)(0),s=Object(I.a)(n,2),c=s[0],i=s[1],o=Object(F.a)(La,{variables:{searchQuery:a.searchQuery,limit:a.limit,offset:a.offset,platform:a.platform}}),l=o.loading,d=o.error,u=o.data,m=Object(g.useState)([]),b=Object(I.a)(m,2),j=b[0],p=b[1];return Object(g.useEffect)((function(){if(!l){if(d)return J({mode:"errorModal",message:d.message});var e=u.getPendingOrders.rows.map((function(e){var t,a,r,n,s;return{id:e.id,"Hora y fecha":te()(null===e||void 0===e?void 0:e.order_date).format("L")+", "+te()(null===e||void 0===e?void 0:e.order_date).format("LT")||"--",Plataforma:e.platform.name,Tipo:null===(t=e.type)||void 0===t?void 0:t.name,"Plataforma de cobro":null===(a=e.payment)||void 0===a?void 0:a.platform,"No. de cobro":null===(r=e.payment)||void 0===r?void 0:r.payment_id,Cliente:"".concat(e.shipping.first_name," ").concat(e.shipping.last_name),"Numero de venta":e.order_id,Tienda:(null===e||void 0===e||null===(n=e.store)||void 0===n?void 0:n.name)||(null===e||void 0===e||null===(s=e.warehouse)||void 0===s?void 0:s.name)||"--"}}));i(u.getPendingOrders.count),p(e)}}),[l,d,u]),console.log(l,u),Object(U.jsxs)(U.Fragment,{children:[Object(U.jsx)(Qe,{title:"Pedidos",breadcrumb:"Pedidos Pendientes",windowTitle:"Pendientes"}),Object(U.jsx)(Je,{data:j,title:"Pendientes",requery:La,editText:"Tomar Orden",exportQuery:Fa,platformSelector:!0,totalCount:c,pagePagination:a,setPagePagination:r,loadingData:l})]})};a(53);var Ha=function(e){var t=e.mediumColSize,a=void 0===t?"3":t,r=e.title,n=e.content;return Object(U.jsxs)("div",{className:"col-sm-12 col-md-".concat(a),children:[Object(U.jsx)("h5",{className:"header-text-details",children:r}),Object(U.jsx)("p",{className:"content-text-details",children:n})]})};var Ja=function(e){var t=e.platform,a=void 0===t?"":t,r=e.paymentId,n=void 0===r?"":r,s=e.orderId,c=void 0===s?"":s,i=e.orderDate,o=void 0===i?"":i;return Object(U.jsx)("div",{className:"box-separator",children:Object(U.jsxs)("div",{className:"row",children:[Object(U.jsx)(Ha,{title:"Plataforma",content:a}),Object(U.jsx)(Ha,{title:"No. de cobro",content:n}),Object(U.jsx)(Ha,{title:"No. de venta",content:c}),Object(U.jsx)(Ha,{title:"Fecha y hora",content:o})]})})};var Wa=function(e){var t=e.withStore,a=e.orderType,r=e.orderStore,n=e.orderMethod,s=e.orderPaymentPlatform,c=e.shippingPrice,i=e.totalPrice,o=e.id_store,l=e.status_id,d=e.uberAssignedId,u=e.stores,m=void 0===u?[]:u,b=e.id_shippingCompany,j=e.shippingCompanies,p=void 0===j?[]:j,O=e.show,v=void 0!==O&&O,h=e.handleStoreChange,f=void 0===h?function(){}:h,x=e.handleShippingCompanyChange,y=void 0===x?function(){}:x,N=Object(g.useState)([]),_=Object(I.a)(N,2),w=_[0],S=_[1],B=Object(g.useState)([]),C=Object(I.a)(B,2),k=C[0],P=C[1];return Object(g.useEffect)((function(){if(m.length>0){var e=m.map((function(e){return{value:e.id,label:e.name}}));S(e)}}),[m]),Object(g.useEffect)((function(){if(p.length>0){var e=p.map((function(e){return{value:e.id,label:e.name}}));P(e)}}),[p]),Object(U.jsxs)(U.Fragment,{children:[Object(U.jsx)("div",{className:"col-12 box-separator",children:Object(U.jsxs)("div",{className:"row",children:[Object(U.jsx)(Ha,{title:"Tipo de pedido",content:a,mediumColSize:"6"}),t||1!==l||v?Object(U.jsx)(Ha,{title:"Tienda",content:r,mediumColSize:"6"}):Object(U.jsxs)("div",{className:"col-6",children:[Object(U.jsx)("h5",{className:"header-text-details",children:"Tienda"}),Object(U.jsx)(pt.a,{name:"store",placeholder:"Selecciona una tienda",NoOptionsMessage:"No hay datos registrados",options:w,onChange:function(e){return f(e)},value:null===w||void 0===w?void 0:w.find((function(e){return parseInt(e.value)===parseInt(o)?e:null}))})]}),"Fast"===n&&Object(U.jsx)(Ha,{title:"Tipo de entrega",content:n,mediumColSize:"6"}),"Picking"===n&&Object(U.jsx)(Ha,{title:"Tipo de entrega",content:n,mediumColSize:"6"}),"UDirect"===n&&Object(U.jsxs)(U.Fragment,{children:[Object(U.jsx)(Ha,{title:"Tipo de entrega",content:n,mediumColSize:"6"}),Object(U.jsx)(Ha,{title:"Tipo de log\xedstica",content:n,mediumColSize:"6"}),Object(U.jsx)(Ha,{title:"Uber assigned id",content:d,mediumColSize:"6"})]}),"Nacional"===a&&!v&&Object(U.jsxs)("div",{className:"col-6",children:[Object(U.jsx)("h5",{className:"header-text-details",children:"Logistica"}),Object(U.jsx)(pt.a,{name:"logistictCompany",placeholder:"Selecciona una compa\xf1ia",NoOptionsMessage:"No hay datos registrados",options:k,onChange:function(e){return y(e)},value:null===k||void 0===k?void 0:k.find((function(e){return parseInt(e.value)===parseInt(b)?e:null}))})]}),"Fast"===n&&6===l&&!v&&Object(U.jsxs)("div",{className:"col-6",children:[Object(U.jsx)("h5",{className:"header-text-details",children:"Logistica"}),Object(U.jsx)(pt.a,{name:"logistictCompany",placeholder:"Selecciona una compa\xf1ia",NoOptionsMessage:"No hay datos registrados",options:k,onChange:function(e){return y(e)},value:null===k||void 0===k?void 0:k.find((function(e){return parseInt(e.value)===parseInt(b)?e:null}))})]}),Object(U.jsx)(Ha,{title:"Tipo de pago",content:s,mediumColSize:"6"})]})}),Object(U.jsxs)("div",{className:"col-12",children:[Object(U.jsxs)("div",{className:"row justify-content-between",children:[Object(U.jsx)("p",{className:"cost-header",children:"Producto"}),Object(U.jsx)("p",{className:"cost-text",children:"$".concat(i-c)})]}),Object(U.jsxs)("div",{className:"row justify-content-between",children:[Object(U.jsx)("p",{className:"cost-header",children:"Env\xcdo"}),Object(U.jsx)("p",{className:"cost-text",children:"$".concat(c)})]}),Object(U.jsx)("div",{className:"row justify-content-end",children:Object(U.jsxs)("p",{className:"cost-header text-bold",children:["Total: ","$".concat(i)]})})]})]})};var Za=function(e){var t=e.firstName,a=e.lastName,r=e.email,n=e.phone,s=e.address,c=e.postcode,i=e.city,o=e.state;return Object(U.jsx)("div",{className:"col-12",children:Object(U.jsxs)("div",{className:"row",children:[Object(U.jsx)(Ha,{title:"Cliente",content:"".concat(t," ").concat(a),mediumColSize:"4"}),Object(U.jsx)(Ha,{title:"Email",content:r,mediumColSize:"4"}),Object(U.jsx)(Ha,{title:"Telefono",content:n,mediumColSize:"4"}),Object(U.jsx)(Ha,{title:"Direcci\xf3n",content:s,mediumColSize:"8"}),Object(U.jsx)(Ha,{title:"Codigo postal",content:c,mediumColSize:"4"}),Object(U.jsx)(Ha,{title:"Referencia",content:"No hay rerefencia",mediumColSize:"4"}),Object(U.jsx)(Ha,{title:"Ciudad",content:i,mediumColSize:"4"}),Object(U.jsx)(Ha,{title:"Estado",content:o,mediumColSize:"4"})]})})};var Ya=function(e){var t=e.oneButton,a=e.firstButtonGray,r=e.cancelBtn,n=e.onCancel,s=e.processBtn,c=e.onProcess;return Object(U.jsx)("div",{className:"col-12 d-md-flex justify-content-around mb-3",children:t?Object(U.jsx)(U.Fragment,{children:Object(U.jsx)("div",{className:"col-12 text-center",children:Object(U.jsx)("button",{className:"process-btn process-btn__gray",style:{width:"80%"},onClick:c,children:s})})}):Object(U.jsxs)(U.Fragment,{children:[Object(U.jsx)("div",{className:"col-sm-12 col-md-5",children:Object(U.jsx)("button",{className:a?"process-btn process-btn__gray":"process-btn process-btn__red",style:{width:"100%"},onClick:n,children:r})}),Object(U.jsx)("div",{className:"col-sm-12 col-md-5",children:Object(U.jsx)("button",{className:"process-btn process-btn__gray",style:{width:"100%"},onClick:c,children:s})})]})})},Ka=a.p+"static/media/bebida.6d143add.jpg";var Xa=function(e){var t=e.sku,a=e.name,r=e.price,n=e.quantity,s=e.total;return e.id_product,Object(U.jsxs)("div",{className:"row d-flex align-items-center",children:[Object(U.jsx)("div",{className:"col-8",children:Object(U.jsxs)("div",{className:"row",children:[Object(U.jsx)("div",{className:"image-wrapper col-4 d-flex align-items-center",children:Object(U.jsx)("img",{src:Ka,style:{maxWidth:"100%",maxHeight:"100px"},alt:""})}),Object(U.jsx)("div",{className:"col-4 d-flex align-items-center",children:Object(U.jsxs)("p",{className:"sku-text",children:["SKU: ",t]})}),Object(U.jsx)("div",{className:"col-4 d-flex align-items-center",children:Object(U.jsx)("p",{className:"product-text",children:a})})]})}),Object(U.jsx)("div",{className:"col-4",children:Object(U.jsxs)("div",{className:"row",children:[Object(U.jsx)("div",{className:"col-12 d-flex align-items-center",children:Object(U.jsxs)("p",{className:"product-detail-text m-0 text-bold",children:["Precio: $",r]})}),Object(U.jsx)("div",{className:"col-12 d-flex align-items-center",children:Object(U.jsxs)("p",{className:"product-detail-text m-0 text-bold",children:["Cantidad: ",n]})}),Object(U.jsx)("div",{className:"col-12 d-flex align-items-center",children:Object(U.jsxs)("p",{className:"product-detail-text m-0 text-bold",children:["Subtotal: $",s]})})]})})]})};var er,tr,ar,rr,nr,sr,cr,ir,or,lr,dr,ur,mr,br,jr,pr,Or,vr,hr,fr,gr=function(e){var t=e.productsArray,a=void 0===t?[]:t,r=e.totalQuantity;return Object(U.jsxs)(U.Fragment,{children:[Object(U.jsxs)("div",{className:"col-12 box-separator overflow-auto pb-3",style:{maxHeight:"500px"},children:[Object(U.jsx)("div",{className:"row mb-3",children:Object(U.jsx)("h5",{className:"header-text-details",children:"Desgloce de Productos"})}),a.map((function(e){return Object(U.jsx)(Xa,{name:e.name,id_product:e.product_id,price:e.price,sku:e.sku,total:e.total,quantity:e.quantity},e.id)}))]}),Object(U.jsx)("div",{className:"col-12 mt-3",children:Object(U.jsx)("div",{className:"row justify-content-end",children:Object(U.jsxs)("p",{className:"cost-header",children:["Botellas totales: ",r]})})})]})},xr=Object(Z.d)(er||(er=Object(W.a)(["\nquery Query {\n  getAllShippingCompanies {\n    id\n    name\n  }\n}\n"]))),yr=Object(Z.d)(tr||(tr=Object(W.a)(["\nquery GetTimeline($id: Int!) {\n  getTimeline(id: $id) {\n    id\n    order_id\n    status_id\n    dateStatus\n    status {\n      id\n      name\n    }\n    user_id\n    user {\n      id\n      name\n    }\n    dateStatus\n  }\n}\n"]))),Nr=function(e){var t=e.idOrder,a=Object(g.useState)(null),r=Object(I.a)(a,2),n=r[0],s=r[1],c=Object(g.useRef)(),i={1:"Pendiente",2:"En proceso",3:"Facturacion",4:"Env\xedo local",5:"Env\xedo nacional",6:"Por surtir",7:"En ruta",8:"Por colectar",9:"En recoleccion",10:"En paquetado",11:"Completado",12:"Cancelado",13:"Devuelto"},o=Object(F.a)(yr,{variables:{id:parseInt(t)}}),l=o.data,d=o.loading,u=o.error;return Object(g.useEffect)((function(){if(!d&&!u){var e=[];l.getTimeline.map((function(t){return e.push({user:t.user.name,order_id:t.order_id,status:i[t.status.id],date:te()(t.dateStatus).format("L"),time:te()(t.dateStatus).format("LT")}),!0})),s(e)}}),[l,d,u]),Object(g.useEffect)((function(){if(c){var e=c.current;e.scrollTop=e.scrollHeight}}),[c,n]),Object(U.jsx)("div",{className:"row",children:Object(U.jsx)("div",{className:"col-12",children:Object(U.jsxs)("div",{className:"card ",children:[Object(U.jsx)("div",{className:"card-header",children:Object(U.jsx)("h3",{className:"card-title",children:"Timeline"})}),Object(U.jsx)("div",{className:"card-body timeLine-body",ref:c,children:n&&Object(U.jsx)("ul",{children:n.map((function(e,t){return Object(U.jsxs)("li",{children:[Object(U.jsx)("h6",{id:"time",children:(null===e||void 0===e?void 0:e.time)&&e.time}),Object(U.jsxs)("h5",{children:[Object(U.jsx)("i",{className:"fas fa-circle fa-xs"}),(null===e||void 0===e?void 0:e.user)&&e.user]}),Object(U.jsx)("h6",{children:(null===e||void 0===e?void 0:e.status)&&"Estado - "+e.status}),Object(U.jsx)("h6",{children:(null===e||void 0===e?void 0:e.date)&&e.date})]},t)}))})})]})})})},Ir=Object(Z.d)(ar||(ar=Object(W.a)(["\nquery GetInternalNotes($orderId: Int!) {\n  getInternalNotes(orderId: $orderId) {\n    id\n    order_id\n    user_id\n    text\n    file_id\n    type\n    user {\n      id\n      name\n    }\n    fileInternal {\n      id\n      url\n    }\n  }\n}\n"]))),_r=Object(Z.d)(rr||(rr=Object(W.a)(["\nmutation CreateInternalNote($inputInternalNote: internalNote!) {\n  createInternalNote(inputInternalNote: $inputInternalNote)\n}\n"]))),wr=function(e){var t=e.idOrder,a=Object(g.useContext)(w).user,r=Object(g.useState)({text:"",document:""}),n=Object(I.a)(r,2),s=n[0],c=n[1],i=Object(g.useState)(null),o=Object(I.a)(i,2),l=o[0],d=o[1],u=s.text,m=s.document,b=Object(g.useRef)(),j=Object(g.useRef)(),p=Object(De.a)(_r,{refetchQueries:[{query:Ir,variables:{orderId:parseInt(t)}}]}),O=Object(I.a)(p,1)[0],v=Object(F.a)(Ir,{variables:{orderId:parseInt(t)}}),h=v.data,f=v.loading,y=v.error;Object(g.useEffect)((function(){if(!f){if(y)return J({mode:"errorModal",message:y.message});var e=[];h.getInternalNotes.map((function(t){var a,r;return e.push({user:null!==t&&void 0!==t&&null!==(a=t.user)&&void 0!==a&&a.name?t.user.name:"",text:null!==t&&void 0!==t&&t.text?t.text:"",file:null!==t&&void 0!==t&&null!==(r=t.fileInternal)&&void 0!==r&&r.url?t.fileInternal.url:"",type:null!==t&&void 0!==t&&t.type?t.type:""}),!0})),d(e)}}),[h,f,y]);var N=function(){var e=Object(P.a)($.a.mark((function e(){var r;return $.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(u||m){e.next=2;break}return e.abrupt("return",J({mode:"error",message:"Debe escribir o subir un documento"}));case 2:if(r=null,!m){e.next=9;break}if("pdf"===(r=m.type.split("/"))[1]||"image"===r[0]||"jpg"===r[1]||"png"===r[1]||"jpeg"===r[1]){e.next=7;break}return e.abrupt("return",J({mode:"error",message:"Archivo incompatible"}));case 7:if(!(m.size>5242880)){e.next=9;break}return e.abrupt("return",J({mode:"error",message:"Archivo es demasiado pesado"}));case 9:return e.prev=9,e.next=12,O({variables:{inputInternalNote:{user_id:a.idUser,order_id:t,text:""===u?null:u,file:""===m?null:m,type:m?r[1]:null}}});case 12:return c({text:"",document:""}),e.abrupt("return",b.current.value="");case 16:return e.prev=16,e.t0=e.catch(9),e.abrupt("return",J({mode:"error",message:y.message}));case 19:case"end":return e.stop()}}),e,null,[[9,16]])})));return function(){return e.apply(this,arguments)}}();return Object(g.useEffect)((function(){if(j){var e=j.current;e.scrollTop=e.scrollHeight}}),[j,h,f,y]),Object(U.jsx)("div",{className:"row",children:Object(U.jsx)("div",{className:"col-12",children:Object(U.jsxs)("div",{className:"card",children:[Object(U.jsx)("div",{className:"card-header",children:Object(U.jsx)("h3",{className:"card-title",children:"Notas internas"})}),Object(U.jsxs)("div",{className:"card-body internalNotes-body",children:[Object(U.jsx)("div",{ref:j,className:"boxHistory",children:l&&Object(U.jsx)("ul",{children:l.map((function(e,t){return Object(U.jsx)(x.a.Fragment,{children:Object(U.jsxs)("div",{children:[e.user,"\xa0\xa0",e.text&&Object(U.jsx)("i",{className:"fas fa-comment"}),""===e.text&&e.file&&Object(U.jsx)("i",{className:"fas fa-file"}),Object(U.jsxs)("li",{children:[e.text&&Object(U.jsx)("p",{children:e.text}),e.type&&"image"===e.type&&Object(U.jsx)("a",{href:e.file,target:"_blank",rel:"noreferrer",children:Object(U.jsx)("img",{src:e.file,alt:"Internal Notes images"})}),e.type&&"pdf"===e.type&&Object(U.jsxs)("div",{className:"files",children:[Object(U.jsx)("a",{className:"documentLink",href:e.file,target:"_blank",rel:"noreferrer",children:"Link del documento"}),Object(U.jsx)("embed",{src:e.file,width:"90%",height:"1000px"})]})]})]})},t)}))})}),Object(U.jsxs)("div",{className:"boxInput",children:[Object(U.jsx)("input",{type:"text",placeholder:"Escribe un mensaje...",id:"internalNotesText",name:"text",value:s.text,onChange:function(e){var t=e.target;c(Object(S.a)(Object(S.a)({},s),{},Object(Gt.a)({},t.name,t.value)))},autoComplete:"off"}),Object(U.jsx)("input",{type:"file",id:"internalNotesDocument",name:"document",onChange:function(e){return c(Object(S.a)(Object(S.a)({},s),{},{document:e.target.files[0]}))},ref:b,accept:".jpg, .jpeg, .png, .pdf"}),Object(U.jsx)("label",{htmlFor:"internalNotesDocument",id:"labelDocument",children:Object(U.jsx)("i",{className:"fas fa-paperclip"})}),Object(U.jsx)("button",{onClick:N,children:Object(U.jsx)("i",{className:"fas fa-paper-plane"})})]})]})]})})})},Sr=function(){var e=Object(P.a)($.a.mark((function e(t,a,r,n,s){var c,i,o,l,d,u,m;return $.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return c=null,e.next=3,H.a.fire({title:"Seleccione la razon",input:"radio",inputOptions:t,inputValidator:function(e){if(!e)return"Debe elegir una razon"}});case 3:if(i=e.sent,!(o=i.value)){e.next=26;break}if(l=!1,d=!0,"OTRO"!==t[o].toUpperCase()){e.next=15;break}return l=!0,e.next=12,H.a.fire({title:"Escribe el motivo",input:"text",showCancelButton:!0,inputValidator:function(e){if(!e)return"Debe escribir el motivo de la cancelacion"}});case 12:u=e.sent,(m=u.value)&&(c=m,d=!1);case 15:if(!l||!d){e.next=17;break}return e.abrupt("return",J({mode:"error",message:"Debe escribir el motivo de la cancelacion"}));case 17:return e.prev=17,e.next=20,r({variables:{inputReason:{order_id:parseInt(n),issusse_id:parseInt(o),user_id:parseInt(a),reason:c}}});case 20:return e.abrupt("return",(J({mode:"ok",message:"Orden rechazada"}),s.goBack()));case 23:return e.prev=23,e.t0=e.catch(17),e.abrupt("return",J({mode:"error",message:e.t0.message}));case 26:case"end":return e.stop()}}),e,null,[[17,23]])})));return function(t,a,r,n,s){return e.apply(this,arguments)}}(),Br=(Object(Z.d)(nr||(nr=Object(W.a)(["\nquery GetIssues($searchQuery: String, $limit: Int, $offset: Int, $platform: Int) {\n    getIssues(searchQuery: $searchQuery, limit: $limit, offset: $offset, platform: $platform) {\n    rows {\n      id\n      platform_id\n      platform {\n        name\n        id\n      }\n      type {\n        name\n      }\n      payment {\n        platform\n        payment_id\n      }\n      store {\n        name\n      }\n      shipping {\n        first_name\n        last_name\n      }\n      order_id\n      order_date\n    }\n    count\n  }\n}\n"]))),Object(Z.d)(sr||(sr=Object(W.a)(["\nquery GetAllIssusses {\n  getAllIssusses {\n    id\n    name\n  }\n}\n"])))),Cr=Object(Z.d)(cr||(cr=Object(W.a)(["\nmutation CreateReason($inputReason: reasonData!) {\n  createReason(inputReason: $inputReason)\n}\n"]))),kr=Object(Z.d)(ir||(ir=Object(W.a)(["\nquery GetBillingOrders($searchQuery: String, $limit: Int, $offset: Int, $platform: Int) {\n    getBillingOrders(searchQuery: $searchQuery, limit: $limit, offset: $offset, platform: $platform) {\n    rows {\n      id\n      platform_id\n      platform {\n        name\n        id\n      }\n      type {\n        name\n      }\n      payment {\n        platform\n        payment_id\n      }\n      store {\n        name\n      }\n      warehouse {\n        name\n      }\n      shipping {\n        first_name\n        last_name\n      }\n      order_id\n      order_date\n    }\n    count\n  }\n}\n"]))),Pr=Object(Z.d)(or||(or=Object(W.a)(["\nquery GetInProcessOrders($searchQuery: String, $limit: Int, $offset: Int, $platform: Int) {\n    getInProcessOrders(searchQuery: $searchQuery, limit: $limit, offset: $offset, platform: $platform) {\n    rows {\n      id\n      platform_id\n      platform {\n        name\n        id\n      }\n      type {\n        name\n      }\n      payment {\n        platform\n        payment_id\n      }\n      store {\n        name\n      }\n      shipping {\n        first_name\n        last_name\n      }\n      order_id\n      order_date\n    }\n    count\n  }\n}\n"]))),Er=function(){var e,t,a,r,n,s,c,i,o,l,d,u,m,b,j,p,O,v,h,f,x,y,N,_=Object(T.i)(),S=_.id,B=_.show,C=Object(T.g)(),k=Object(g.useState)(""),E=Object(I.a)(k,2),A=E[0],q=E[1],D=Object(g.useState)(""),Q=Object(I.a)(D,2),R=Q[0],L=Q[1],M=Object(g.useState)(0),z=Object(I.a)(M,2),G=z[0],V=z[1],W=Object(g.useState)(""),Z=Object(I.a)(W,2),K=Z[0],X=Z[1],ee=Object(g.useState)(!1),ae=Object(I.a)(ee,2),re=ae[0],ne=ae[1],se=Object(g.useState)({}),ce=Object(I.a)(se,2),ie=ce[0],oe=ce[1],le=Object(F.a)(Ma,{variables:{id:parseInt(S)}}),de=le.data,ue=le.loading,me=le.error,be=Object(F.a)(ot),je=be.data,pe=be.loading,Oe=Object(F.a)(xr),ve=Oe.data,he=Oe.loading,fe=Object(De.a)(za),ge=Object(I.a)(fe,1)[0],xe=Object(De.a)(Ga),ye=Object(I.a)(xe,1)[0],Ne=Object(g.useContext)(w).user,Ie=Object(F.a)(Br),_e=Ie.data,we=Ie.loading,Se=Ie.error,Be=Object(De.a)(Cr),Ce=Object(I.a)(Be,1)[0];Object(g.useEffect)((function(){if(!ue){var e,t,a,r,n,s;if(me)return J({mode:"error",message:me.message},C.push("/orders/local"));if(!de.getOrderById)return J({mode:"error",message:"Esta orden no existe"},C.push("/orders/local"));if(12===(null===de||void 0===de||null===(e=de.getOrderById)||void 0===e||null===(t=e.status)||void 0===t?void 0:t.id))return J({mode:"error",message:"Esta orden ha sido rechazada"},C.push("/orders/local"));if(1!==(null===de||void 0===de||null===(a=de.getOrderById)||void 0===a||null===(r=a.status)||void 0===r?void 0:r.id))return J({mode:"error",message:"Esta orden no esta en pendiente"},C.push("/orders/local"));var c=de.getOrderById;(null!==(n=c.store)&&void 0!==n&&n.name||null!==(s=c.warehouse)&&void 0!==s&&s.name)&&ne(!0),q(c.store_id),X(c.warehouse_id),V(c.order_id)}}),[de,ue,me]),Object(g.useEffect)((function(){if(!we&&!Se){var e={};_e.getAllIssusses.map((function(t){return e=Object.assign(e,Object(Gt.a)({},t.id,t.name)),!0})),oe(e)}}),[_e,we,Se]);var ke=function(){var e=Object(P.a)($.a.mark((function e(){var t;return $.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(A){e.next=2;break}return e.abrupt("return",J({mode:"error",message:"Por favor seleccione una tienda"}));case 2:return e.prev=2,e.next=5,ge({variables:{orderId:parseInt(S),storeId:parseInt(A)},refetchQueries:[{query:La,variables:{searchQuery:"",limit:null,offset:null,platform:null}},{query:Y},{query:Pr,variables:{searchQuery:"",limit:null,offset:null,platform:null}}]});case 5:t=e.sent,t.data.changeToProcess&&H.a.fire({title:"Bien",text:"Pedido procesado",icon:"success",allowOutsideClick:!1,buttonsStyling:!1,confirmButtonText:'<i class="fas fa-check"> Aceptar </i>',customClass:{confirmButton:"btn btn-sm btn-accept"}}).then((function(e){e.isConfirmed&&C.goBack()})),e.next=13;break;case 10:return e.prev=10,e.t0=e.catch(2),e.abrupt("return",J({mode:"errorModal",message:e.t0.message}));case 13:case"end":return e.stop()}}),e,null,[[2,10]])})));return function(){return e.apply(this,arguments)}}(),Pe=function(){var e=Object(P.a)($.a.mark((function e(){var t;return $.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(K){e.next=2;break}return e.abrupt("return",J({mode:"error",message:"Por favor seleccione un almacen"}));case 2:if(R){e.next=4;break}return e.abrupt("return",J({mode:"error",message:"Por favor seleccione una empresa de logistica"}));case 4:return e.prev=4,e.next=7,ye({variables:{orderId:parseInt(S),shippingCompayId:parseInt(R)},refetchQueries:[{query:La,variables:{searchQuery:"",limit:null,offset:null,platform:null}},{query:kr},{query:Y}]});case 7:t=e.sent,t.data.changeToBilling&&H.a.fire({title:"Bien",text:"Pedido procesado",icon:"success",allowOutsideClick:!1,buttonsStyling:!1,confirmButtonText:'<i class="fas fa-check"> Aceptar </i>',customClass:{confirmButton:"btn btn-sm btn-accept"}}).then((function(e){e.isConfirmed&&C.goBack()})),e.next=15;break;case 12:return e.prev=12,e.t0=e.catch(4),e.abrupt("return",J({mode:"errorModal",message:e.t0.message}));case 15:case"end":return e.stop()}}),e,null,[[4,12]])})));return function(){return e.apply(this,arguments)}}();return te.a.locale("es"),Object(U.jsx)(U.Fragment,{children:(null===de||void 0===de?void 0:de.getOrderById)&&!ue&&!pe&&!he&&1===(null===de||void 0===de||null===(e=de.getOrderById)||void 0===e||null===(t=e.status)||void 0===t?void 0:t.id)&&Object(U.jsxs)(U.Fragment,{children:[Object(U.jsx)(Qe,{title:"Orden Pendiente",breadcrumb:"Ordenes",windowTitle:"".concat(S?"Editar":"Agregar"," orden ")}),Object(U.jsxs)("div",{className:"row",children:[Object(U.jsx)("div",{className:"col-8",children:Object(U.jsxs)("div",{className:"row",children:[Object(U.jsx)("div",{className:"col-12",children:Object(U.jsxs)("div",{className:"card",children:[Object(U.jsx)("div",{className:"card-header",children:Object(U.jsx)("h3",{className:"card-title",children:"Detalles"})}),Object(U.jsx)("div",{className:"card-body col-12",children:Object(U.jsx)(Ja,{orderDate:te()(null===de||void 0===de||null===(a=de.getOrderById)||void 0===a?void 0:a.order_date).format("LLL"),orderId:null===de||void 0===de||null===(r=de.getOrderById)||void 0===r?void 0:r.order_id,paymentId:null===de||void 0===de||null===(n=de.getOrderById)||void 0===n?void 0:n.payment.payment_id,platform:null===de||void 0===de||null===(s=de.getOrderById)||void 0===s?void 0:s.platform.name})})]})}),Object(U.jsx)("div",{className:"col-12",children:Object(U.jsxs)("div",{className:"card",children:[Object(U.jsx)("div",{className:"card-header",children:Object(U.jsx)("h3",{className:"card-title",children:"Detalles de pago"})}),Object(U.jsx)("div",{className:"card-body",children:Object(U.jsx)(Wa,{orderType:null===(c=de.getOrderById.type)||void 0===c?void 0:c.name,orderStore:(null===(i=de.getOrderById.store)||void 0===i?void 0:i.name)||(null===(o=de.getOrderById.warehouse)||void 0===o?void 0:o.name),orderPaymentPlatform:null===(l=de.getOrderById.payment)||void 0===l?void 0:l.platform,orderMethod:null===(d=de.getOrderById.method)||void 0===d?void 0:d.name,withStore:re,totalPrice:de.getOrderById.total_price,shippingPrice:de.getOrderById.shipping_price,id_store:A,status:null===de||void 0===de||null===(u=de.getOrderById)||void 0===u||null===(m=u.status)||void 0===m?void 0:m.id,uberAssignedId:null===de||void 0===de||null===(b=de.getOrderById)||void 0===b?void 0:b.uber_id,stores:null===je||void 0===je?void 0:je.getAllStores.rows,shippingCompanies:null===ve||void 0===ve?void 0:ve.getAllShippingCompanies,id_shippingCompany:R,status_id:null===de||void 0===de||null===(j=de.getOrderById)||void 0===j?void 0:j.status_id,handleStoreChange:function(e){q(parseInt(e.value))},handleShippingCompanyChange:function(e){L(parseInt(e.value))},show:B})})]})}),Object(U.jsx)("div",{className:"col-12",children:Object(U.jsxs)("div",{className:"card",children:[Object(U.jsx)("div",{className:"card-header",children:Object(U.jsx)("h3",{className:"card-title",children:"Desgloce de productos"})}),Object(U.jsx)("div",{className:"card-body",children:Object(U.jsx)(gr,{productsArray:de.getOrderById.products,totalQuantity:de.getOrderById.product_quantity})})]})}),Object(U.jsx)("div",{className:"col-12",children:Object(U.jsxs)("div",{className:"card",children:[Object(U.jsx)("div",{className:"card-header",children:Object(U.jsx)("h3",{className:"card-title",children:"Detalles de env\xedo"})}),Object(U.jsx)("div",{className:"card-body",children:Object(U.jsx)(Za,{city:null===(p=de.getOrderById.shipping)||void 0===p?void 0:p.city,address:null===(O=de.getOrderById.shipping)||void 0===O?void 0:O.address_1,postcode:null===(v=de.getOrderById.shipping)||void 0===v?void 0:v.postcode,email:null===(h=de.getOrderById.shipping)||void 0===h?void 0:h.email,phone:null===(f=de.getOrderById.shipping)||void 0===f?void 0:f.phone,firstName:null===(x=de.getOrderById.shipping)||void 0===x?void 0:x.first_name,lastName:null===(y=de.getOrderById.shipping)||void 0===y?void 0:y.last_name,state:null===(N=de.getOrderById.shipping)||void 0===N?void 0:N.state})})]})}),!B&&Object(U.jsx)(Ya,{cancelBtn:"Rechazar",onCancel:Object(P.a)($.a.mark((function e(){return $.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Sr(ie,Ne.idUser,Ce,G,C));case 1:case"end":return e.stop()}}),e)}))),processBtn:"Procesar",onProcess:1===de.getOrderById.type_id?Pe:ke})]})}),Object(U.jsxs)("div",{className:"col-4",children:[Object(U.jsx)(Nr,{idOrder:G}),Object(U.jsx)(wr,{idOrder:G})]})]})]})})},$r=function(){var e=Object(g.useState)({searchQuery:null,limit:10,offset:0,platform:null}),t=Object(I.a)(e,2),a=t[0],r=t[1],n=Object(g.useState)(0),s=Object(I.a)(n,2),c=s[0],i=s[1],o=Object(F.a)(Pr,{variables:{searchQuery:a.searchQuery,limit:a.limit,offset:a.offset,platform:a.platform}}),l=o.loading,d=o.error,u=o.data,m=Object(g.useState)([]),b=Object(I.a)(m,2),j=b[0],p=b[1];return Object(g.useEffect)((function(){if(!l){if(d)return J({mode:"errorModal",message:d.message});var e=u.getInProcessOrders.rows.map((function(e){var t,a,r,n,s,c,i,o;return{id:e.id?e.id:"--","Hora y fecha":te()(null===e||void 0===e?void 0:e.order_date).format("L")+", "+te()(null===e||void 0===e?void 0:e.order_date).format("LT")||"--",Plataforma:(null===(t=e.platform)||void 0===t?void 0:t.name)||"--",Tipo:(null===(a=e.type)||void 0===a?void 0:a.name)||"--","Plataforma de cobro":(null===(r=e.payment)||void 0===r?void 0:r.platform)||"--","No. de cobro":(null===(n=e.payment)||void 0===n?void 0:n.payment_id)||"--",Cliente:"".concat(null===(s=e.shipping)||void 0===s?void 0:s.first_name," ").concat(null===(c=e.shipping)||void 0===c?void 0:c.last_name),"Numero de venta":e.order_id?e.order_id:"--",Tienda:(null===e||void 0===e||null===(i=e.store)||void 0===i?void 0:i.name)||(null===e||void 0===e||null===(o=e.warehouse)||void 0===o?void 0:o.name)||"--"}}));i(u.getInProcessOrders.count),p(e)}}),[l,d,u]),Object(U.jsxs)(U.Fragment,{children:[Object(U.jsx)(Qe,{title:"En proceso",breadcrumb:"Pedidos en proceso",windowTitle:"En proceso"}),Object(U.jsx)(Je,{data:j,title:"Proceso",requery:Pr,editText:"Tomar Orden",totalCount:c,pagePagination:a,setPagePagination:r,platformSelector:!0,loadingData:l})]})},Ar=Object(Z.d)(lr||(lr=Object(W.a)(["\nquery GetToStockOrders($searchQuery: String, $limit: Int, $offset: Int, $platform: Int) {\n    getToStockOrders(searchQuery: $searchQuery, limit: $limit, offset: $offset, platform: $platform) {\n    rows {\n      id\n      platform_id\n      platform {\n        name\n        id\n      }\n      type {\n        name\n      }\n      payment {\n        platform\n        payment_id\n      }\n      store {\n        name\n      }\n      warehouse {\n        name\n      }\n      shipping {\n        first_name\n        last_name\n      }\n      order_id\n      order_date\n    }\n    count\n  }\n}\n"]))),Tr=Object(Z.d)(dr||(dr=Object(W.a)(["\n  mutation ChangeToSupply($orderId: Int!) {\n    changeToSupply(order_id: $orderId) {\n      id\n      status {\n        id\n        name\n      }\n    }\n  }\n"]))),qr=function(){var e,t,a,r,n,s,c,i,o,l,d,u,m,b,j,p,O,v,h,f,x,y=Object(T.i)(),N=y.id,_=y.show,S=Object(T.g)(),B=Object(g.useState)(""),C=Object(I.a)(B,2),k=C[0],E=C[1],A=Object(g.useState)(0),q=Object(I.a)(A,2),D=q[0],Q=q[1],R=Object(g.useState)(!1),L=Object(I.a)(R,2),M=L[0],z=L[1],G=Object(g.useState)({}),V=Object(I.a)(G,2),W=V[0],Z=V[1],Y=Object(g.useContext)(w).user,K=Object(F.a)(Ma,{variables:{id:parseInt(N)}}),X=K.data,ee=K.loading,ae=K.error,re=Object(De.a)(Tr),ne=Object(I.a)(re,1)[0],se=Object(F.a)(Br),ce=se.data,ie=se.loading,oe=se.error,le=Object(De.a)(Cr),de=Object(I.a)(le,1)[0];Object(g.useEffect)((function(){if(!ee){var e,t,a,r,n,s;if(ae)return J({mode:"error",message:ae.message},S.push("/orders/local"));if(!X.getOrderById)return J({mode:"error",message:"Esta orden no existe"},S.push("/orders/local"));if(12===(null===X||void 0===X||null===(e=X.getOrderById)||void 0===e||null===(t=e.status)||void 0===t?void 0:t.id))return J({mode:"error",message:"Esta orden ha sido rechazada"},S.push("/orders/local"));if(2!==(null===X||void 0===X||null===(a=X.getOrderById)||void 0===a||null===(r=a.status)||void 0===r?void 0:r.id))return J({mode:"error",message:"Esta orden no esta en proceso"},S.push("/orders/local"));var c=X.getOrderById;(null!==(n=c.store)&&void 0!==n&&n.name||null!==(s=c.warehouse)&&void 0!==s&&s.name)&&z(!0),E(c.store_id),Q(c.order_id)}}),[X,ee,ae]),Object(g.useEffect)((function(){if(!ie&&!oe){var e={};ce.getAllIssusses.map((function(t){return e=Object.assign(e,Object(Gt.a)({},t.id,t.name)),!0})),Z(e)}}),[ce,ie,oe]);var ue=function(){var e=Object(P.a)($.a.mark((function e(){var t;return $.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,ne({variables:{orderId:parseInt(N),storeId:parseInt(k)},refetchQueries:[{query:Ar}]});case 3:t=e.sent,t.data.changeToSupply&&H.a.fire({title:"Bien",text:"Pedido procesado",icon:"success",allowOutsideClick:!1,buttonsStyling:!1,confirmButtonText:'<i class="fas fa-check"> Aceptar </i>',customClass:{confirmButton:"btn btn-sm btn-accept"}}).then((function(e){e.isConfirmed&&S.goBack()})),e.next=11;break;case 8:return e.prev=8,e.t0=e.catch(0),e.abrupt("return",J({mode:"errorModal",message:e.t0.message}));case 11:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(){return e.apply(this,arguments)}}();return te.a.locale("es"),Object(U.jsx)(U.Fragment,{children:(null===X||void 0===X?void 0:X.getOrderById)&&!ee&&2===(null===X||void 0===X||null===(e=X.getOrderById)||void 0===e||null===(t=e.status)||void 0===t?void 0:t.id)&&Object(U.jsxs)(U.Fragment,{children:[Object(U.jsx)(Qe,{title:"Orden en Proceso",breadcrumb:"Proceso",windowTitle:"".concat(N?"Editar":"Agregar"," orden ")}),Object(U.jsxs)("div",{className:"row",children:[Object(U.jsx)("div",{className:"col-8",children:Object(U.jsxs)("div",{className:"row",children:[Object(U.jsx)("div",{className:"col-12",children:Object(U.jsxs)("div",{className:"card",children:[Object(U.jsx)("div",{className:"card-header",children:Object(U.jsx)("h3",{className:"card-title",children:"Detalles"})}),Object(U.jsx)("div",{className:"card-body col-12",children:Object(U.jsx)(Ja,{orderDate:te()(null===X||void 0===X||null===(a=X.getOrderById)||void 0===a?void 0:a.order_date).format("LLL"),orderId:null===X||void 0===X||null===(r=X.getOrderById)||void 0===r?void 0:r.order_id,paymentId:null===X||void 0===X||null===(n=X.getOrderById)||void 0===n?void 0:n.payment.payment_id,platform:null===X||void 0===X||null===(s=X.getOrderById)||void 0===s?void 0:s.platform.name})})]})}),Object(U.jsx)("div",{className:"col-12",children:Object(U.jsxs)("div",{className:"card",children:[Object(U.jsx)("div",{className:"card-header",children:Object(U.jsx)("h3",{className:"card-title",children:"Detalles de pago"})}),Object(U.jsx)("div",{className:"card-body",children:Object(U.jsx)(Wa,{orderType:null===(c=X.getOrderById.type)||void 0===c?void 0:c.name,orderStore:(null===(i=X.getOrderById.store)||void 0===i?void 0:i.name)||(null===(o=X.getOrderById.warehouse)||void 0===o?void 0:o.name),orderPaymentPlatform:null===(l=X.getOrderById.payment)||void 0===l?void 0:l.platform,orderMethod:null===(d=X.getOrderById.method)||void 0===d?void 0:d.name,withStore:M,totalPrice:X.getOrderById.total_price,shippingPrice:X.getOrderById.shipping_price,handleStoreChange:function(e){E(e.value)},id_store:k,status:null===X||void 0===X||null===(u=X.getOrderById)||void 0===u||null===(m=u.status)||void 0===m?void 0:m.id})})]})}),Object(U.jsx)("div",{className:"col-12",children:Object(U.jsxs)("div",{className:"card",children:[Object(U.jsx)("div",{className:"card-header",children:Object(U.jsx)("h3",{className:"card-title",children:"Desgloce de productos"})}),Object(U.jsx)("div",{className:"card-body",children:Object(U.jsx)(gr,{productsArray:X.getOrderById.products,totalQuantity:X.getOrderById.product_quantity})})]})}),Object(U.jsx)("div",{className:"col-12",children:Object(U.jsxs)("div",{className:"card",children:[Object(U.jsx)("div",{className:"card-header",children:Object(U.jsx)("h3",{className:"card-title",children:"Detalles de env\xedo"})}),Object(U.jsx)("div",{className:"card-body",children:Object(U.jsx)(Za,{city:null===(b=X.getOrderById.shipping)||void 0===b?void 0:b.city,address:null===(j=X.getOrderById.shipping)||void 0===j?void 0:j.address_1,postcode:null===(p=X.getOrderById.shipping)||void 0===p?void 0:p.postcode,email:null===(O=X.getOrderById.shipping)||void 0===O?void 0:O.email,phone:null===(v=X.getOrderById.shipping)||void 0===v?void 0:v.phone,firstName:null===(h=X.getOrderById.shipping)||void 0===h?void 0:h.first_name,lastName:null===(f=X.getOrderById.shipping)||void 0===f?void 0:f.last_name,state:null===(x=X.getOrderById.shipping)||void 0===x?void 0:x.state})})]})}),!_&&Object(U.jsx)(Ya,{cancelBtn:"Rechazar",onCancel:Object(P.a)($.a.mark((function e(){return $.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Sr(W,Y.idUser,de,D,S));case 1:case"end":return e.stop()}}),e)}))),processBtn:"Surtir",onProcess:1===X.getOrderById.type_id?function(){}:ue})]})}),Object(U.jsxs)("div",{className:"col-4",children:[Object(U.jsx)(Nr,{idOrder:D}),Object(U.jsx)(wr,{idOrder:D})]})]})]})})},Dr=Object(Z.d)(ur||(ur=Object(W.a)(["\nquery GetLocalOrders($searchQuery: String, $limit: Int, $offset: Int, $platform: Int) {\n  getLocalOrders(searchQuery: $searchQuery, limit: $limit, offset: $offset, platform: $platform) {\n    rows {\n      id\n      platform_id\n      platform {\n        name\n        id\n      }\n      status {\n        id\n        name\n      }\n      type {\n        name\n      }\n      payment {\n        platform\n        payment_id\n      }\n      store {\n        name\n      }\n      warehouse {\n        name\n      }\n      shipping {\n        first_name\n        last_name\n      }\n      order_id\n      order_date\n    }\n    count\n  }\n}\n"]))),Ur=function(){var e=Object(g.useState)({searchQuery:null,limit:10,offset:0,platform:null}),t=Object(I.a)(e,2),a=t[0],r=t[1],n=Object(g.useState)(0),s=Object(I.a)(n,2),c=s[0],i=s[1],o=Object(F.a)(Dr,{variables:{searchQuery:a.searchQuery,limit:a.limit,offset:a.offset,platform:a.platform}}),l=o.loading,d=o.error,u=o.data,m=Object(g.useState)([]),b=Object(I.a)(m,2),j=b[0],p=b[1];return Object(g.useEffect)((function(){if(!l){if(d)return J({mode:"errorModal",message:d.message});var e=u.getLocalOrders.rows.map((function(e){var t,a,r,n,s,c,i,o;return{id:e.id?e.id:"--","Hora y fecha":te()(null===e||void 0===e?void 0:e.order_date).format("L")+", "+te()(null===e||void 0===e?void 0:e.order_date).format("LT")||"--",Plataforma:(null===(t=e.platform)||void 0===t?void 0:t.name)||"--",Estatus:(null===(a=e.status)||void 0===a?void 0:a.name)||"--","Plataforma de cobro":(null===(r=e.payment)||void 0===r?void 0:r.platform)||"--","No. de cobro":(null===(n=e.payment)||void 0===n?void 0:n.payment_id)||"--",Cliente:"".concat(null===(s=e.shipping)||void 0===s?void 0:s.first_name," ").concat(null===(c=e.shipping)||void 0===c?void 0:c.last_name),"Numero de venta":e.order_id?e.order_id:"--",Tienda:(null===e||void 0===e||null===(i=e.store)||void 0===i?void 0:i.name)||(null===e||void 0===e||null===(o=e.warehouse)||void 0===o?void 0:o.name)||"--"}}));i(u.getLocalOrders.count),p(e)}}),[l,d,u]),Object(U.jsxs)(U.Fragment,{children:[Object(U.jsx)(Qe,{title:"Locales",breadcrumb:"Pedidos Locales",windowTitle:"Locales"}),Object(U.jsx)(Je,{data:j,title:"Locales",requery:Dr,editText:"Detalles",totalCount:c,pagePagination:a,setPagePagination:r,platformSelector:!0,loadingData:l})]})},Qr=function(){var e,t,a,r,n,s,c,i,o,l,d,u,m,b,j,p,O,v,h,f,x,y,N,_,w,S,B,C=Object(T.i)(),k=C.id,P=C.show,E=Object(T.g)(),$=Object(g.useState)(""),A=Object(I.a)($,2),q=A[0],D=A[1],Q=Object(g.useState)(0),R=Object(I.a)(Q,2),L=R[0],M=R[1],z=Object(g.useState)(!1),G=Object(I.a)(z,2),V=G[0],H=G[1],W=Object(F.a)(Ma,{variables:{id:parseInt(k)}}),Z=W.data,Y=W.loading,K=W.error;Object(g.useEffect)((function(){if(!Y){var e,t,a,r,n,s,c,i,o,l,d,u;if(K)return J({mode:"error",message:K.message},E.push("/orders/local"));if(!Z.getOrderById)return J({mode:"error",message:"Esta orden no existe"},E.push("/orders/local"));if(12===(null===Z||void 0===Z||null===(e=Z.getOrderById)||void 0===e||null===(t=e.status)||void 0===t?void 0:t.id))return J({mode:"error",message:"Esta orden ha sido rechazada"},E.push("/orders/local"));if(2!==(null===Z||void 0===Z||null===(a=Z.getOrderById)||void 0===a||null===(r=a.status)||void 0===r?void 0:r.id)&&6!==(null===Z||void 0===Z||null===(n=Z.getOrderById)||void 0===n||null===(s=n.status)||void 0===s?void 0:s.id)&&7!==(null===Z||void 0===Z||null===(c=Z.getOrderById)||void 0===c||null===(i=c.status)||void 0===i?void 0:i.id)&&8!==(null===Z||void 0===Z||null===(o=Z.getOrderById)||void 0===o||null===(l=o.status)||void 0===l?void 0:l.id))return J({mode:"error",message:"Esta orden no esta en locales"},E.push("/orders/local"));var m=Z.getOrderById;(null!==(d=m.store)&&void 0!==d&&d.name||null!==(u=m.warehouse)&&void 0!==u&&u.name)&&H(!0),D(m.store_id),M(m.order_id)}}),[Z,Y,K]);return te.a.locale("es"),Object(U.jsx)(U.Fragment,{children:(null===Z||void 0===Z?void 0:Z.getOrderById)&&!Y&&(2===(null===Z||void 0===Z||null===(e=Z.getOrderById)||void 0===e||null===(t=e.status)||void 0===t?void 0:t.id)||6===(null===Z||void 0===Z||null===(a=Z.getOrderById)||void 0===a||null===(r=a.status)||void 0===r?void 0:r.id)||7===(null===Z||void 0===Z||null===(n=Z.getOrderById)||void 0===n||null===(s=n.status)||void 0===s?void 0:s.id)||8===(null===Z||void 0===Z||null===(c=Z.getOrderById)||void 0===c||null===(i=c.status)||void 0===i?void 0:i.id))&&Object(U.jsxs)(U.Fragment,{children:[Object(U.jsx)(Qe,{title:"Orden Local",breadcrumb:"Ordenes",windowTitle:"".concat(k?"Editar":"Agregar"," orden ")}),Object(U.jsxs)("div",{className:"row",children:[Object(U.jsx)("div",{className:"col-8",children:Object(U.jsxs)("div",{className:"row",children:[Object(U.jsx)("div",{className:"col-12",children:Object(U.jsxs)("div",{className:"card",children:[Object(U.jsx)("div",{className:"card-header",children:Object(U.jsx)("h3",{className:"card-title",children:"Detalles"})}),Object(U.jsx)("div",{className:"card-body col-12",children:Object(U.jsx)(Ja,{orderDate:te()(null===Z||void 0===Z||null===(o=Z.getOrderById)||void 0===o?void 0:o.order_date).format("LLL"),orderId:null===Z||void 0===Z||null===(l=Z.getOrderById)||void 0===l?void 0:l.order_id,paymentId:null===Z||void 0===Z||null===(d=Z.getOrderById)||void 0===d?void 0:d.payment.payment_id,platform:null===Z||void 0===Z||null===(u=Z.getOrderById)||void 0===u?void 0:u.platform.name})})]})}),Object(U.jsx)("div",{className:"col-12",children:Object(U.jsxs)("div",{className:"card",children:[Object(U.jsx)("div",{className:"card-header",children:Object(U.jsx)("h3",{className:"card-title",children:"Detalles de pago"})}),Object(U.jsx)("div",{className:"card-body",children:Object(U.jsx)(Wa,{orderType:null===(m=Z.getOrderById.type)||void 0===m?void 0:m.name,orderStore:(null===(b=Z.getOrderById.store)||void 0===b?void 0:b.name)||(null===(j=Z.getOrderById.warehouse)||void 0===j?void 0:j.name),orderPaymentPlatform:null===(p=Z.getOrderById.payment)||void 0===p?void 0:p.platform,orderMethod:null===(O=Z.getOrderById.method)||void 0===O?void 0:O.name,withStore:V,totalPrice:Z.getOrderById.total_price,shippingPrice:Z.getOrderById.shipping_price,handleStoreChange:function(e){D(e.value)},id_store:q,status:null===Z||void 0===Z||null===(v=Z.getOrderById)||void 0===v||null===(h=v.status)||void 0===h?void 0:h.id})})]})}),Object(U.jsx)("div",{className:"col-12",children:Object(U.jsxs)("div",{className:"card",children:[Object(U.jsx)("div",{className:"card-header",children:Object(U.jsx)("h3",{className:"card-title",children:"Desgloce de productos"})}),Object(U.jsx)("div",{className:"card-body",children:Object(U.jsx)(gr,{productsArray:Z.getOrderById.products,totalQuantity:Z.getOrderById.product_quantity})})]})}),Object(U.jsx)("div",{className:"col-12",children:Object(U.jsxs)("div",{className:"card",children:[Object(U.jsx)("div",{className:"card-header",children:Object(U.jsx)("h3",{className:"card-title",children:"Detalles de env\xedo"})}),Object(U.jsx)("div",{className:"card-body",children:Object(U.jsx)(Za,{city:null===(f=Z.getOrderById.shipping)||void 0===f?void 0:f.city,address:null===(x=Z.getOrderById.shipping)||void 0===x?void 0:x.address_1,postcode:null===(y=Z.getOrderById.shipping)||void 0===y?void 0:y.postcode,email:null===(N=Z.getOrderById.shipping)||void 0===N?void 0:N.email,phone:null===(_=Z.getOrderById.shipping)||void 0===_?void 0:_.phone,firstName:null===(w=Z.getOrderById.shipping)||void 0===w?void 0:w.first_name,lastName:null===(S=Z.getOrderById.shipping)||void 0===S?void 0:S.last_name,state:null===(B=Z.getOrderById.shipping)||void 0===B?void 0:B.state})})]})}),!P&&Object(U.jsx)(Ya,{firstButtonGray:!0,cancelBtn:"Imprimir",onCancel:function(){return E.push("/orders/local")},processBtn:"Procesar",onProcess:1===Z.getOrderById.type_id?function(){}:function(){q||alert("Por favor seleccione una tienda")}})]})}),Object(U.jsxs)("div",{className:"col-4",children:[Object(U.jsx)(Nr,{idOrder:L}),Object(U.jsx)(wr,{idOrder:L})]})]})]})})},Rr=Object(Z.d)(mr||(mr=Object(W.a)(["\nquery GetNationalOrders($searchQuery: String, $limit: Int, $offset: Int, $platform: Int) {\n  getNationalOrders(searchQuery: $searchQuery, limit: $limit, offset: $offset, platform: $platform) {\n    rows {\n      id\n      platform_id\n      platform {\n        name\n        id\n      }\n      type {\n        name\n      }\n      status {\n        id\n        name\n      }\n      warehouse {\n        name\n      }\n      payment {\n        platform\n        payment_id\n      }\n      shipping {\n        first_name\n        last_name\n      }\n      order_id\n      order_date\n    }\n    count\n  }\n}\n"]))),Lr=function(){var e=Object(g.useState)({searchQuery:null,limit:10,offset:0,platform:null}),t=Object(I.a)(e,2),a=t[0],r=t[1],n=Object(g.useState)(0),s=Object(I.a)(n,2),c=s[0],i=s[1],o=Object(F.a)(Rr,{variables:{searchQuery:a.searchQuery,limit:a.limit,offset:a.offset,platform:a.platform}}),l=o.loading,d=o.error,u=o.data,m=Object(g.useState)([]),b=Object(I.a)(m,2),j=b[0],p=b[1];return Object(g.useEffect)((function(){if(!l){if(d)return J({mode:"errorModal",message:d.message});var e=u.getNationalOrders.rows.map((function(e){var t,a,r,n,s,c,i;return{id:e.id?e.id:"--","Hora y fecha":te()(null===e||void 0===e?void 0:e.order_date).format("L")+", "+te()(null===e||void 0===e?void 0:e.order_date).format("LT")||"--",Plataforma:(null===(t=e.platform)||void 0===t?void 0:t.name)||"--",Estatus:(null===(a=e.status)||void 0===a?void 0:a.name)||"--","Plataforma de cobro":(null===(r=e.payment)||void 0===r?void 0:r.platform)||"--","No. de cobro":(null===(n=e.payment)||void 0===n?void 0:n.payment_id)||"--",Cliente:"".concat(null===(s=e.shipping)||void 0===s?void 0:s.first_name," ").concat(null===(c=e.shipping)||void 0===c?void 0:c.last_name),"Numero de venta":e.order_id?e.order_id:"--",Tienda:(null===e||void 0===e||null===(i=e.warehouse)||void 0===i?void 0:i.name)||"--"}}));i(u.getNationalOrders.count),p(e)}}),[l,d,u]),Object(U.jsxs)(U.Fragment,{children:[Object(U.jsx)(Qe,{title:"Nacionales",breadcrumb:"Pedidos Nacionales",windowTitle:"Nacionales"}),Object(U.jsx)(Je,{data:j,title:"Nacionales",requery:Rr,editText:"Detalles",totalCount:c,pagePagination:a,setPagePagination:r,platformSelector:!0,loadingData:l})]})},Mr=function(){var e,t,a,r,n,s,c,i,o,l,d,u,m,b,j,p,O,v,h,f,x,y,N,_,w,S,B,C,k,P=Object(T.i)(),E=P.id,$=P.show,A=Object(T.g)(),q=Object(g.useState)(""),D=Object(I.a)(q,2),Q=D[0],R=D[1],L=Object(g.useState)(0),M=Object(I.a)(L,2),z=M[0],G=M[1],V=Object(g.useState)(!1),H=Object(I.a)(V,2),W=H[0],Z=H[1],Y=Object(F.a)(Ma,{variables:{id:parseInt(E)}}),K=Y.data,X=Y.loading,ee=Y.error;Object(g.useEffect)((function(){if(!X){var e,t,a,r,n,s,c,i,o,l,d,u,m,b;if(ee)return J({mode:"error",message:ee.message},A.push("/orders/local"));if(!K.getOrderById)return J({mode:"error",message:"Esta orden no existe"},A.push("/orders/local"));if(12===(null===K||void 0===K||null===(e=K.getOrderById)||void 0===e||null===(t=e.status)||void 0===t?void 0:t.id))return J({mode:"error",message:"Esta orden ha sido rechazada"},A.push("/orders/local"));if(7!==(null===K||void 0===K||null===(a=K.getOrderById)||void 0===a||null===(r=a.status)||void 0===r?void 0:r.id)&&3!==(null===K||void 0===K||null===(n=K.getOrderById)||void 0===n||null===(s=n.status)||void 0===s?void 0:s.id)&&9!==(null===K||void 0===K||null===(c=K.getOrderById)||void 0===c||null===(i=c.status)||void 0===i?void 0:i.id)&&10!==(null===K||void 0===K||null===(o=K.getOrderById)||void 0===o||null===(l=o.status)||void 0===l?void 0:l.id)&&8!==(null===K||void 0===K||null===(d=K.getOrderById)||void 0===d||null===(u=d.status)||void 0===u?void 0:u.id))return J({mode:"error",message:"Esta orden no esta en nacionales"},A.push("/orders/local"));var j=K.getOrderById;(null!==(m=j.store)&&void 0!==m&&m.name||null!==(b=j.warehouse)&&void 0!==b&&b.name)&&Z(!0),R(j.store_id),G(j.order_id)}}),[K,X,ee]);return te.a.locale("es"),Object(U.jsx)(U.Fragment,{children:(null===K||void 0===K?void 0:K.getOrderById)&&!X&&(7===(null===K||void 0===K||null===(e=K.getOrderById)||void 0===e||null===(t=e.status)||void 0===t?void 0:t.id)||3===(null===K||void 0===K||null===(a=K.getOrderById)||void 0===a||null===(r=a.status)||void 0===r?void 0:r.id)||9===(null===K||void 0===K||null===(n=K.getOrderById)||void 0===n||null===(s=n.status)||void 0===s?void 0:s.id)||10===(null===K||void 0===K||null===(c=K.getOrderById)||void 0===c||null===(i=c.status)||void 0===i?void 0:i.id)||8===(null===K||void 0===K||null===(o=K.getOrderById)||void 0===o||null===(l=o.status)||void 0===l?void 0:l.id))&&Object(U.jsxs)(U.Fragment,{children:[Object(U.jsx)(Qe,{title:"Orden Nacionales",breadcrumb:"Ordenes",windowTitle:"".concat(E?"Editar":"Agregar"," orden ")}),Object(U.jsxs)("div",{className:"row",children:[Object(U.jsx)("div",{className:"col-8",children:Object(U.jsxs)("div",{className:"row",children:[Object(U.jsx)("div",{className:"col-12",children:Object(U.jsxs)("div",{className:"card",children:[Object(U.jsx)("div",{className:"card-header",children:Object(U.jsx)("h3",{className:"card-title",children:"Detalles"})}),Object(U.jsx)("div",{className:"card-body col-12",children:Object(U.jsx)(Ja,{orderDate:te()(null===K||void 0===K||null===(d=K.getOrderById)||void 0===d?void 0:d.order_date).format("LLL"),orderId:null===K||void 0===K||null===(u=K.getOrderById)||void 0===u?void 0:u.order_id,paymentId:null===K||void 0===K||null===(m=K.getOrderById)||void 0===m?void 0:m.payment.payment_id,platform:null===K||void 0===K||null===(b=K.getOrderById)||void 0===b?void 0:b.platform.name})})]})}),Object(U.jsx)("div",{className:"col-12",children:Object(U.jsxs)("div",{className:"card",children:[Object(U.jsx)("div",{className:"card-header",children:Object(U.jsx)("h3",{className:"card-title",children:"Detalles de pago"})}),Object(U.jsx)("div",{className:"card-body",children:Object(U.jsx)(Wa,{orderType:null===(j=K.getOrderById.type)||void 0===j?void 0:j.name,orderStore:(null===(p=K.getOrderById.warehouse)||void 0===p?void 0:p.name)||(null===(O=K.getOrderById.store)||void 0===O?void 0:O.name),orderPaymentPlatform:null===(v=K.getOrderById.payment)||void 0===v?void 0:v.platform,orderMethod:null===(h=K.getOrderById.method)||void 0===h?void 0:h.name,withStore:W,totalPrice:K.getOrderById.total_price,shippingPrice:K.getOrderById.shipping_price,handleStoreChange:function(e){R(e.value)},id_store:Q,status:null===K||void 0===K||null===(f=K.getOrderById)||void 0===f||null===(x=f.status)||void 0===x?void 0:x.id})})]})}),Object(U.jsx)("div",{className:"col-12",children:Object(U.jsxs)("div",{className:"card",children:[Object(U.jsx)("div",{className:"card-header",children:Object(U.jsx)("h3",{className:"card-title",children:"Desgloce de productos"})}),Object(U.jsx)("div",{className:"card-body",children:Object(U.jsx)(gr,{productsArray:K.getOrderById.products,totalQuantity:K.getOrderById.product_quantity})})]})}),Object(U.jsx)("div",{className:"col-12",children:Object(U.jsxs)("div",{className:"card",children:[Object(U.jsx)("div",{className:"card-header",children:Object(U.jsx)("h3",{className:"card-title",children:"Detalles de env\xedo"})}),Object(U.jsx)("div",{className:"card-body",children:Object(U.jsx)(Za,{city:null===(y=K.getOrderById.shipping)||void 0===y?void 0:y.city,address:null===(N=K.getOrderById.shipping)||void 0===N?void 0:N.address_1,postcode:null===(_=K.getOrderById.shipping)||void 0===_?void 0:_.postcode,email:null===(w=K.getOrderById.shipping)||void 0===w?void 0:w.email,phone:null===(S=K.getOrderById.shipping)||void 0===S?void 0:S.phone,firstName:null===(B=K.getOrderById.shipping)||void 0===B?void 0:B.first_name,lastName:null===(C=K.getOrderById.shipping)||void 0===C?void 0:C.last_name,state:null===(k=K.getOrderById.shipping)||void 0===k?void 0:k.state})})]})}),!$&&Object(U.jsx)(Ya,{firstButtonGray:!0,cancelBtn:"Imprimir",onCancel:function(){return A.push("/orders/pending")},processBtn:"Procesar",onProcess:1===K.getOrderById.type_id?function(){}:function(){Q||alert("Por favor seleccione una tienda")}})]})}),Object(U.jsxs)("div",{className:"col-4",children:[Object(U.jsx)(Nr,{idOrder:z}),Object(U.jsx)(wr,{idOrder:z})]})]})]})})},Fr=Object(Z.d)(br||(br=Object(W.a)(["\nquery GetShippedOrders($searchQuery: String, $limit: Int, $offset: Int, $platform: Int) {\n  getShippedOrders(searchQuery: $searchQuery, limit: $limit, offset: $offset, platform: $platform) {\n    rows {\n      id\n      platform_id\n      platform {\n        name\n        id\n      }\n      type {\n        name\n      }\n      payment {\n        platform\n        payment_id\n      }\n      store {\n        name\n      }\n      warehouse {\n        name\n      }\n      shipping {\n        first_name\n        last_name\n      }\n      order_id\n      order_date\n    }\n    count\n  }\n}\n"]))),zr=Object(Z.d)(jr||(jr=Object(W.a)(["\n  mutation ChangeToShipped($orderId: Int!) {\n    changeToShipped(order_id: $orderId) {\n      id\n      status {\n        id\n        name\n      }\n    }\n  }\n"]))),Gr=function(){var e=Object(g.useState)({searchQuery:null,limit:10,offset:0,platform:null}),t=Object(I.a)(e,2),a=t[0],r=t[1],n=Object(g.useState)(0),s=Object(I.a)(n,2),c=s[0],i=s[1],o=Object(F.a)(Fr,{variables:{searchQuery:a.searchQuery,limit:a.limit,offset:a.offset,platform:a.platform}}),l=o.loading,d=o.error,u=o.data,m=Object(g.useState)([]),b=Object(I.a)(m,2),j=b[0],p=b[1];return Object(g.useEffect)((function(){if(!l){if(d)return J({mode:"errorModal",message:d.message});var e=u.getShippedOrders.rows.map((function(e){var t,a,r,n,s,c,i,o;return{id:e.id?e.id:"--","Hora y fecha":te()(null===e||void 0===e?void 0:e.order_date).format("L")+", "+te()(null===e||void 0===e?void 0:e.order_date).format("LT")||"--",Plataforma:(null===(t=e.platform)||void 0===t?void 0:t.name)||"--",Tipo:(null===(a=e.type)||void 0===a?void 0:a.name)||"--","Plataforma de cobro":(null===(r=e.payment)||void 0===r?void 0:r.platform)||"--","No. de cobro":(null===(n=e.payment)||void 0===n?void 0:n.payment_id)||"--",Cliente:"".concat(null===(s=e.shipping)||void 0===s?void 0:s.first_name," ").concat(null===(c=e.shipping)||void 0===c?void 0:c.last_name),"Numero de venta":e.order_id?e.order_id:"--",Tienda:(null===e||void 0===e||null===(i=e.store)||void 0===i?void 0:i.name)||(null===e||void 0===e||null===(o=e.warehouse)||void 0===o?void 0:o.name)||"--"}}));i(u.getShippedOrders.count),p(e)}}),[l,d,u]),Object(U.jsxs)(U.Fragment,{children:[Object(U.jsx)(Qe,{title:"Enviados",breadcrumb:"Pedidos enviados",windowTitle:"Enviados"}),Object(U.jsx)(Je,{data:j,title:"Enviados",requery:Fr,editText:"Detalles",totalCount:c,pagePagination:a,setPagePagination:r,platformSelector:!0,loadingData:l})]})},Vr=function(){var e,t,a,r,n,s,c,i,o,l,d,u,m,b,j,p,O,v,h,f,x,y=Object(T.i)().id,N=Object(g.useState)(""),_=Object(I.a)(N,2),w=_[0],S=_[1],B=Object(g.useState)(!1),C=Object(I.a)(B,2),k=C[0],P=C[1],E=Object(g.useState)(0),$=Object(I.a)(E,2),A=$[0],q=$[1],D=Object(T.g)(),Q=Object(F.a)(Ma,{variables:{id:parseInt(y)}}),R=Q.data,L=Q.loading,M=Q.error;Object(g.useEffect)((function(){if(!L){var e,t,a,r,n,s;if(M)return J({mode:"error",message:M.message},D.push("/orders/shipped"));if(!R.getOrderById)return J({mode:"error",message:"Esta orden no existe"},D.push("/orders/shipped"));if(12===(null===R||void 0===R||null===(e=R.getOrderById)||void 0===e||null===(t=e.status)||void 0===t?void 0:t.id))return J({mode:"error",message:"Esta orden ha sido rechazada"},D.push("/orders/shipped"));if(11!==(null===R||void 0===R||null===(a=R.getOrderById)||void 0===a||null===(r=a.status)||void 0===r?void 0:r.id))return J({mode:"error",message:"Esta orden no esta en enviados"},D.push("/orders/shipped"));var c=R.getOrderById;(null!==(n=c.store)&&void 0!==n&&n.name||null!==(s=c.warehouse)&&void 0!==s&&s.name)&&P(!0),S(c.store_id),q(c.order_id)}}),[R,L,M]);return te.a.locale("es"),Object(U.jsx)(U.Fragment,{children:(null===R||void 0===R?void 0:R.getOrderById)&&!L&&11===(null===R||void 0===R||null===(e=R.getOrderById)||void 0===e||null===(t=e.status)||void 0===t?void 0:t.id)&&Object(U.jsxs)(U.Fragment,{children:[Object(U.jsx)(Qe,{title:"Orden Enviada",breadcrumb:"Enviados",windowTitle:"".concat(y?"Editar":"Agregar"," orden ")}),Object(U.jsxs)("div",{className:"row",children:[Object(U.jsx)("div",{className:"col-8",children:Object(U.jsxs)("div",{className:"row",children:[Object(U.jsx)("div",{className:"col-12",children:Object(U.jsxs)("div",{className:"card",children:[Object(U.jsx)("div",{className:"card-header",children:Object(U.jsx)("h3",{className:"card-title",children:"Detalles"})}),Object(U.jsx)("div",{className:"card-body col-12",children:Object(U.jsx)(Ja,{orderDate:te()(null===R||void 0===R||null===(a=R.getOrderById)||void 0===a?void 0:a.order_date).format("LLL"),orderId:null===R||void 0===R||null===(r=R.getOrderById)||void 0===r?void 0:r.order_id,paymentId:null===R||void 0===R||null===(n=R.getOrderById)||void 0===n?void 0:n.payment.payment_id,platform:null===R||void 0===R||null===(s=R.getOrderById)||void 0===s?void 0:s.platform.name})})]})}),Object(U.jsx)("div",{className:"col-12",children:Object(U.jsxs)("div",{className:"card",children:[Object(U.jsx)("div",{className:"card-header",children:Object(U.jsx)("h3",{className:"card-title",children:"Detalles de pago"})}),Object(U.jsx)("div",{className:"card-body",children:Object(U.jsx)(Wa,{orderType:null===(c=R.getOrderById.type)||void 0===c?void 0:c.name,orderStore:(null===(i=R.getOrderById.store)||void 0===i?void 0:i.name)||(null===(o=R.getOrderById.warehouse)||void 0===o?void 0:o.name),orderPaymentPlatform:null===(l=R.getOrderById.payment)||void 0===l?void 0:l.platform,orderMethod:null===(d=R.getOrderById.method)||void 0===d?void 0:d.name,withStore:k,totalPrice:R.getOrderById.total_price,shippingPrice:R.getOrderById.shipping_price,handleStoreChange:function(e){S(e.value)},id_store:w,status:null===R||void 0===R||null===(u=R.getOrderById)||void 0===u||null===(m=u.status)||void 0===m?void 0:m.id})})]})}),Object(U.jsx)("div",{className:"col-12",children:Object(U.jsxs)("div",{className:"card",children:[Object(U.jsx)("div",{className:"card-header",children:Object(U.jsx)("h3",{className:"card-title",children:"Desgloce de productos"})}),Object(U.jsx)("div",{className:"card-body",children:Object(U.jsx)(gr,{productsArray:R.getOrderById.products,totalQuantity:R.getOrderById.product_quantity})})]})}),Object(U.jsx)("div",{className:"col-12",children:Object(U.jsxs)("div",{className:"card",children:[Object(U.jsx)("div",{className:"card-header",children:Object(U.jsx)("h3",{className:"card-title",children:"Detalles de env\xedo"})}),Object(U.jsx)("div",{className:"card-body",children:Object(U.jsx)(Za,{city:null===(b=R.getOrderById.shipping)||void 0===b?void 0:b.city,address:null===(j=R.getOrderById.shipping)||void 0===j?void 0:j.address_1,postcode:null===(p=R.getOrderById.shipping)||void 0===p?void 0:p.postcode,email:null===(O=R.getOrderById.shipping)||void 0===O?void 0:O.email,phone:null===(v=R.getOrderById.shipping)||void 0===v?void 0:v.phone,firstName:null===(h=R.getOrderById.shipping)||void 0===h?void 0:h.first_name,lastName:null===(f=R.getOrderById.shipping)||void 0===f?void 0:f.last_name,state:null===(x=R.getOrderById.shipping)||void 0===x?void 0:x.state})})]})})]})}),Object(U.jsxs)("div",{className:"col-4",children:[Object(U.jsx)(Nr,{idOrder:A}),Object(U.jsx)(wr,{idOrder:A})]})]})]})})},Hr=function(){var e=Object(g.useState)({searchQuery:null,limit:10,offset:0,platform:null}),t=Object(I.a)(e,2),a=t[0],r=t[1],n=Object(g.useState)(0),s=Object(I.a)(n,2),c=s[0],i=s[1],o=Object(F.a)(Ar,{variables:{searchQuery:a.searchQuery,limit:a.limit,offset:a.offset,platform:a.platform}}),l=o.loading,d=o.error,u=o.data,m=Object(g.useState)([]),b=Object(I.a)(m,2),j=b[0],p=b[1];return Object(g.useEffect)((function(){if(!l){if(d)return J({mode:"errorModal",message:d.message});var e=u.getToStockOrders.rows.map((function(e){var t,a,r,n,s,c,i,o;return{id:e.id?e.id:"--","Hora y fecha":te()(null===e||void 0===e?void 0:e.order_date).format("L")+", "+te()(null===e||void 0===e?void 0:e.order_date).format("LT")||"--",Plataforma:(null===(t=e.platform)||void 0===t?void 0:t.name)||"--",Tipo:(null===(a=e.type)||void 0===a?void 0:a.name)||"--","Plataforma de cobro":(null===(r=e.payment)||void 0===r?void 0:r.platform)||"--","No. de cobro":(null===(n=e.payment)||void 0===n?void 0:n.payment_id)||"--",Cliente:"".concat(null===(s=e.shipping)||void 0===s?void 0:s.first_name," ").concat(null===(c=e.shipping)||void 0===c?void 0:c.last_name),"Numero de venta":e.order_id?e.order_id:"--",Tienda:(null===e||void 0===e||null===(i=e.store)||void 0===i?void 0:i.name)||(null===e||void 0===e||null===(o=e.warehouse)||void 0===o?void 0:o.name)||"--"}}));i(u.getToStockOrders.count),p(e)}}),[l,d,u]),Object(U.jsxs)(U.Fragment,{children:[Object(U.jsx)(Qe,{title:"Surtir",breadcrumb:"Pedidos por surtir",windowTitle:"Surtir"}),Object(U.jsx)(Je,{data:j,title:"Surtir",requery:Ar,editText:"Tomar Orden",totalCount:c,pagePagination:a,setPagePagination:r,platformSelector:!0,loadingData:l})]})},Jr=Object(Z.d)(pr||(pr=Object(W.a)(["\nquery GetCollectOrders($searchQuery: String, $limit: Int, $offset: Int, $platform: Int) {\n  getCollectOrders(searchQuery: $searchQuery, limit: $limit, offset: $offset, platform: $platform) {\n    rows {\n      id\n      platform_id\n      platform {\n        name\n        id\n      }\n      type {\n        name\n      }\n      payment {\n        platform\n        payment_id\n      }\n      store {\n        name\n      }\n      warehouse {\n        name\n      }\n      shipping {\n        first_name\n        last_name\n      }\n      order_id\n      order_date\n    }\n    count\n  }\n}\n"]))),Wr=Object(Z.d)(Or||(Or=Object(W.a)(["\n  mutation ChangeToCollect($orderId: Int!, $shippingCompayId: Int) {\n    changeToCollect(order_id: $orderId, shipping_compay_id: $shippingCompayId) {\n      id\n      status {\n        id\n        name\n      }\n    }\n  }\n"]))),Zr=function(){var e,t,a,r,n,s,c,i,o,l,d,u,m,b,j,p,O,v,h,f,x,y,N,_=Object(T.i)(),w=_.id,S=_.show,B=Object(T.g)(),C=Object(g.useState)(""),k=Object(I.a)(C,2),E=k[0],A=k[1],q=Object(g.useState)(""),D=Object(I.a)(q,2),Q=D[0],R=D[1],L=Object(g.useState)(!1),M=Object(I.a)(L,2),z=M[0],G=M[1],V=Object(g.useState)(0),W=Object(I.a)(V,2),Z=W[0],Y=W[1],K=Object(F.a)(Ma,{variables:{id:parseInt(w)}}),X=K.data,ee=K.loading,ae=K.error;Object(g.useEffect)((function(){if(!ee){var e,t,a,r,n,s;if(ae)return J({mode:"error",message:ae.message}),B.push("/orders/stock");if(!X.getOrderById)return J({mode:"error",message:"Esta orden no existe"},B.push("/orders/stock"));if(12===(null===X||void 0===X||null===(e=X.getOrderById)||void 0===e||null===(t=e.status)||void 0===t?void 0:t.id))return J({mode:"error",message:"Esta orden ha sido rechazada"},B.push("/orders/stock"));if(6!==(null===X||void 0===X||null===(a=X.getOrderById)||void 0===a||null===(r=a.status)||void 0===r?void 0:r.id))return J({mode:"error",message:"Esta orden no esta en surtir"},B.push("/orders/stock"));var c=X.getOrderById;(null!==(n=c.store)&&void 0!==n&&n.name||null!==(s=c.warehouse)&&void 0!==s&&s.name)&&G(!0),A(c.store_id),Y(c.order_id)}}),[X,ee,ae]);var re=Object(De.a)(Wr),ne=Object(I.a)(re,1)[0],se=Object(F.a)(xr),ce=se.data,ie=se.loading,oe=function(){var e=Object(P.a)($.a.mark((function e(){var t;return $.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(Q){e.next=2;break}return e.abrupt("return",J({mode:"error",message:"Por favor seleccione una empresa de logistica"}));case 2:return e.prev=2,e.next=5,ne({variables:{orderId:parseInt(w),shippingCompayId:parseInt(Q)},refetchQueries:[{query:Ar}]});case 5:t=e.sent,t.data.changeToCollect&&H.a.fire({title:"Bien",text:"Pedido procesado",icon:"success",allowOutsideClick:!1,buttonsStyling:!1,confirmButtonText:'<i class="fas fa-check"> Aceptar </i>',customClass:{confirmButton:"btn btn-sm btn-accept"}}).then((function(e){e.isConfirmed&&B.goBack()})),e.next=13;break;case 10:return e.prev=10,e.t0=e.catch(2),e.abrupt("return",J({mode:"errorModal",message:e.t0.message}));case 13:case"end":return e.stop()}}),e,null,[[2,10]])})));return function(){return e.apply(this,arguments)}}(),le=function(){var e=Object(P.a)($.a.mark((function e(){var t;return $.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,ne({variables:{orderId:parseInt(w)},refetchQueries:[{query:Ar}]});case 3:t=e.sent,t.data.changeToCollect&&H.a.fire({title:"Bien",text:"Pedido procesado",icon:"success",allowOutsideClick:!1,buttonsStyling:!1,confirmButtonText:'<i class="fas fa-check"> Aceptar </i>',customClass:{confirmButton:"btn btn-sm btn-accept"}}).then((function(e){e.isConfirmed&&B.goBack()})),e.next=11;break;case 8:return e.prev=8,e.t0=e.catch(0),e.abrupt("return",J({mode:"errorModal",message:e.t0.message}));case 11:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(){return e.apply(this,arguments)}}();return te.a.locale("es"),Object(U.jsx)(U.Fragment,{children:(null===X||void 0===X?void 0:X.getOrderById)&&!ee&&!ie&&6===(null===X||void 0===X||null===(e=X.getOrderById)||void 0===e||null===(t=e.status)||void 0===t?void 0:t.id)&&Object(U.jsxs)(U.Fragment,{children:[Object(U.jsx)(Qe,{title:"Orden por surtir",breadcrumb:"Surtir",windowTitle:"".concat(w?"Editar":"Agregar"," orden ")}),Object(U.jsxs)("div",{className:"row",children:[Object(U.jsx)("div",{className:"col-8",children:Object(U.jsxs)("div",{className:"row",children:[Object(U.jsx)("div",{className:"col-12",children:Object(U.jsxs)("div",{className:"card",children:[Object(U.jsx)("div",{className:"card-header",children:Object(U.jsx)("h3",{className:"card-title",children:"Detalles"})}),Object(U.jsx)("div",{className:"card-body col-12",children:Object(U.jsx)(Ja,{orderDate:te()(null===X||void 0===X||null===(a=X.getOrderById)||void 0===a?void 0:a.order_date).format("LLL"),orderId:null===X||void 0===X||null===(r=X.getOrderById)||void 0===r?void 0:r.order_id,paymentId:null===X||void 0===X||null===(n=X.getOrderById)||void 0===n?void 0:n.payment.payment_id,platform:null===X||void 0===X||null===(s=X.getOrderById)||void 0===s?void 0:s.platform.name})})]})}),Object(U.jsx)("div",{className:"col-12",children:Object(U.jsxs)("div",{className:"card",children:[Object(U.jsx)("div",{className:"card-header",children:Object(U.jsx)("h3",{className:"card-title",children:"Detalles de pago"})}),Object(U.jsx)("div",{className:"card-body",children:Object(U.jsx)(Wa,{orderType:null===(c=X.getOrderById.type)||void 0===c?void 0:c.name,orderStore:(null===(i=X.getOrderById.store)||void 0===i?void 0:i.name)||(null===(o=X.getOrderById.warehouse)||void 0===o?void 0:o.name),orderPaymentPlatform:null===(l=X.getOrderById.payment)||void 0===l?void 0:l.platform,orderMethod:null===(d=X.getOrderById.method)||void 0===d?void 0:d.name,withStore:z,totalPrice:X.getOrderById.total_price,shippingPrice:X.getOrderById.shipping_price,id_store:E,status_id:null===X||void 0===X||null===(u=X.getOrderById)||void 0===u||null===(m=u.status)||void 0===m?void 0:m.id,uberAssignedId:null===X||void 0===X||null===(b=X.getOrderById)||void 0===b?void 0:b.uber_id,handleStoreChange:function(e){A(e.value)},shippingCompanies:null===ce||void 0===ce?void 0:ce.getAllShippingCompanies,id_shippingCompany:Q,handleShippingCompanyChange:function(e){R(parseInt(e.value))},show:S})})]})}),Object(U.jsx)("div",{className:"col-12",children:Object(U.jsxs)("div",{className:"card",children:[Object(U.jsx)("div",{className:"card-header",children:Object(U.jsx)("h3",{className:"card-title",children:"Desgloce de productos"})}),Object(U.jsx)("div",{className:"card-body",children:Object(U.jsx)(gr,{productsArray:X.getOrderById.products,totalQuantity:X.getOrderById.product_quantity})})]})}),Object(U.jsx)("div",{className:"col-12",children:Object(U.jsxs)("div",{className:"card",children:[Object(U.jsx)("div",{className:"card-header",children:Object(U.jsx)("h3",{className:"card-title",children:"Detalles de env\xedo"})}),Object(U.jsx)("div",{className:"card-body",children:Object(U.jsx)(Za,{city:null===(j=X.getOrderById.shipping)||void 0===j?void 0:j.city,address:null===(p=X.getOrderById.shipping)||void 0===p?void 0:p.address_1,postcode:null===(O=X.getOrderById.shipping)||void 0===O?void 0:O.postcode,email:null===(v=X.getOrderById.shipping)||void 0===v?void 0:v.email,phone:null===(h=X.getOrderById.shipping)||void 0===h?void 0:h.phone,firstName:null===(f=X.getOrderById.shipping)||void 0===f?void 0:f.first_name,lastName:null===(x=X.getOrderById.shipping)||void 0===x?void 0:x.last_name,state:null===(y=X.getOrderById.shipping)||void 0===y?void 0:y.state})})]})}),!S&&Object(U.jsx)(Ya,{firstButtonGray:!0,cancelBtn:"Imprimir",onCancel:function(){return B.push("/orders/pending")},processBtn:"Por recolectar",onProcess:"Fast"===(null===(N=X.getOrderById.method)||void 0===N?void 0:N.name)?oe:le})]})}),Object(U.jsxs)("div",{className:"col-4",children:[Object(U.jsx)(Nr,{idOrder:Z}),Object(U.jsx)(wr,{idOrder:Z})]})]})]})})},Yr=function(){var e=Object(g.useState)({searchQuery:null,limit:10,offset:0,platform:null}),t=Object(I.a)(e,2),a=t[0],r=t[1],n=Object(g.useState)(0),s=Object(I.a)(n,2),c=s[0],i=s[1],o=Object(F.a)(kr,{variables:{searchQuery:a.searchQuery,limit:a.limit,offset:a.offset,platform:a.platform}}),l=o.loading,d=o.error,u=o.data,m=Object(g.useState)([]),b=Object(I.a)(m,2),j=b[0],p=b[1];return Object(g.useEffect)((function(){if(!l){if(d)return J({mode:"errorModal",message:d.message});var e=u.getBillingOrders.rows.map((function(e){var t,a,r,n,s,c,i,o;return{id:e.id?e.id:"--","Hora y fecha":te()(null===e||void 0===e?void 0:e.order_date).format("L")+", "+te()(null===e||void 0===e?void 0:e.order_date).format("LT")||"--",Plataforma:(null===(t=e.platform)||void 0===t?void 0:t.name)||"--",Tipo:(null===(a=e.type)||void 0===a?void 0:a.name)||"--","Plataforma de cobro":(null===(r=e.payment)||void 0===r?void 0:r.platform)||"--","No. de cobro":(null===(n=e.payment)||void 0===n?void 0:n.payment_id)||"--",Cliente:"".concat(null===(s=e.shipping)||void 0===s?void 0:s.first_name," ").concat(null===(c=e.shipping)||void 0===c?void 0:c.last_name),"Numero de venta":e.order_id?e.order_id:"--",Tienda:(null===e||void 0===e||null===(i=e.store)||void 0===i?void 0:i.name)||(null===e||void 0===e||null===(o=e.warehouse)||void 0===o?void 0:o.name)||"--"}}));i(u.getBillingOrders.count),p(e)}}),[l,d,u]),Object(U.jsxs)(U.Fragment,{children:[Object(U.jsx)(Qe,{title:"Facturacion",breadcrumb:"Pedidos Facturacion",windowTitle:"Facturacion"}),Object(U.jsx)(Je,{data:j,title:"Facturacion",requery:kr,editText:"Detalles",totalCount:c,pagePagination:a,setPagePagination:r,platformSelector:!0,loadingData:l})]})},Kr=function(){var e,t,a,r,n,s,c,i,o,l,d,u,m,b,j,p,O,v,h,f,x,y=Object(T.i)(),N=y.id,_=y.show,w=Object(g.useState)(""),S=Object(I.a)(w,2),B=S[0],C=S[1],k=Object(g.useState)(0),P=Object(I.a)(k,2),E=P[0],$=P[1],A=Object(T.g)(),q=Object(g.useState)(!1),D=Object(I.a)(q,2),Q=D[0],R=D[1],L=Object(F.a)(Ma,{variables:{id:parseInt(N)}}),M=L.data,z=L.loading,G=L.error;Object(g.useEffect)((function(){if(!z){var e,t,a,r,n,s;if(G)return J({mode:"error",message:G.message},A.push("/orders/local"));if(!M.getOrderById)return J({mode:"error",message:"Esta orden no existe"},A.push("/orders/local"));if(12===(null===M||void 0===M||null===(e=M.getOrderById)||void 0===e||null===(t=e.status)||void 0===t?void 0:t.id))return J({mode:"error",message:"Esta orden ha sido rechazada"},A.push("/orders/local"));if(3!==(null===M||void 0===M||null===(a=M.getOrderById)||void 0===a||null===(r=a.status)||void 0===r?void 0:r.id))return J({mode:"error",message:"Esta orden no esta en facturacion"},A.push("/orders/local"));var c=M.getOrderById;(null!==(n=c.store)&&void 0!==n&&n.name||null!==(s=c.warehouse)&&void 0!==s&&s.name)&&R(!0),C(c.store_id),$(c.order_id)}}),[M,z,G]);return te.a.locale("es"),Object(U.jsx)(U.Fragment,{children:(null===M||void 0===M?void 0:M.getOrderById)&&!z&&3===(null===M||void 0===M||null===(e=M.getOrderById)||void 0===e||null===(t=e.status)||void 0===t?void 0:t.id)&&Object(U.jsxs)(U.Fragment,{children:[Object(U.jsx)(Qe,{title:"Orden Facturaci\xf3n",breadcrumb:"Facturaci\xf3n",windowTitle:"".concat(N?"Editar":"Agregar"," orden ")}),Object(U.jsxs)("div",{className:"row",children:[Object(U.jsx)("div",{className:"col-8",children:Object(U.jsxs)("div",{className:"row",children:[Object(U.jsx)("div",{className:"col-12",children:Object(U.jsxs)("div",{className:"card",children:[Object(U.jsx)("div",{className:"card-header",children:Object(U.jsx)("h3",{className:"card-title",children:"Detalles"})}),Object(U.jsx)("div",{className:"card-body col-12",children:Object(U.jsx)(Ja,{orderDate:te()(null===M||void 0===M||null===(a=M.getOrderById)||void 0===a?void 0:a.order_date).format("LLL"),orderId:null===M||void 0===M||null===(r=M.getOrderById)||void 0===r?void 0:r.order_id,paymentId:null===M||void 0===M||null===(n=M.getOrderById)||void 0===n?void 0:n.payment.payment_id,platform:null===M||void 0===M||null===(s=M.getOrderById)||void 0===s?void 0:s.platform.name})})]})}),Object(U.jsx)("div",{className:"col-12",children:Object(U.jsxs)("div",{className:"card",children:[Object(U.jsx)("div",{className:"card-header",children:Object(U.jsx)("h3",{className:"card-title",children:"Detalles de pago"})}),Object(U.jsx)("div",{className:"card-body",children:Object(U.jsx)(Wa,{orderType:null===(c=M.getOrderById.type)||void 0===c?void 0:c.name,orderStore:(null===(i=M.getOrderById.store)||void 0===i?void 0:i.name)||(null===(o=M.getOrderById.warehouse)||void 0===o?void 0:o.name),orderPaymentPlatform:null===(l=M.getOrderById.payment)||void 0===l?void 0:l.platform,orderMethod:null===(d=M.getOrderById.method)||void 0===d?void 0:d.name,withStore:Q,totalPrice:M.getOrderById.total_price,shippingPrice:M.getOrderById.shipping_price,handleStoreChange:function(e){C(e.value)},id_store:B,status:null===M||void 0===M||null===(u=M.getOrderById)||void 0===u||null===(m=u.status)||void 0===m?void 0:m.id})})]})}),Object(U.jsx)("div",{className:"col-12",children:Object(U.jsxs)("div",{className:"card",children:[Object(U.jsx)("div",{className:"card-header",children:Object(U.jsx)("h3",{className:"card-title",children:"Desgloce de productos"})}),Object(U.jsx)("div",{className:"card-body",children:Object(U.jsx)(gr,{productsArray:M.getOrderById.products,totalQuantity:M.getOrderById.product_quantity})})]})}),Object(U.jsx)("div",{className:"col-12",children:Object(U.jsxs)("div",{className:"card",children:[Object(U.jsx)("div",{className:"card-header",children:Object(U.jsx)("h3",{className:"card-title",children:"Detalles de env\xedo"})}),Object(U.jsx)("div",{className:"card-body",children:Object(U.jsx)(Za,{city:null===(b=M.getOrderById.shipping)||void 0===b?void 0:b.city,address:null===(j=M.getOrderById.shipping)||void 0===j?void 0:j.address_1,postcode:null===(p=M.getOrderById.shipping)||void 0===p?void 0:p.postcode,email:null===(O=M.getOrderById.shipping)||void 0===O?void 0:O.email,phone:null===(v=M.getOrderById.shipping)||void 0===v?void 0:v.phone,firstName:null===(h=M.getOrderById.shipping)||void 0===h?void 0:h.first_name,lastName:null===(f=M.getOrderById.shipping)||void 0===f?void 0:f.last_name,state:null===(x=M.getOrderById.shipping)||void 0===x?void 0:x.state})})]})}),!_&&Object(U.jsx)(Ya,{oneButton:!0,onProcess:1===M.getOrderById.type_id?function(){}:function(){B||alert("Por favor seleccione una tienda")},processBtn:"Imprimir"})]})}),Object(U.jsxs)("div",{className:"col-4",children:[Object(U.jsx)(Nr,{idOrder:E}),Object(U.jsx)(wr,{idOrder:E})]})]})]})})},Xr=Object(Z.d)(vr||(vr=Object(W.a)(["\nquery GetRejectedOrders($searchQuery: String, $limit: Int, $offset: Int, $platform: Int) {\n  getRejectedOrders(searchQuery: $searchQuery, limit: $limit, offset: $offset, platform: $platform) {\n    rows {\n      id\n      platform_id\n      platform {\n        name\n        id\n      }\n      type {\n        name\n      }\n      payment {\n        platform\n        payment_id\n      }\n      store {\n        name\n      }\n      warehouse {\n        name\n      }\n      shipping {\n        first_name\n        last_name\n      }\n      order_id\n      order_date\n    }\n    # count\n  }\n}\n"]))),en=(Object(Z.d)(hr||(hr=Object(W.a)(["\n  mutation changeToRejected($orderId: Int!) {\n    changeToRejected(order_id: $orderId) {\n      id\n      status {\n        id\n        name\n      }\n    }\n  }\n"]))),Object(Z.d)(fr||(fr=Object(W.a)(["\n  mutation ChangeToReturned($orderId: Int!) {\n    changeToReturned(order_id: $orderId) {\n      id\n      status {\n        id\n        name\n      }\n    }\n  }\n"])))),tn=function(){var e=Object(g.useState)({searchQuery:null,limit:10,offset:0,platform:null}),t=Object(I.a)(e,2),a=t[0],r=t[1],n=Object(g.useState)(0),s=Object(I.a)(n,2),c=s[0],i=s[1],o=Object(F.a)(Xr,{variables:{searchQuery:a.searchQuery,limit:a.limit,offset:a.offset,platform:a.platform}}),l=o.loading,d=o.error,u=o.data,m=Object(g.useState)([]),b=Object(I.a)(m,2),j=b[0],p=b[1];return Object(g.useEffect)((function(){if(!l){if(d)return J({mode:"errorModal",message:d.message});var e=u.getRejectedOrders.rows.map((function(e){var t,a,r,n,s,c,i,o;return{id:e.id?e.id:"--","Hora y fecha":te()(null===e||void 0===e?void 0:e.order_date).format("L")+", "+te()(null===e||void 0===e?void 0:e.order_date).format("LT")||"--",Plataforma:(null===(t=e.platform)||void 0===t?void 0:t.name)||"--",Tipo:(null===(a=e.type)||void 0===a?void 0:a.name)||"--","Plataforma de cobro":(null===(r=e.payment)||void 0===r?void 0:r.platform)||"--","No. de cobro":(null===(n=e.payment)||void 0===n?void 0:n.payment_id)||"--",Cliente:"".concat(null===(s=e.shipping)||void 0===s?void 0:s.first_name," ").concat(null===(c=e.shipping)||void 0===c?void 0:c.last_name),"Numero de venta":e.order_id?e.order_id:"--",Tienda:(null===(i=e.store)||void 0===i?void 0:i.name)||(null===(o=e.warehouse)||void 0===o?void 0:o.name)||"--"}}));i(u.getRejectedOrders.count),p(e)}}),[l,d,u]),Object(U.jsxs)(U.Fragment,{children:[Object(U.jsx)(Qe,{title:"Enviados",breadcrumb:"Pedidos Enviados",windowTitle:"Enviados"}),Object(U.jsx)(Je,{data:j,title:"Enviados",requery:Xr,editText:"Detalles",totalCount:c,pagePagination:a,setPagePagination:r,platformSelector:!0,loadingData:l})]})};var an,rn,nn=function(e){var t=e.issues,a=void 0===t?"--":t,r=e.user,n=void 0===r?"--":r,s=e.timestap,c=void 0===s?"--":s;return Object(U.jsx)("div",{className:"col-12 overflow-auto",children:Object(U.jsx)("div",{className:"row",children:Object(U.jsx)("div",{className:"col-sm-12 col-md-12 px-0",children:Object(U.jsxs)("p",{className:"content-text-details px-2",children:[Object(U.jsx)("span",{children:a}),Object(U.jsx)("br",{}),Object(U.jsxs)("small",{children:[" ",n," - ",c," "]})]})})})})},sn=function(){var e,t,a,r,n,s,c,i,o,l,d,u,m,b,j,p,O,v,h,f,x,y,N,_,w,S,B,C,k,P,E,$,A,q,D,Q,R=Object(T.i)().id,L=Object(g.useState)(""),M=Object(I.a)(L,2),z=M[0],G=M[1],V=Object(g.useState)(!1),H=Object(I.a)(V,2),W=H[0],Z=H[1],Y=Object(g.useState)(0),K=Object(I.a)(Y,2),X=K[0],ee=K[1],ae=Object(T.g)(),re=Object(F.a)(Ma,{variables:{id:parseInt(R)}}),ne=re.data,se=re.loading,ce=re.error;Object(g.useEffect)((function(){if(!se){var e,t,a,r,n,s;if(ce)return J({mode:"error",message:ce.message},ae.push("/orders/rejected"));if(!ne.getOrderById)return J({mode:"error",message:"Esta orden no existe"},ae.push("/orders/rejected"));if(12!==(null===ne||void 0===ne||null===(e=ne.getOrderById)||void 0===e||null===(t=e.status)||void 0===t?void 0:t.id)&&13!==(null===ne||void 0===ne||null===(a=ne.getOrderById)||void 0===a||null===(r=a.status)||void 0===r?void 0:r.id))return J({mode:"error",message:"Esta orden no esta rechazada"},ae.push("/orders/rejected"));var c=ne.getOrderById;(null!==(n=c.store)&&void 0!==n&&n.name||null!==(s=c.warehouse)&&void 0!==s&&s.name)&&Z(!0),G(c.store_id),ee(c.order_id)}}),[ne,se,ce]);return te.a.locale("es"),Object(U.jsx)(U.Fragment,{children:(null===ne||void 0===ne?void 0:ne.getOrderById)&&!se&&(12===(null===ne||void 0===ne||null===(e=ne.getOrderById)||void 0===e||null===(t=e.status)||void 0===t?void 0:t.id)||13===(null===ne||void 0===ne||null===(a=ne.getOrderById)||void 0===a||null===(r=a.status)||void 0===r?void 0:r.id))&&Object(U.jsxs)(U.Fragment,{children:[Object(U.jsx)(Qe,{title:"Orden Rechazada",breadcrumb:"Ordenes",windowTitle:"".concat(R?"Editar":"Agregar"," orden ")}),Object(U.jsxs)("div",{className:"row",children:[Object(U.jsx)("div",{className:"col-8",children:Object(U.jsxs)("div",{className:"row",children:[Object(U.jsx)("div",{className:"col-12",children:Object(U.jsxs)("div",{className:"card",children:[Object(U.jsx)("div",{className:"card-header",children:Object(U.jsx)("h3",{className:"card-title",children:"Detalles"})}),Object(U.jsx)("div",{className:"card-body col-12",children:Object(U.jsx)(Ja,{orderDate:te()(null===ne||void 0===ne||null===(n=ne.getOrderById)||void 0===n?void 0:n.order_date).format("LLL"),orderId:null===ne||void 0===ne||null===(s=ne.getOrderById)||void 0===s?void 0:s.order_id,paymentId:null===ne||void 0===ne||null===(c=ne.getOrderById)||void 0===c?void 0:c.payment.payment_id,platform:null===ne||void 0===ne||null===(i=ne.getOrderById)||void 0===i?void 0:i.platform.name})})]})}),Object(U.jsx)("div",{className:"col-12",children:Object(U.jsxs)("div",{className:"card",children:[Object(U.jsx)("div",{className:"card-header",children:Object(U.jsx)("h3",{className:"card-title",children:"Detalles de pago"})}),Object(U.jsx)("div",{className:"card-body",children:Object(U.jsx)(Wa,{orderType:null===(o=ne.getOrderById.type)||void 0===o?void 0:o.name,orderStore:(null===(l=ne.getOrderById.store)||void 0===l?void 0:l.name)||(null===(d=ne.getOrderById.warehouse)||void 0===d?void 0:d.name),orderPaymentPlatform:null===(u=ne.getOrderById.payment)||void 0===u?void 0:u.platform,orderMethod:null===(m=ne.getOrderById.method)||void 0===m?void 0:m.name,withStore:W,totalPrice:ne.getOrderById.total_price,shippingPrice:ne.getOrderById.shipping_price,handleStoreChange:function(e){G(e.value)},id_store:z,status:null===ne||void 0===ne||null===(b=ne.getOrderById)||void 0===b||null===(j=b.status)||void 0===j?void 0:j.id})})]})}),Object(U.jsx)("div",{className:"col-12",children:Object(U.jsxs)("div",{className:"card",children:[Object(U.jsx)("div",{className:"card-header",children:Object(U.jsx)("h3",{className:"card-title",children:"Desgloce de productos"})}),Object(U.jsx)("div",{className:"card-body",children:Object(U.jsx)(gr,{productsArray:ne.getOrderById.products,totalQuantity:ne.getOrderById.product_quantity})})]})}),Object(U.jsx)("div",{className:"col-12",children:Object(U.jsxs)("div",{className:"card",children:[Object(U.jsx)("div",{className:"card-header",children:Object(U.jsx)("h3",{className:"card-title",children:"Detalles de env\xedo"})}),Object(U.jsx)("div",{className:"card-body",children:Object(U.jsx)(Za,{city:null===(p=ne.getOrderById.shipping)||void 0===p?void 0:p.city,address:null===(O=ne.getOrderById.shipping)||void 0===O?void 0:O.address_1,postcode:null===(v=ne.getOrderById.shipping)||void 0===v?void 0:v.postcode,email:null===(h=ne.getOrderById.shipping)||void 0===h?void 0:h.email,phone:null===(f=ne.getOrderById.shipping)||void 0===f?void 0:f.phone,firstName:null===(x=ne.getOrderById.shipping)||void 0===x?void 0:x.first_name,lastName:null===(y=ne.getOrderById.shipping)||void 0===y?void 0:y.last_name,state:null===(N=ne.getOrderById.shipping)||void 0===N?void 0:N.state})})]})}),Object(U.jsx)("div",{className:"col-12",children:Object(U.jsxs)("div",{className:"card",children:[Object(U.jsx)("div",{className:"card-header",children:Object(U.jsx)("h3",{className:"card-title",children:"Detalles de cancelacion"})}),Object(U.jsx)("div",{className:"card-body",children:Object(U.jsx)(nn,{issues:"Otro"!==(null===(_=ne.getOrderById)||void 0===_||null===(w=_.reason)||void 0===w||null===(S=w.issusesDetails)||void 0===S?void 0:S.name)?null===(B=ne.getOrderById)||void 0===B||null===(C=B.reason)||void 0===C||null===(k=C.issusesDetails)||void 0===k?void 0:k.name:null===(P=ne.getOrderById)||void 0===P||null===(E=P.reason)||void 0===E?void 0:E.reason,user:(null===($=ne.getOrderById)||void 0===$||null===(A=$.reason)||void 0===A||null===(q=A.userDetails)||void 0===q?void 0:q.name)||"---",timestap:te()(null===(D=ne.getOrderById)||void 0===D||null===(Q=D.reason)||void 0===Q?void 0:Q.createdAt).format("LL hh:MM a")||"---"})})]})})]})}),Object(U.jsxs)("div",{className:"col-4",children:[Object(U.jsx)(Nr,{idOrder:X}),Object(U.jsx)(wr,{idOrder:X})]})]})]})})},cn=function(){var e=Object(g.useState)({searchQuery:null,limit:10,offset:0,platform:null}),t=Object(I.a)(e,2),a=t[0],r=t[1],n=Object(g.useState)(0),s=Object(I.a)(n,2),c=s[0],i=s[1],o=Object(F.a)(Jr,{variables:{searchQuery:a.searchQuery,limit:a.limit,offset:a.offset,platform:a.platform}}),l=o.loading,d=o.error,u=o.data,m=Object(g.useState)([]),b=Object(I.a)(m,2),j=b[0],p=b[1];return Object(g.useEffect)((function(){if(!l){if(d)return J({mode:"errorModal",message:d.message});var e=u.getCollectOrders.rows.map((function(e){var t,a,r,n,s,c,i,o;return{id:e.id?e.id:"--","Hora y fecha":te()(null===e||void 0===e?void 0:e.order_date).format("L")+", "+te()(null===e||void 0===e?void 0:e.order_date).format("LT")||"--",Plataforma:(null===(t=e.platform)||void 0===t?void 0:t.name)||"--",Tipo:(null===(a=e.type)||void 0===a?void 0:a.name)||"--","Plataforma de cobro":(null===(r=e.payment)||void 0===r?void 0:r.platform)||"--","No. de cobro":(null===(n=e.payment)||void 0===n?void 0:n.payment_id)||"--",Cliente:"".concat(null===(s=e.shipping)||void 0===s?void 0:s.first_name," ").concat(null===(c=e.shipping)||void 0===c?void 0:c.last_name),"Numero de venta":e.order_id?e.order_id:"--",Tienda:(null===e||void 0===e||null===(i=e.store)||void 0===i?void 0:i.name)||(null===e||void 0===e||null===(o=e.warehouse)||void 0===o?void 0:o.name)||"--"}}));i(u.getCollectOrders.count),p(e)}}),[l,d,u]),Object(U.jsxs)(U.Fragment,{children:[Object(U.jsx)(Qe,{title:"Por recolectar",breadcrumb:"Pedidos por recolectar",windowTitle:"Por recolectar"}),Object(U.jsx)(Je,{data:j,title:"Por recolectar",requery:Jr,editText:"Tomar Orden",totalCount:c,pagePagination:a,setPagePagination:r,platformSelector:!0,loadingData:l})]})},on=Object(Z.d)(an||(an=Object(W.a)(["\nquery GetInRouteOrders($searchQuery: String, $limit: Int, $offset: Int, $platform: Int) {\n  getInRouteOrders(searchQuery: $searchQuery, limit: $limit, offset: $offset, platform: $platform) {\n    rows {\n      id\n      platform_id\n      platform {\n        name\n        id\n      }\n      type {\n        name\n      }\n      payment {\n        platform\n        payment_id\n      }\n      store {\n        name\n      }\n      warehouse {\n        name\n      }\n      shipping {\n        first_name\n        last_name\n      }\n      order_id\n      order_date\n    }\n    count\n  }\n}\n"]))),ln=Object(Z.d)(rn||(rn=Object(W.a)(["\n  mutation ChangeToInRoute($orderId: Int!) {\n    changeToInRoute(order_id: $orderId) {\n      id\n      status {\n        id\n        name\n      }\n    }\n  }\n"]))),dn=function(){var e,t,a,r,n,s,c,i,o,l,d,u,m,b,j,p,O,v,h,f,x,y=Object(T.i)(),N=y.id,_=y.show,w=Object(T.g)(),S=Object(g.useState)(!1),B=Object(I.a)(S,2),C=B[0],k=B[1],E=Object(g.useState)(0),A=Object(I.a)(E,2),q=A[0],D=A[1],Q=Object(F.a)(Ma,{variables:{id:parseInt(N)}}),R=Q.data,L=Q.loading,M=Q.error;Object(g.useEffect)((function(){if(!L){var e,t,a,r,n,s;if(M)return J({mode:"error",message:M.message},w.push("/orders/local"));if(!R.getOrderById)return J({mode:"error",message:"Esta orden no existe"},w.push("/orders/local"));if(12===(null===R||void 0===R||null===(e=R.getOrderById)||void 0===e||null===(t=e.status)||void 0===t?void 0:t.id))return J({mode:"error",message:"Esta orden ha sido rechazada"},w.push("/orders/local"));if(8!==(null===R||void 0===R||null===(a=R.getOrderById)||void 0===a||null===(r=a.status)||void 0===r?void 0:r.id))return J({mode:"error",message:"Esta orden no esta en recoleccion"},w.push("/orders/local"));var c=R.getOrderById;(null!==(n=c.store)&&void 0!==n&&n.name||null!==(s=c.warehouse)&&void 0!==s&&s.name)&&k(!0),D(c.order_id)}}),[R,L,M]);var z=Object(De.a)(zr),G=Object(I.a)(z,1)[0],V=Object(De.a)(ln),W=Object(I.a)(V,1)[0],Z=function(){var e=Object(P.a)($.a.mark((function e(){var t;return $.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,G({variables:{orderId:parseInt(N)},refetchQueries:[{query:Jr}]});case 3:t=e.sent,t.data.changeToProcess&&H.a.fire({title:"Bien",text:"Pedido procesado",icon:"success",allowOutsideClick:!1,buttonsStyling:!1,confirmButtonText:'<i class="fas fa-check"> Aceptar </i>',customClass:{confirmButton:"btn btn-sm btn-accept"}}).then((function(e){e.isConfirmed&&w.goBack()})),e.next=11;break;case 8:return e.prev=8,e.t0=e.catch(0),e.abrupt("return",J({mode:"errorModal",message:e.t0.message}));case 11:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(){return e.apply(this,arguments)}}(),Y=function(){var e=Object(P.a)($.a.mark((function e(){var t;return $.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,W({variables:{orderId:parseInt(N)},refetchQueries:[{query:Jr}]});case 3:t=e.sent,t.data.changeToInRoute&&H.a.fire({title:"Bien",text:"Pedido procesado",icon:"success",allowOutsideClick:!1,buttonsStyling:!1,confirmButtonText:'<i class="fas fa-check"> Aceptar </i>',customClass:{confirmButton:"btn btn-sm btn-accept"}}).then((function(e){e.isConfirmed&&w.goBack()})),e.next=11;break;case 8:return e.prev=8,e.t0=e.catch(0),e.abrupt("return",J({mode:"errorModal",message:e.t0.message}));case 11:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(){return e.apply(this,arguments)}}(),K=function(){var e=Object(P.a)($.a.mark((function e(){return $.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return te.a.locale("es"),Object(U.jsx)(U.Fragment,{children:(null===R||void 0===R?void 0:R.getOrderById)&&!L&&8===(null===R||void 0===R||null===(e=R.getOrderById)||void 0===e||null===(t=e.status)||void 0===t?void 0:t.id)&&Object(U.jsxs)(U.Fragment,{children:[Object(U.jsx)(Qe,{title:"Orden por recolectar",breadcrumb:"Por recolectar",windowTitle:"".concat(N?"Editar":"Agregar"," orden ")}),Object(U.jsxs)("div",{className:"row",children:[Object(U.jsx)("div",{className:"col-8",children:Object(U.jsxs)("div",{className:"row",children:[Object(U.jsx)("div",{className:"col-12",children:Object(U.jsxs)("div",{className:"card",children:[Object(U.jsx)("div",{className:"card-header",children:Object(U.jsx)("h3",{className:"card-title",children:"Detalles"})}),Object(U.jsx)("div",{className:"card-body col-12",children:Object(U.jsx)(Ja,{orderDate:te()(null===R||void 0===R||null===(a=R.getOrderById)||void 0===a?void 0:a.order_date).format("LLL"),orderId:null===R||void 0===R||null===(r=R.getOrderById)||void 0===r?void 0:r.order_id,paymentId:null===R||void 0===R||null===(n=R.getOrderById)||void 0===n?void 0:n.payment.payment_id,platform:null===R||void 0===R||null===(s=R.getOrderById)||void 0===s?void 0:s.platform.name})})]})}),Object(U.jsx)("div",{className:"col-12",children:Object(U.jsxs)("div",{className:"card",children:[Object(U.jsx)("div",{className:"card-header",children:Object(U.jsx)("h3",{className:"card-title",children:"Detalles de pago"})}),Object(U.jsx)("div",{className:"card-body",children:Object(U.jsx)(Wa,{orderType:null===(c=R.getOrderById.type)||void 0===c?void 0:c.name,orderStore:(null===(i=R.getOrderById.store)||void 0===i?void 0:i.name)||(null===(o=R.getOrderById.warehouse)||void 0===o?void 0:o.name),orderPaymentPlatform:null===(l=R.getOrderById.payment)||void 0===l?void 0:l.platform,orderMethod:null===(d=R.getOrderById.method)||void 0===d?void 0:d.name,withStore:C,totalPrice:R.getOrderById.total_price,shippingPrice:R.getOrderById.shipping_price,status:null===R||void 0===R||null===(u=R.getOrderById)||void 0===u||null===(m=u.status)||void 0===m?void 0:m.id})})]})}),Object(U.jsx)("div",{className:"col-12",children:Object(U.jsxs)("div",{className:"card",children:[Object(U.jsx)("div",{className:"card-header",children:Object(U.jsx)("h3",{className:"card-title",children:"Desgloce de productos"})}),Object(U.jsx)("div",{className:"card-body",children:Object(U.jsx)(gr,{productsArray:R.getOrderById.products,totalQuantity:R.getOrderById.product_quantity})})]})}),Object(U.jsx)("div",{className:"col-12",children:Object(U.jsxs)("div",{className:"card",children:[Object(U.jsx)("div",{className:"card-header",children:Object(U.jsx)("h3",{className:"card-title",children:"Detalles de env\xedo"})}),Object(U.jsx)("div",{className:"card-body",children:Object(U.jsx)(Za,{city:null===(b=R.getOrderById.shipping)||void 0===b?void 0:b.city,address:null===(j=R.getOrderById.shipping)||void 0===j?void 0:j.address_1,postcode:null===(p=R.getOrderById.shipping)||void 0===p?void 0:p.postcode,email:null===(O=R.getOrderById.shipping)||void 0===O?void 0:O.email,phone:null===(v=R.getOrderById.shipping)||void 0===v?void 0:v.phone,firstName:null===(h=R.getOrderById.shipping)||void 0===h?void 0:h.first_name,lastName:null===(f=R.getOrderById.shipping)||void 0===f?void 0:f.last_name,state:null===(x=R.getOrderById.shipping)||void 0===x?void 0:x.state})})]})}),!_&&Object(U.jsx)(Ya,{firstButtonGray:!0,cancelBtn:"Imprimir",onCancel:function(){return w.push("/orders/pending")},processBtn:"Entregar",onProcess:function(){return 2!==R.getOrderById.type_id?K():"Fast"===(null===(e=R.getOrderById.method)||void 0===e?void 0:e.name)||"UDirect"===(null===(t=R.getOrderById.method)||void 0===t?void 0:t.name)?Y():"Picking"===(null===(a=R.getOrderById.method)||void 0===a?void 0:a.name)?Z():void 0;var e,t,a}})]})}),Object(U.jsxs)("div",{className:"col-4",children:[Object(U.jsx)(Nr,{idOrder:q}),Object(U.jsx)(wr,{idOrder:q})]})]})]})})},un=function(){var e=Object(g.useState)({searchQuery:null,limit:10,offset:0,platform:null}),t=Object(I.a)(e,2),a=t[0],r=t[1],n=Object(g.useState)(0),s=Object(I.a)(n,2),c=s[0],i=s[1],o=Object(F.a)(on,{variables:{searchQuery:a.searchQuery,limit:a.limit,offset:a.offset,platform:a.platform}}),l=o.loading,d=o.error,u=o.data,m=Object(g.useState)([]),b=Object(I.a)(m,2),j=b[0],p=b[1];return Object(g.useEffect)((function(){if(!l){if(d)return J({mode:"errorModal",message:d.message});var e=u.getInRouteOrders.rows.map((function(e){var t,a,r,n,s,c,i,o;return{id:e.id?e.id:"--","Hora y fecha":te()(null===e||void 0===e?void 0:e.order_date).format("L")+", "+te()(null===e||void 0===e?void 0:e.order_date).format("LT")||"--",Plataforma:(null===(t=e.platform)||void 0===t?void 0:t.name)||"--",Tipo:(null===(a=e.type)||void 0===a?void 0:a.name)||"--","Plataforma de cobro":(null===(r=e.payment)||void 0===r?void 0:r.platform)||"--","No. de cobro":(null===(n=e.payment)||void 0===n?void 0:n.payment_id)||"--",Cliente:"".concat(null===(s=e.shipping)||void 0===s?void 0:s.first_name," ").concat(null===(c=e.shipping)||void 0===c?void 0:c.last_name),"Numero de venta":e.order_id?e.order_id:"--",Tienda:(null===e||void 0===e||null===(i=e.store)||void 0===i?void 0:i.name)||(null===e||void 0===e||null===(o=e.warehouse)||void 0===o?void 0:o.name)||"--"}}));i(u.getInRouteOrders.count),p(e)}}),[l,d,u]),Object(U.jsxs)(U.Fragment,{children:[Object(U.jsx)(Qe,{title:"En ruta",breadcrumb:"Pedidos por en ruta",windowTitle:"En ruta"}),Object(U.jsx)(Je,{data:j,title:"En ruta",requery:on,editText:"Tomar Orden",totalCount:c,pagePagination:a,setPagePagination:r,platformSelector:!0,loadingData:l})]})},mn=function(){var e,t,a,r,n,s,c,i,o,l,d,u,m,b,j,p,O,v,h,f,x,y,N=Object(T.i)(),_=N.id,w=N.show,S=Object(T.g)(),B=Object(g.useState)(0),C=Object(I.a)(B,2),k=C[0],E=C[1],A=Object(g.useState)(!1),q=Object(I.a)(A,2),D=q[0],Q=q[1],R=Object(F.a)(Ma,{variables:{id:parseInt(_)}}),L=R.data,M=R.loading,z=R.error;Object(g.useEffect)((function(){if(!M){var e,t,a,r,n,s;if(z)return J({mode:"error",message:z.message},S.push("/orders/local"));if(!L.getOrderById)return J({mode:"error",message:"Esta orden no existe"},S.push("/orders/local"));if(12===(null===L||void 0===L||null===(e=L.getOrderById)||void 0===e||null===(t=e.status)||void 0===t?void 0:t.id))return J({mode:"error",message:"Esta orden ha sido rechazada"},S.push("/orders/local"));if(7!==(null===L||void 0===L||null===(a=L.getOrderById)||void 0===a||null===(r=a.status)||void 0===r?void 0:r.id))return J({mode:"error",message:"Esta orden no esta en ruta"},S.push("/orders/local"));var c=L.getOrderById;(null!==(n=c.store)&&void 0!==n&&n.name||null!==(s=c.warehouse)&&void 0!==s&&s.name)&&Q(!0),E(c.order_id)}}),[L,M,z]);var G=Object(De.a)(zr),V=Object(I.a)(G,1)[0],W=Object(De.a)(en),Z=Object(I.a)(W,1)[0],Y=function(){var e=Object(P.a)($.a.mark((function e(){var t;return $.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,V({variables:{orderId:parseInt(_)},refetchQueries:[{query:on}]});case 3:t=e.sent,t.data.changeToShipped&&H.a.fire({title:"Bien",text:"Pedido procesado",icon:"success",allowOutsideClick:!1,buttonsStyling:!1,confirmButtonText:'<i class="fas fa-check"> Aceptar </i>',customClass:{confirmButton:"btn btn-sm btn-accept"}}).then((function(e){e.isConfirmed&&S.goBack()})),e.next=11;break;case 8:return e.prev=8,e.t0=e.catch(0),e.abrupt("return",J({mode:"errorModal",message:e.t0.message}));case 11:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(){return e.apply(this,arguments)}}(),K=function(){var e=Object(P.a)($.a.mark((function e(){var t;return $.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Z({variables:{orderId:parseInt(_)},refetchQueries:[{query:on}]});case 3:t=e.sent,t.data.changeToReturned&&H.a.fire({title:"Bien",text:"Pedido procesado",icon:"success",allowOutsideClick:!1,buttonsStyling:!1,confirmButtonText:'<i class="fas fa-check"> Aceptar </i>',customClass:{confirmButton:"btn btn-sm btn-accept"}}).then((function(e){e.isConfirmed&&S.goBack()})),e.next=11;break;case 8:return e.prev=8,e.t0=e.catch(0),e.abrupt("return",J({mode:"errorModal",message:e.t0.message}));case 11:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(){return e.apply(this,arguments)}}();return te.a.locale("es"),Object(U.jsx)(U.Fragment,{children:(null===L||void 0===L?void 0:L.getOrderById)&&!M&&7===(null===L||void 0===L||null===(e=L.getOrderById)||void 0===e||null===(t=e.status)||void 0===t?void 0:t.id)&&Object(U.jsxs)(U.Fragment,{children:[Object(U.jsx)(Qe,{title:"Orden en ruta",breadcrumb:"En ruta",windowTitle:"".concat(_?"Editar":"Agregar"," orden ")}),Object(U.jsxs)("div",{className:"row",children:[Object(U.jsx)("div",{className:"col-8",children:Object(U.jsxs)("div",{className:"row",children:[Object(U.jsx)("div",{className:"col-12",children:Object(U.jsxs)("div",{className:"card",children:[Object(U.jsx)("div",{className:"card-header",children:Object(U.jsx)("h3",{className:"card-title",children:"Detalles"})}),Object(U.jsx)("div",{className:"card-body col-12",children:Object(U.jsx)(Ja,{orderDate:te()(null===L||void 0===L||null===(a=L.getOrderById)||void 0===a?void 0:a.order_date).format("LLL"),orderId:null===L||void 0===L||null===(r=L.getOrderById)||void 0===r?void 0:r.order_id,paymentId:null===L||void 0===L||null===(n=L.getOrderById)||void 0===n?void 0:n.payment.payment_id,platform:null===L||void 0===L||null===(s=L.getOrderById)||void 0===s?void 0:s.platform.name})})]})}),Object(U.jsx)("div",{className:"col-12",children:Object(U.jsxs)("div",{className:"card",children:[Object(U.jsx)("div",{className:"card-header",children:Object(U.jsx)("h3",{className:"card-title",children:"Detalles de pago"})}),Object(U.jsx)("div",{className:"card-body",children:Object(U.jsx)(Wa,{orderType:null===(c=L.getOrderById.type)||void 0===c?void 0:c.name,orderStore:(null===(i=L.getOrderById.store)||void 0===i?void 0:i.name)||(null===(o=L.getOrderById.warehouse)||void 0===o?void 0:o.name),orderPaymentPlatform:null===(l=L.getOrderById.payment)||void 0===l?void 0:l.platform,orderMethod:null===(d=L.getOrderById.method)||void 0===d?void 0:d.name,withStore:D,totalPrice:L.getOrderById.total_price,shippingPrice:L.getOrderById.shipping_price,status:null===L||void 0===L||null===(u=L.getOrderById)||void 0===u||null===(m=u.status)||void 0===m?void 0:m.id})})]})}),Object(U.jsx)("div",{className:"col-12",children:Object(U.jsxs)("div",{className:"card",children:[Object(U.jsx)("div",{className:"card-header",children:Object(U.jsx)("h3",{className:"card-title",children:"Desgloce de productos"})}),Object(U.jsx)("div",{className:"card-body",children:Object(U.jsx)(gr,{productsArray:L.getOrderById.products,totalQuantity:L.getOrderById.product_quantity})})]})}),Object(U.jsx)("div",{className:"col-12",children:Object(U.jsxs)("div",{className:"card",children:[Object(U.jsx)("div",{className:"card-header",children:Object(U.jsx)("h3",{className:"card-title",children:"Detalles de env\xedo"})}),Object(U.jsx)("div",{className:"card-body",children:Object(U.jsx)(Za,{city:null===(b=L.getOrderById.shipping)||void 0===b?void 0:b.city,address:null===(j=L.getOrderById.shipping)||void 0===j?void 0:j.address_1,postcode:null===(p=L.getOrderById.shipping)||void 0===p?void 0:p.postcode,email:null===(O=L.getOrderById.shipping)||void 0===O?void 0:O.email,phone:null===(v=L.getOrderById.shipping)||void 0===v?void 0:v.phone,firstName:null===(h=L.getOrderById.shipping)||void 0===h?void 0:h.first_name,lastName:null===(f=L.getOrderById.shipping)||void 0===f?void 0:f.last_name,state:null===(x=L.getOrderById.shipping)||void 0===x?void 0:x.state})})]})}),!w&&"UDirect"!==(null===(y=L.getOrderById.method)||void 0===y?void 0:y.name)&&Object(U.jsx)(Ya,{cancelBtn:"Orden devuelta",onCancel:K,processBtn:"Orden entregada",onProcess:Y})]})}),Object(U.jsxs)("div",{className:"col-4",children:[Object(U.jsx)(Nr,{idOrder:k}),Object(U.jsx)(wr,{idOrder:k})]})]})]})})},bn=function(e,t,a,r,n){var s={PendingOrders:Va,PendingOrdersNew:Er,InProcessOrders:$r,InProcessOrdersNew:qr,LocalShippingOrders:Ur,LocalShippingOrdersNew:Qr,NationalShippingOrders:Lr,NationalShippingOrdersNew:Mr,ShippedOrders:Gr,ShippedOrdersNew:Vr,ToStockOrders:Hr,ToStockOrdersNew:Zr,BillingOrders:Yr,BillingOrdersNew:Kr,RejectedOrders:tn,RejectedOrdersNew:sn,CollectOrders:cn,CollectOrdersNew:dn,InRouteOrders:un,InRouteOrdersNew:mn},c=[];return t&&c.push(Object(U.jsx)(ge,{exact:!0,path:"".concat(r.module_info.relative_link).concat(r.submodule_info.relative_link,"/new"),component:s["".concat(r.submodule_info.name,"New")],isAuth:n})),e&&(c.push(Object(U.jsx)(ge,{exact:!0,path:"".concat(r.module_info.relative_link).concat(r.submodule_info.relative_link),component:s[r.submodule_info.name],isAuth:n})),c.push(Object(U.jsx)(ge,{exact:!0,path:"".concat(r.module_info.relative_link).concat(r.submodule_info.relative_link,"/details/:id/:show"),component:s["".concat(r.submodule_info.name,"New")],isAuth:n}))),a&&c.push(Object(U.jsx)(ge,{exact:!0,path:"".concat(r.module_info.relative_link).concat(r.submodule_info.relative_link,"/edit/:id"),component:s["".concat(r.submodule_info.name,"New")],isAuth:n})),c},jn=function(){var e=Object(g.useContext)(w),t=e.user,a=e.dispatch,r=Object(De.a)(re),n=Object(I.a)(r,1)[0],s=Object(De.a)(de),c=Object(I.a)(s,1)[0],i=Object(g.useState)(!1),o=Object(I.a)(i,2),l=o[0],d=o[1],u=localStorage.getItem("token");return Object(g.useEffect)((function(){var e=function(){var e=Object(P.a)($.a.mark((function e(){var t,r,s,i,o,l;return $.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,d(!0),e.next=4,n({variables:{token:u}});case 4:return t=e.sent,r=t.data,s=r.decryptToken,e.next=9,c({variables:{userID:s.id}});case 9:return i=e.sent,o=i.data,e.next=13,o.getAllUserPermissions;case 13:l=e.sent,d(!1),a({type:B,payload:{logged:!0,idUser:s.id,role:s.role,email:s.email,avatar:s.avatar,userPermissions:l,name:s.name}}),e.next=23;break;case 18:e.prev=18,e.t0=e.catch(0),d(!1),sessionStorage.removeItem("user"),a({type:C});case 23:case"end":return e.stop()}}),e,null,[[0,18]])})));return function(){return e.apply(this,arguments)}}();u&&e()}),[Permissions,u]),Object(U.jsx)(U.Fragment,{children:l?Object(U.jsx)(Q,{}):Object(U.jsx)(A.a,{children:Object(U.jsxs)(T.d,{children:[Object(U.jsx)(Ne,{exact:!0,path:"/login",component:Ue,isAuth:t.logged}),Object(U.jsx)(Ne,{exact:!0,path:"/recuperar-contrase\xf1a",component:Fe,isAuth:t.logged}),Object(U.jsx)(Ne,{exact:!0,path:"/verificar/usuario/:token?",component:Le,isAuth:t.logged}),Object(U.jsx)(ge,{exact:!0,path:"/dashboard",component:Re,isAuth:t.logged}),Object(U.jsx)(ge,{exact:!0,path:"/",component:Re,isAuth:t.logged}),t.userPermissions?t.userPermissions.map((function(e){var a=e.access_read,r=e.access_retrieve,n=e.access_edit;return e.id_submodule?bn(a,r,n,e,t.logged):Ra(a,r,n,e,t.logged)})):null,")",localStorage.getItem("token")&&Object(U.jsx)(T.b,{component:Me,isAuth:!1}),!localStorage.getItem("token")&&Object(U.jsx)(Ne,{path:"*",exact:!0,component:Me,isAuth:!0})]})})})},pn=a(87),On=a(362),vn=a(360),hn=a.n(vn),fn=a(203),gn=hn()({uri:"http://127.0.0.1:4000/graphql"}),xn=Object(fn.a)((function(e,t){var a=t.headers,r=localStorage.getItem("token"),n=window.location.pathname;return{headers:Object(S.a)(Object(S.a)({},a),{},{authorization:r?"Bearer ".concat(r):"",requestPath:n})}})),yn=new pn.a({connectToDevTools:!0,cache:new On.a({addTypename:!1}),link:xn.concat(gn)});a(201).config();var Nn=function(){var e=Object(g.useReducer)(k,{}),t=Object(I.a)(e,2),a=t[0],r=t[1];return Object(U.jsx)(w.Provider,{value:{user:a,dispatch:r},children:Object(U.jsx)(_.a,{client:yn,children:Object(U.jsx)(jn,{})})})};N.a.render(Object(U.jsx)(Nn,{}),document.getElementById("root"))}},[[350,1,2]]]);
//# sourceMappingURL=main.4239ec4b.chunk.js.map